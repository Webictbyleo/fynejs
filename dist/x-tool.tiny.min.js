var t;function e(t,e=null){try{return t()}catch(t){return e}}!function(t){t[t.Identifier=0]="Identifier",t[t.Keyword=1]="Keyword",t[t.Punctuation=2]="Punctuation",t[t.String=3]="String",t[t.Comment=4]="Comment",t[t.Whitespace=5]="Whitespace",t[t.Number=6]="Number",t[t.Arrow=7]="Arrow",t[t.Conditional=8]="Conditional"}(t||(t={})),new Set(["as","interface","type","import","export","from","extends","implements","declare","namespace","module","any","unknown","never","void","number","string","boolean","symbol","bigint","object","enum","function","const","let","var"]);const n=Symbol("$_xtoolfynjsisReactive");function i(t){return t&&!0===t[n]}function o(t){if(!function(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function s(t,e){if(i(t))return t;const r=Array.isArray(t),c="undefined"!=typeof Set&&t instanceof Set,f="undefined"!=typeof Map&&t instanceof Map;if(!(r||c||f||o(t)))return t;if(e||(e={maxReactiveDepth:1/0}),e&&e.maxReactiveDepth&&e.maxReactiveDepth<=0)return t;if(t[n])return t;Object.defineProperty(t,n,{value:!0,enumerable:!1,configurable:!1,writable:!1}),Object.defineProperty(t,Symbol.for("ReactiveControl"),{value:e,enumerable:!1,configurable:!1,writable:!0});const u=(t,n)=>{if(e&&e.baseChangeListener&&e.baseChangeListener(t,n),e&&e.changeListeners&&e.changeListeners.length>0){const i=()=>{for(const i of e.changeListeners)i(t,n)};if(e.signal?.aborted)return;!function(t){let e;return function(...n){clearTimeout(e),e=window.setTimeout(()=>{e=void 0,t.apply(this,n)},10)}}(i)()}};return new Proxy(t,{set(t,n,i){const o=t[n];return"object"==typeof i&&null!==i&&(e&&e.maxReactiveDepth&&e.maxReactiveDepth>0&&(e.maxReactiveDepth-=1),i=s(i,e)),Reflect.set(t,n,i),o!==i&&u(o,i),!0},get(t,o,l){const h=Reflect.get(t,o,l);return o===Symbol.for("ReactiveControl")?h:(e&&e.depTracker&&(Symbol.iterator===o||r||f||c&&["size","length","size","keys","entries","values"].includes(o+"")||"string"==typeof o||"number"==typeof o)&&e.depTracker(e.trackerId??o),o===Symbol.toPrimitive?e=>{if("number"===e)return NaN;if(i(t)){const e=t.value;if(void 0!==e)return e}else{const e=t.value;if(void 0!==e&&i(e))return e}return"string"===e?r?"[]":c?"Set {}":f?"Map {}":"[object Object]":null}:"object"==typeof h&&null!==h&&!0===h[n]&&void 0!==h.value?h.value:"function"==typeof h?r&&["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"].includes(o)?function(...n){const i=t.slice(),s=Array.prototype[o].apply(t,n);return e&&u(i,t),s}:(c||f)&&["add","delete","clear","set"].includes(o)?function(...n){const i=c?new Set(t):new Map(t),s=(c?Set.prototype:Map.prototype)[o].apply(t,n);return e&&u(i,t),s}:h:"object"==typeof h&&null!==h?(e&&e.maxReactiveDepth&&e.maxReactiveDepth>0&&(e.maxReactiveDepth-=1),s(h,e)):h)},deleteProperty(t,e){const n=t[e],i=Reflect.deleteProperty(t,e);return i&&u(n,void 0),i}})}const r=Symbol("$_xtoolfynjsisComputed");function c(t=8){let e="";for(let n=0;n<t;n++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}function f(t){return!(!t||!0!==t[r])}function u(t){if(i(t))return t[Symbol.for("ReactiveControl")]}function l(t,e){i(t)&&Object.defineProperty(t,Symbol.for("ReactiveControl"),{value:e,enumerable:!1,configurable:!1,writable:!0})}function h(t){if(!i(t))return t;const e=Array.isArray(t),n="undefined"!=typeof Set&&t instanceof Set,s="undefined"!=typeof Map&&t instanceof Map;if(!(e||n||s||o(t)))return t;if(e)return t.map(t=>h(t));if(n){const e=new Set;return t.forEach(t=>{e.add(h(t))}),e}if(s){const e=new Map;return t.forEach((t,n)=>{e.set(n,h(t))}),e}const r={};for(const e in t)t.hasOwnProperty(e)&&(r[e]=h(t[e]));return r}const a=Array.isArray,d=WeakMap,p=queueMicrotask,y=function(){const t=e,n=t=>(t||"").trim(),o=Array.from,y=Object.keys;let m=null;const b=(t,e,n,i)=>{if(i){const i=t.style;null==n||!1===n?i.removeProperty(e):i.setProperty(e,n+"")}else null==n||!1===n?t.removeAttribute(e):!0===n?t.setAttribute(e,""):t.setAttribute(e,n+"")},w=(t,e,n,i)=>{const o=e.match(/^(.*)?\[([^\]]+)\](.*)$/);if(o){const[,e="",s,r=""]=o,c=s.split(",").map(t=>t.trim()).filter(Boolean),f=n&&"object"==typeof n&&!Array.isArray(n);for(const o of c){const s=e+o+r,c=f&&o in n?n[o]:n;b(t,s,c,i)}}else b(t,e,n,i)},v="style",g="display",_="none",x="tagName",M="TEMPLATE",S="length",$="source",E="readonly",j=Symbol("rawTarget"),A=(Symbol("ownerComponent"),new d),O=t=>t&&t[j]||t,C=new d;let R=0;const F=(t,e=5,n)=>{if(!t||"object"!=typeof t||e<=0)return 0;const i=O(t);if(n||(n=new WeakSet),n.has(i))return 0;n.add(i);let o=(t=>{let e=C.get(t);return void 0===e&&(e=++R,C.set(t,e)),e})(i)+(A.get(i)??0);try{for(const t in i){const s=i[t];s&&"object"==typeof s&&(o+=F(s,e-1,n))}}catch{}return o};let D=!0;const T="undefined"!=typeof document?document:null,k=["click","input","change","keydown","keyup"],P={enter:["enter"],esc:["escape","esc"],escape:["escape","esc"],space:[" ","space","spacebar"],tab:["tab"],backspace:["backspace"],delete:["delete","del"],del:["delete","del"],arrowup:["arrowup","up"],arrowdown:["arrowdown","down"],arrowleft:["arrowleft","left"],arrowright:["arrowright","right"],home:["home"],end:["end"],pageup:["pageup"],pagedown:["pagedown"]},N={left:0,middle:1,right:2},B=new Map,L=new d,I=Symbol("unwrapDomTarget");try{if(T&&T.head&&!T.getElementById("x-tool-initial-css")){const t=T.createElement(v);t.id="x-tool-initial-css",t.textContent="[x-show],[x-if],[x-else],[x-else-if],[x\\:show],[x\\:if],[x\\:else],[x\\:else-if]{display:none;}",T.head.appendChild(t)}}catch{}let z="x",U=new Map;const q=t=>{const e=U.get(t);if(e)return e;const n=`${z}-${t}`;return U.set(t,n),n};class W{attachToParent(t){this.t=t,t.i(this)}get id(){return this.o}get framework(){return this.u}get element(){return this.l}set element(t){this.l=t}get isBound(){return this.h}set isBound(t){this.h=t}get isMounted(){return this.p}set isMounted(t){this.p=t}get isDestroyed(){return this.m}set isDestroyed(t){this.m=t}v(t){this._=t,m=t}M(t,e){if(!i(e))return;const n=u(e);if(!n)return;const o=n.depTracker,s=n.baseChangeListener;n.trackerId=t,n.depTracker=e=>{if(this.S&&this.$.length){const e=this.$[this.$.length-1];let n=this.j.get(e);n||(n=new Set,this.j.set(e,n),this.A=null),n.add(t),this.A=null}o&&o(e)},n.baseChangeListener=(e,n)=>{s&&s(e,n),this.O(t)},l(e,n)}C(){for(const e of this.R.values())for(const n of e.values())t(n);this.R.clear()}F(){this.C()}D(t,e){const n=t;let i=e in n?e:null;if(!i){const t=e.replace(/-([a-z])/g,(t,e)=>e.toUpperCase());i=t in n?t:"readonly"===e.toLowerCase()&&"readOnly"in n?"readOnly":null}return{elAny:n,propName:i,isBooleanProp:!(!i||"boolean"!=typeof n[i]),hasNonFunctionProp:!(!i||"function"==typeof n[i]),isKnownBooleanAttr:!!W.T[e.toLowerCase()]}}k(e,n,i,o){const{elAny:s,propName:r,isBooleanProp:c,hasNonFunctionProp:f,isKnownBooleanAttr:u}=o;if(c&&r||u){const t=!!i;return r&&c&&(s[r]=t),void e.toggleAttribute(n,t)}let l=null;if(i&&"object"==typeof i){const t=[];for(const e in i)i[e]&&t.push(e);l=t.length?t.join(" "):null}else null!=i&&(l=i+"");if(f&&r)if(null!==l){if(s[r]===l)return;try{s[r]=l}catch{t(()=>e.setAttribute(n,l))}}else e.removeAttribute(n);else null!==l?e.getAttribute(n)!==l&&e.setAttribute(n,l):e.removeAttribute(n)}P(t,e){const n=z+"-",i=z+":",o=[];let s=!1,r=null;const c=t.getAttributeNames();for(let t=0;t<c.length;t++){const f=c[t];(f.startsWith(n)||f.startsWith(i)||f.startsWith("@")||f.startsWith(":")&&f.length>1)&&(e?.skipRootFor&&f===q("for")||(o.push(f),s||f!==q("text")&&f!==q("html")||(s=!0),r||f!==q("for")||(r=f)))}return{names:o,hasTextOrHtml:s,forName:r}}setFrozen(t){t!==this.N&&(this.N=t,t?(this.B=this.L,this.L=!0,this.F()):(null!==this.B?this.L=this.B:this.L=!1,this.B=null,this.I()))}U(t){t!==this.L&&(this.L=t,t&&this.F())}q(t,e){const n=this.W.get(t)||[];n.push(e),this.W.set(t,n)}constructor(e,o,s){this.name="ReactiveComponent",this.K=!1,this.H=!1,this.l=null,this.h=!1,this.p=!1,this.m=!1,this.V=!1,this.X=[],this.t=null,this.Z=!1,this.G={},this.J={},this.Y={},this.tt=new Map,this.j=new Map,this.A=null,this.et=new Map,this.$=[],this.S=!1,this.nt=!1,this.it=new Set,this.W=new Map,this.ot=new Set,this.st=new AbortController,this.R=new Map,this.rt=new d,this.ct=0,this.ft=0,this.ut=null,this.lt=new Map,this.ht=new Map,this.L=!1,this.N=!1,this.B=null,this.dt=!0,this.yt=!1,this.bt=new Set,this.wt=new Set,this.vt=null,this.gt=new Map,this._t=new Map,this._=null,this.xt=new WeakSet,this.Mt=!1,this.St=[],this.$t=null,this.Et=null,this.jt=new d,this.At={},this.Ot=null,this.Ct=null,this.Rt=null,this.Ft=t=>{const e=this.Dt[t];if(this.V&&"beforeMount"===t)return;"function"==typeof e&&(this.Tt(()=>this.kt(e,[])),"beforeMount"===t&&(this.V=!0));const i={mounted:"mounted",unmounted:"unmounted",updated:"updated",beforeUnmount:"before-unmount"}[t];if(i&&this.Pt(i),"mounted"===t&&this.Nt){const t=this.Nt;if(this.isDestroyed||!this.element||!this.element.isConnected)return;const e=()=>{const e=n(t),i=this.Bt(e),o=this.Lt();if(i){const t=this.It(i.paramsList,i.body,i.isBlock),e=i.paramsList.length?[this.element]:[],n=t.call(this.zt(void 0,this.element||void 0),o,...e.slice(0,i.paramsList.length));return void("function"==typeof n&&this.Ut(n))}const s=this.qt(e,-1!==e.indexOf(";")).call(o,this.zt(void 0,this.element||void 0));"function"==typeof s&&this.Ut(s)};this.Tt(()=>this.kt(e,[]))}},this.Ut=e=>{if("function"!=typeof e)return;const n=()=>{t(e),this.ot.delete(n)};return this.ot.add(n),()=>{this.ot.delete(n)}},o.name&&(this.name=o.name),this.o=e,this.u=s,this.G=o.closures||{},this.Wt=o.methods||{},this.J=this.Kt(o.computed||{},"computed"),this.Y=o.propEffects||{},this.Y&&Object.keys(this.Y).length&&(this.Y=this.Kt(this.Y,"prop")),this.Dt={mounted:o.mounted,unmounted:o.unmounted||o.destroyed,updated:o.updated,beforeMount:o.beforeMount,beforeUnmount:o.beforeUnmount||o.beforeDestroy,setup:o.setup},this.At=this.Ht(o.data||{}),this.Vt=this.Xt(this.At||{});try{const t=Object.keys(this.At||{});for(let e=0;e<t.length;e++){const n=t[e],o=this.At[n];i(o)&&this.M(n,o)}}catch{}this.Zt=this.Kt(this.Wt,"methods")}Ht(t,e){if(null===t||"object"!=typeof t)return t;if(i(t))return t;const n=e||new WeakMap;if(n.has(t))return n.get(t);if(a(t)){const e=[];n.set(t,e);for(let i=0;i<t.length;i++)e[i]=this.Ht(t[i],n);return e}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return RegExp(t.source,t.flags);if("undefined"!=typeof Map&&t instanceof Map){const e=new Map;return n.set(t,e),t.forEach((t,i)=>{e.set(this.Ht(i,n),this.Ht(t,n))}),e}if("undefined"!=typeof Set&&t instanceof Set){const e=new Set;return n.set(t,e),t.forEach(t=>e.add(this.Ht(t,n))),e}const o=Object.getPrototypeOf(t);if(o===Object.prototype||null===o){const e=Object.create(o);n.set(t,e);for(const i of Object.keys(t))e[i]=this.Ht(t[i],n);return e}return t}callBeforeMount(){this.V||(this.Ft("beforeMount"),this.V=!0)}Gt(){if(!this.isBound||this.L)return;const t=this;null!=t.$t&&(cancelAnimationFrame(t.$t),t.$t=null),t.tt.clear();const e=t.bt;for(const[,n]of t._t)for(const t of n)e.add(t);t.$t=requestAnimationFrame(()=>{if(t.$t=null,!t.isDestroyed&&!t.L){for(const n of e)t.Tt(n);e.clear(),t.I(),t.Ft("updated")}})}Jt(){const t=new Map;for(const[e,n]of this.j)for(const i of n){let n=t.get(i);n||(n=new Set,t.set(i,n)),n.add(e)}return t}Qt(){this.A=null}O(t){if(!this.isBound||!1===this.dt)return;const e=this,n=e._t.get(t);if(n){const t=e.bt,i=e.xt;for(const e of n)i.has(e)||t.add(e)}e.wt.add(t),e.yt?e.Yt():null==e.$t&&(e.$t=requestAnimationFrame(()=>{if(e.$t=null,e.isDestroyed||e.L)return;e.Yt();const t=e.bt;if(t.size>0){for(const n of t)e.Tt(n);t.clear(),e.Ft("updated")}}))}Yt(){if(!this.j.size||!this.wt.size)return void this.wt.clear();this.A||(this.A=this.Jt());const t=this.A,e=new Set,n=this.bt,i=Array.from(this.wt);this.wt.clear();let o=0;for(;o<i.length;){const n=i[o++],s=t.get(n);if(s)for(const t of s)e.has(t)||(e.add(t),i.push(t))}for(const t of e){const e=this._t.get(t);if(e)for(const t of e)n.add(t);const i=this.et.get(t);if(i&&"function"==typeof i.depTracker)try{i.depTracker(t)}catch{}this.tt.delete(t)}}te(t){try{const e=t+"";if(!/\[native code\]/.test(e)){let n=e.trim();return/^function[\s\(]/.test(n)||/^[\w\$_][\w\d\$_]*\s*=>/.test(n)||/^\(.*?\)\s*=>/.test(n)||(n="function "+n),{wrapper:Function("thisArg","argsArray","ctx","with(ctx){ const f = ("+n+"); return f.apply(thisArg, argsArray); }"),original:t}}}catch{}return{wrapper:null,original:t}}ee(t,e,n){const i=this.Lt();if(t)try{return t.call(i,i,n,this.zt(void 0,void 0))}catch{}return this.Tt(()=>e.apply(i,n))}Kt(t,e){const n={};for(const i in t||{}){const o=t[i];if("computed"===e)if(f(o)){const t=u(o);t&&this.et.set(i,t),n[i]=()=>o.value}else n[i]=()=>{const t=this.Lt();return o.call(t)};else{const{wrapper:t,original:s}=this.te(o),r="prop"===e,c=r?"prop:"+i:i;n[i]=(...e)=>{const n=this.vt,i=!r&&this.nt,o=!!r&&this.H;this.vt=c,r?this.H=!0:this.nt=!0;try{return this.ee(t,s,e)}finally{this.vt=n,r?this.H=o:this.nt=i}}}}return n}ne(t){if(this.ie(t),this.tt.has(t))return this.tt.get(t);this.S=!0,this.$.push(t),this.j.set(t,new Set),this.A=null;try{const e=this.J[t],n="function"==typeof e?e():void 0;return this.$.pop(),this.S=this.$.length>0,this.tt.set(t,n),n}catch(t){return this.$.pop(),void(this.S=this.$.length>0)}}ie(t){const e=m||this._;if(!e)return;e.oe=!0;let n=this._t.get(t);n||(n=new Set,this._t.set(t,n)),n.add(e);const i=this.$.length;if(this.S&&i){const e=this.$[i-1];let n=this.j.get(e);n||(n=new Set,this.j.set(e,n));const o=n.size;n.add(t),n.size!==o&&(this.A=null)}}I(){this.L||this.N||this.m||this.Mt||(this.Mt=!0,requestAnimationFrame(()=>{if(this.Et=null,this.Mt=!1,this.m||this.L)this.St?.length&&(this.St.length=0);else if(this.se(),this.St?.length){const e=this.St.splice(0);for(const n of e)t(n)}}))}Tt(t,e){try{return t()}catch(t){return e}}bindToElement(t){this.h||(this.l=t,this.V||this.callBeforeMount(),this.completeBinding())}getContext(t=!0){return this.Lt(t)}re(){this.l&&(t(()=>this.ce(this.l)),this.I())}completeBinding(){!this.h&&this.l&&(this.u.fe(this.l)||this.u.ue(this.l,this),this.h=!0,this.p=!0,this.ce(this.l),this.Dt.setup&&this.Tt(()=>this.kt(this.Dt.setup,[])),this.se(),this.Ft("mounted"))}i(t){this.X.includes(t)||this.X.push(t)}le(t){const e=this.X.indexOf(t);e>-1&&this.X.splice(e,1)}he(t){this.Nt=t||void 0}ae(t,e,n){let i=this.ht.get(t);i||(i=[],this.ht.set(t,i)),i.push({expr:e,parent:n})}Pt(e){const n=this.ht.get(e);if(!n||!n.length)return;const i=this;for(const{expr:e,parent:o}of n)t(()=>{try{const t=Function("ctx",`with(ctx){ ${e} }`),n=o.getContext(!0),s=o.zt(void 0,i.l||void 0);s.$component=i.Lt(!0),t.call(n,s)}catch(t){}})}kt(t,e,n){const i=this.Lt();if(n){if("function"!=typeof t)return;return t.apply(i,e)}try{const n=t+"";if(!/\[native code\]/.test(n)){let o=n.trim();/^function[\s\(]/.test(o)||/^[\w\$_][\w\d\$_]*\s*=>/.test(o)||/^\(.*?\)\s*=>/.test(o)||(o="function "+o);const s=Function("thisArg","argsArray","ctx","with(ctx){ const f = ("+o+"); return f.apply(thisArg, argsArray); }");try{return s.call(i,i,e,this.zt(void 0,void 0))}catch(n){return t.apply(i,e)}}}catch{}if("function"==typeof t)return t.apply(i,e)}destroy(){const e=this;if(!e.m){e.Ft("beforeUnmount");for(const t of e.X)t.isDestroyed||t.destroy();e.t&&e.t.le(e);for(const[n,i]of e.W)for(const o of i)"custom"===o.type&&o.customDirective?.unbind&&t(()=>o.customDirective.unbind(n,e));if(e.W.clear(),t(()=>e.st.abort()),e.st=new AbortController,e.C(),e.de(),e.tt.clear(),e.gt.clear(),e._t.clear(),e.Rt&&e.pe)for(const t of e.Rt._t.values())t.delete(e.pe);e.l&&e.u.ye(e.l),e.u.me(e),null!=e.$t&&(cancelAnimationFrame(e.$t),e.$t=null),null!=e.Et&&(cancelAnimationFrame(e.Et),e.Et=null),e.Ft("unmounted"),e.m=!0,e.p=!1,e.h=!1,e.X=[],e.t=null,e.be=new d,e.bt.clear(),e.l=null,p(()=>e.u.we(e.o)),e.Vt={},e.At={},e.Zt={},e.J={},e.Y={},e._=null,e.lt.clear(),e.it.clear(),e.j.clear(),e.et.clear(),e.A=null,e.ht.clear(),e.ut=null}}ve(t,e){let n=this.lt.get(t);n||(n=new Set,this.lt.set(t,n)),n.add(e)}ge(t,e){const n=this.lt.get(t);n&&(n.delete(e),0===n.size&&this.lt.delete(t))}_e(t,e){const n={name:t,payload:e,xe:!1,stopPropagation(){this.xe=!0}};let i=this;for(;i;){const e=i.lt.get(t);if(e&&e.size)for(const t of Array.from(e)){try{t.call(i.Lt(!0),n)}catch{}if(n.xe)return}i=i.t}}Me(t,e){if(!t||!e)return;this.Rt=e;const n=this.l;let i;try{i=Function("ctx","with(ctx){return ("+t+")}")}catch{return}const o={},s={};let r=!0;const c=()=>{let t;e.v(c);try{const o=e.zt(void 0,n);t=i.call(e.getContext(!0),o)}catch{t=null}if(e.v(null),t&&"object"==typeof t){this.Vt.$props=this.Vt.$props||{};const e=this.u.Se,n=[];for(const i in t){const c=t[i],f=o[i];this.Vt.$props[i]=c;let u=r||o[i]!==c;const l=null!==c&&"object"==typeof c;if(!u&&l&&(u=F(c)!==(s[i]??-1)),!u)continue;o[i]=c;const h=i in this.Y?this.Y[i]:void 0;h&&!this.L?n.push({eff:h,newVal:c,oldVal:f,key:i,isObjProp:l}):e?(this.K=!0,this.Vt[i]=c,this.K=!1,l&&(s[i]=F(c))):(this.O("$props"),l&&(s[i]=F(c)))}if(n.length>0){this.yt=!0;try{for(const{eff:t,newVal:e,oldVal:i,key:o,isObjProp:r}of n){const n=this.H;this.H=!0,this.K=!0;try{t(e,i)}finally{this.H=n,this.K=!1}r&&(s[o]=F(e))}}finally{this.yt=!1;const t=this.bt;if(t.size>0){for(const e of t)this.Tt(e);t.clear(),this.Ft("updated")}}}r=!1}};this.pe=c,c()}de(){for(const e of this.ot)t(e);this.ot.clear()}$e(t,e,n,i){const o=this.st.signal;if("boolean"==typeof i)t.addEventListener(e,n,{capture:i,signal:o});else if(i){const s=i.signal&&i.signal!==o?i:{...i,signal:o};t.addEventListener(e,n,s)}else t.addEventListener(e,n,{signal:o})}Ee(t){let e=this.rt.get(t);return e||(e=(++this.ct).toString(36),this.rt.set(t,e)),e}ce(t){const e=this,n=(t,n=!1)=>{const i=q("ref");if(!n&&this.u.fe(t))return t.hasAttribute(i)&&(e.je(t,t.getAttribute(i)||""),t.removeAttribute(i)),!1;if(!n&&t.hasAttribute(q("data")))return!1;const o="COMPONENT"===t[x];let s,r,c;const f=t.Ae;if(f&&f.length>0){for(const{name:e,value:n}of f)t.setAttribute(e,n);s=f.map(t=>t.name),r=s.some(t=>t===q("text")||t===q("html")),c=s.find(t=>t===q("for"))||null}else{const n=e.P(t);if(s=n.names,r=n.hasTextOrHtml,c=n.forName,s.length>0){const e=[];for(const n of s)e.push({name:n,value:t.getAttribute(n)||""});t.Ae=e}}if(s.length>0){if(c)return e.Oe(t,c,t.getAttribute(c)||""),!1;const n=[],i=[];for(const t of s)t.startsWith(z+"-transition")||t.startsWith(z+":transition")?n.push(t):i.push(t);for(const i of n)e.Oe(t,i,t.getAttribute(i)||"");for(const n of i)e.Oe(t,n,t.getAttribute(n)||"")}return n||!o};n(t,!0),e.Ce(t,n)}Re(t){}Ce(t,e){let n=t.firstElementChild;for(;n;){const t=n.nextElementSibling;e(n)&&this.Ce(n,e),n=t}}Fe(t,e){if(t[x]!==M)return t;const n=e.slice(z.length+1);if("for"===n||"if"===n||"else-if"===n||"else"===n)return t;const i=t,o=i.content,s=Array.from(o.children);let r;1===s.length?r=s[0].cloneNode(!0):(r=T.createElement("div"),r.style.setProperty(g,"contents","important"),r.appendChild(o.cloneNode(!0)));for(const t of Array.from(i.attributes))t.name!==e&&r.setAttribute(t.name,t.value);return i.parentNode?.insertBefore(r,i),i.parentNode?.removeChild(i),this.framework.De(r,this),this.framework.Te(),this.ce(r),r}Oe(t,e,n){const i=this;t=i.Fe(t,e);const o=e.startsWith("@");if(e.startsWith(":")){const o=e.slice(1);if(o)return t.removeAttribute(e),i.ke(t,o,n)}const s=e.startsWith(z+":"),r=o?"on:"+e.slice(1):e.slice(z.length+1);if(!o&&(s||"class"===r||r===v))return t.removeAttribute(e),i.ke(t,r,n);if(!o&&("text"===r||"html"===r||"show"===r))return i.Pe(t,n,r,e);if(o||"else"!==r&&"else-if"!==r){if(!o&&"COMPONENT"===t[x]){const t="mounted"===r||"unmounted"===r||"updated"===r||"before-unmount"===r,e="prop"===r||r.startsWith("prop:");if(t||e)return}if(t.removeAttribute(e),!o&&"ref"===r)return i.je(t,n);if(!o&&"if"===r)return i.Ne(t,n);if(!o&&"model"===r)return i.Be(t,n);if("for"===r)return i.Le(t,n);if(o||r.indexOf(":")>-1){const[e,o]=r.split(":",2),[s,...c]=o.split("."),f=c.reduce((t,e)=>(e&&(t[e]=!0),t),{});if("on"===e){const e=i.framework.Ie(s);return e?i.ze(t,s,n,e,f):i.Ue(t,s,n,f)}return i.ke(t,s,n)}}}je(t,e){}qe(t){}We(t,e,n,i){}Ke(t,e){const n=()=>{this._=n,m=n;try{t()}finally{this._=null,m=null}};return n(),this.it.add(n),D&&e&&void 0===e.He&&(e.He=!n.oe),n}Ve(t,e,n,i){}Xe(t,e,n,i){return e?n?t.style.setProperty("display",n,"important"):t.style.removeProperty("display"):t.style.setProperty("display",_,"important"),void(i&&i())}Pe(t,e,n,i){if("class"===n||n===v)return this.ke(t,n,e);const o=this.Ze(e,t);let s,r,c=!0;if("show"===n){const e=t;s=e.style[g]!==_?e.style[g]:void 0}const f={type:n,expression:e,update:void 0,originalDisplay:s};this.q(t,f);const u=this.Ke(()=>{const e=o(),f=t;switch(n){case"text":f.textContent=e+"";break;case"html":f.innerHTML=(e||"")+"";break;case"show":const t=!!e;if(r===t)return;r=t,this.Xe(f,t,s)}c&&i&&(t.removeAttribute(i),c=!1)},f);f.update=u}Be(t,e){const n="checkbox"===t.type,i="number"===t.type||"range"===t.type,o="SELECT"===t.tagName&&!0===t.multiple;e in this.Vt||(this.Vt[e]=void 0);const s=this.Ze(e,t),r=this.qt(e+" = $value",!0),c=n?(()=>{if(t.hasAttribute("value"))return t.value;const e=this.Ge(t);if(e){const t=Object.keys(e);if(1===t.length)return e[t[0]]}return t.value})():void 0;this.Ke(()=>(e=>{if(n)if(Array.isArray(e)){const n=t.hasAttribute("value")?t.value:c;t.checked=null!=n&&e.includes(n)}else t.checked=!!e;else{if(o){const n=t,i=Array.isArray(e)?e:[],o=n.options;for(let t=0;t<o.length;t++)o[t].selected=i.includes(o[t].value);return}t.value=(e??(i?0:""))+""}})(s()));const f=this.zt(void 0,t),u=t.type,l="SELECT"===t[x]||"checkbox"===u||"radio"===u||"file"===u?"change":"input";this.$e(t,l,()=>{const e=(()=>{if(n){const e=s();return Array.isArray(e)&&void 0!==c?t.checked?c:void 0:t.hasAttribute("value")?t.checked?t.value:void 0:t.checked}if(o){const e=[],n=t.options;for(let t=0;t<n.length;t++)n[t].selected&&e.push(n[t].value);return e}return i?parseFloat(t.value)||0:t.value})(),u=this.Tt(()=>s());if(n&&Array.isArray(u)){const e=t.hasAttribute("value")?t.value:c;if(void 0!==e){const n=u.indexOf(e);t.checked?-1===n&&u.push(e):n>-1&&u.splice(n,1)}}else o&&Array.isArray(u)?u.splice(0,u.length,...e):(f.$value=e,this.Tt(()=>{r.call(this.Lt(),f)}))}),this.q(t,{type:"model",property:e})}Ne(e,n){const i=this;e.parentNode||T.createDocumentFragment().appendChild(e);const s=T.createComment("x-if");e.parentNode?.insertBefore(s,e),e.Je=s,e.Qe=s.parentElement||null;const r=[],c=(t=>{if(t[x]===M){const e=t.content,n=o(e.children);if(1===n.length){const t=n[0].cloneNode(!0);return{branch:{el:t,isTemplate:!0,originalDisplay:t.style[g]!==_?t.style[g]:void 0,isFragment:!1}}}if(n.length>1)return{branch:{anchor:T.createComment("x-if-branch"),nodes:[],endMarker:T.createComment("/x-if-branch"),isTemplate:!0,isFragment:!0},templateChildren:n};const i=T.createElement("div");return i.style[g]=_,{branch:{el:i,isTemplate:!0,originalDisplay:_,isFragment:!1}}}const e=t.style[g]!==_?t.style[g]:void 0,n=t.Ae;if(n){const e=q("if"),i=q("else-if"),o=q("else");t.Ae=n.filter(t=>t.name!==e&&t.name!==i&&t.name!==o)}return{branch:{el:t,isTemplate:!1,originalDisplay:e,isFragment:!1}}})(e),f=i.Ze(n,e);r.push({...c.branch,test:f});const u=[c.templateChildren||null],l=[e];let h=-1;for(const t of l)t.parentNode&&t.parentNode.removeChild(t);const a=t=>{if(t<0)return;const n=r[t],o=i.Ge(s.parentElement);if(n.isFragment){const r=u[t];if(!r)return;if(n.nodes=r.map(t=>t.cloneNode(!0)),o){n.anchor.Ye=o;for(const t of n.nodes)t.Ye=o}for(const t of n.nodes)t.tn||(i.ce(t),t.tn=!0);const c=s.nextSibling;s.parentNode?.insertBefore(n.anchor,c);for(const t of n.nodes)s.parentNode?.insertBefore(t,c);s.parentNode?.insertBefore(n.endMarker,c);for(const t of n.nodes)i.framework.De(t,i);e.en=n.anchor}else if(o&&(n.el.Ye=o),n.el.nn){const t=e.en;t&&t!==n.el&&t.parentNode&&t.parentNode.removeChild(t),n.el.parentNode||s.parentNode?.insertBefore(n.el,s.nextSibling),e.en=n.el,n.el.nn=!1,i.sn(n.el),i.Xe(n.el,!0,n.originalDisplay)}else{const t=q("data"),o=n.el.hasAttribute(t)&&!i.framework.fe(n.el);o?i.framework.rn(n.el,i):n.el.tn||(i.ce(n.el),n.el.tn=!0);const r=e.en;r&&r.parentNode&&r.parentNode.removeChild(r),n.el.parentNode||s.parentNode?.insertBefore(n.el,s.nextSibling),e.en=n.el,o&&i.framework.Te(),i.Xe(n.el,!0,n.originalDisplay),i.framework.De(n.el,i)}h=t},d=i.Ke(()=>{let e=-1;for(let t=0;t<r[S];t++){const n=r[t];if(!n.test||n.test()){e=t;break}}e!==h&&(-1!==h?((e,n)=>{if(e<0)return void(n&&n());const o=r[e];if(h=-1,o.isFragment){for(const e of o.nodes){i.cn(e);const n=e.querySelectorAll("component[source]");for(const e of n){const n=i.framework.fe(e);n&&!n.isDestroyed&&t(()=>{i.framework.me(n),n.destroy()})}e.tn=!1,e.parentNode&&e.parentNode.removeChild(e)}o.anchor.parentNode&&o.anchor.parentNode.removeChild(o.anchor),o.endMarker.parentNode&&o.endMarker.parentNode.removeChild(o.endMarker),o.nodes=[],n&&n()}else o.el.parentNode?(i.fn(o.el),o.el.nn=!0,i.Xe(o.el,!1,o.originalDisplay,()=>{o.el.nn?(o.el.parentNode&&o.el.parentNode.removeChild(o.el),n&&n()):n&&n()})):n&&n()})(h,()=>a(e)):a(e))});i.q(e,{type:"if",expression:n,update:d})}Ue(t,e,i,o){const s=this,r=n(i),c=o?{once:!!o.once,passive:!!o.passive,capture:!!o.capture}:void 0,f=!!o?.self,u=!!o?.prevent,l=!!o?.stop,h=!!o?.outside,a=!!o?.window,d=!!o?.defer,m={ctrl:!!o?.ctrl,alt:!!o?.alt,shift:!!o?.shift,meta:!!o?.meta},b=!!o?.single,w=!!o?.multi,v=o?y(o):[],g=[];for(const t of v){const e=P[t.toLowerCase()];e&&g.push(...e)}const _=[];for(const t of v){const e=N[t.toLowerCase()];void 0!==e&&_.push(e)}const x=g.length>0||m.ctrl||m.alt||m.shift||m.meta,M=_.length>0,S=b||w,$=e=>{const n=e.composedPath?e.composedPath():null,i=n&&n.length?n[0]:e.target;if(h){if(!i)return!1;if(t instanceof Node&&(t===i||t.contains(i)))return!1}if(f&&e.target!==t)return!1;if(S){if(!(e instanceof TouchEvent))return!1;{const t=e.touches.length;if(b&&1!==t)return!1;if(w&&t<2)return!1}}if(M){if(!(e instanceof MouseEvent))return!1;if(!_.includes(e.button))return!1}if(x){if(!(e instanceof KeyboardEvent))return!1;const t=(e.key||"").toLowerCase();if(g.length>0&&!g.includes(t))return!1;const{ctrlKey:n,altKey:i,shiftKey:o,metaKey:s}=e;if(m.ctrl&&!n||m.alt&&!i||m.shift&&!o||m.meta&&!s)return!1}return!0},E=s.un(r,t,e=>[e,t]),j=e=>{if((!((h||a)&&t instanceof Element)||t.isConnected)&&$(e)&&(u&&e.preventDefault(),l&&e.stopPropagation(),E)){if(d&&"function"==typeof p){const t=e;return void p(()=>s.Tt(()=>E(t)))}s.Tt(()=>E(e))}},A=!!this.framework.ln().delegate&&k.includes(e);if(h||a||!A){const n=a?"undefined"!=typeof window?window:t:h?t.isConnected?t?.ownerDocument:document||T||document:t;if((h||a)&&t instanceof Element){const i=new AbortController,o=c?{...c,signal:i.signal}:{signal:i.signal};n.addEventListener(e,j,o);const r=()=>{i.abort()};s.framework.registerRefCleanup(t,r),s.Ut(r)}else s.$e(n,e,j,c)}else{const n=this.framework.hn(t,e,{filter:t=>$(t),run:t=>j(t),once:!!o?.once,comp:this});this.Ut(n)}}qt(t,e=!1){const n=`${e?"s":"r"}:${t}`;let i=this.gt.get(n);if(!i){try{i=Function("ctx",`with(ctx){${e?t:`return (${t})`}}`)}catch{t=JSON.stringify(t),i=Function("ctx",`with(ctx){${e?t:`return (${t})`}}`)}if(this.gt.set(n,i),this.gt.size>W.an){const t=this.gt.keys().next().value;t&&this.gt.delete(t)}}return i}Ze(t,e){const n=this,o=n.qt(t);return()=>{const t=n.zt(void 0,e);try{let e=o.call(n.Lt(),t);return e&&"object"==typeof e&&i(e)&&(e=e.value),e}catch(t){return}}}Bt(t){let e=t.match(/^\s*\(\s*([^)]*?)\s*\)\s*=>\s*([\s\S]+)$/);if(e||(e=t.match(/^\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=>\s*([\s\S]+)$/)),!e)return null;const i=(e[1]||"").split(",").map(t=>t.trim()).filter(Boolean),o=n(e[2]),s=o.startsWith("{")&&o.endsWith("}");return{paramsList:i,body:s?o.slice(1,-1):o,isBlock:s}}It(t,e,n){return Function("ctx",...t,"with(ctx){ "+(n?e:"return ( "+e+" );")+" }")}un(e,i,o){const s=this,r=n(e);if(!r)return null;const c=s.Bt(r),f=s.Lt();if(c){const{paramsList:t,body:e,isBlock:n}=c,r=s.It(t,e,n);return e=>{const n=s.zt(e,i),c=o(e);s.Tt(()=>r.call(f,n,...c.slice(0,t.length)))}}const u=r.includes(";"),l=s.qt(r,u);return e=>{const n=s.zt(e,i),o=l.call(f,n);"function"==typeof o&&t(()=>o.call(f,e))}}dn(t,e){if(this.S)throw Error(`[x-tool] Mutation via '${t+""}.${e}()' is not allowed during computed evaluation.`);if(this.N)throw Error(`[x-tool] Mutation via '${t+""}.${e}()' is not allowed while component is frozen.`)}pn(t,e){return t}Xt(t){const e=this;return new Proxy(t,{get:(t,n,i)=>{const o=Reflect.get(t,n,i);return n===Symbol.iterator||"symbol"!=typeof n&&e.ie(n),o},ownKeys:t=>Reflect.ownKeys(t),has:(t,e)=>Reflect.has(t,e),set:(t,n,o,s)=>{if(e.m)return!0;if(e.N)return!0;if(e.S)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed during computed evaluation.`);if(n===Symbol.iterator&&a(t))return o;const r=Reflect.get(t,n);if(r===o&&!e.K)return!0;if(Reflect.has(t,n))Reflect.set(t,n,o,s);else try{Reflect.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:o})}catch{Reflect.set(t,n,o,s)}try{"symbol"!=typeof n&&i(o)&&e.M(n+"",o)}catch{}if(o&&"object"==typeof o&&(t=>{const e=O(t),n=(A.get(e)??0)+1;A.set(e,n)})(o),this.L||this.O(n),this.K&&"$props"!==n&&!this.H){const e=t.$props;e&&(e[n]=o);const i=this.Y[n];if(i&&!this.L){this.H=!0;try{i(o,r)}finally{this.H=!1}}}return!0}})}yn(){if(this.Ct)return this.Ct;const t=this,e=Object.create(null);return Object.defineProperties(e,{$el:{get:()=>t.l,enumerable:!0},$id:{get:()=>t.o,enumerable:!0},$isMounted:{get:()=>t.p,enumerable:!0},$isDestroyed:{get:()=>t.m,enumerable:!0},$isSealed:{get:()=>t.L,enumerable:!0},$isFrozen:{get:()=>t.N,enumerable:!0},$parent:{get:()=>t.t,enumerable:!0},$children:{get:()=>t.X,enumerable:!0}}),e.$destroy=()=>t.destroy(),e.$forceUpdate=()=>t.I(),e.$addCleanupFunction=e=>t.Ut(e),e.Signals={emit:(e,n)=>{t._e(e+"",n)},connect:(e,n)=>{t.ve(e+"",n)},disconnect:(e,n)=>{t.ge(e+"",n)}},e.$nextTick=e=>e?(t.St.push(e),void(t.Mt||p(()=>{if(!t.Mt&&t.St.length){const e=t.St.splice(0,t.St.length);for(const n of e)t.Tt(()=>n())}}))):new Promise(e=>{t.St.push(()=>e()),t.Mt||p(()=>{if(!t.Mt&&t.St.length){const e=t.St.splice(0,t.St.length);for(const n of e)t.Tt(()=>n())}})}),e.$seal=(e=!0)=>{t.U(!!e)},e.$mutate=e=>{const n=t.nt;if(t.dt=!1,t.S)throw Error("[x-tool] $mutate cannot be used inside computed evaluation; computed getters must be pure.");t.nt=!1;try{return"function"==typeof e?e():void 0}finally{t.nt=n,t.dt=!0,t.Gt()}},this.Ct=e,e}Lt(t=!0){const e=this;if(e.Ot)return e.Ot;const n=e.yn(),i=e.Vt;return e.Ot=new Proxy(i,{has:(t,o)=>o in i||o in e.J||o in n||o in e.Zt||o in e.G,get:(t,i)=>i in t?(e.ie(i),t[i]):i in e.J?e.ne(i):i in n?n[i]:i in e.Zt?e.Zt[i]:i in e.G?e.G[i]:void 0,set:(t,n,i)=>{if(e.S)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed during computed evaluation.`);if(e.N)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed while component is frozen.`);return e.Vt[n]=i,!0}}),e.Ot}mn(){if(this.ut)return this.ut;const e=this,n="undefined"!=typeof window?window:void 0,i="undefined"!=typeof document?document:void 0,o=this.framework.ln(),s=!!o.sandboxExpressions,r=new Set((o.allowGlobals||[]).map(t=>t+"")),c=(n,i)=>{const o=e.vt||"__anonymous__";let s=e.R.get(o);s||(s=new Map,e.R.set(o,s));const r=s.get(n);r&&(t(r),s.delete(n));const c=i();if("function"==typeof c){const t=()=>{try{c()}finally{s?.delete(n)}};s.set(n,t),e.Ut(t)}},f=n=>{if(!n||"function"!=typeof n.addEventListener)return n;const i=L.get(n);if(i)return i;const o=new Proxy(n,{get:(n,i)=>{if(i===I)return n;if("addEventListener"===i)return(i,o,s)=>{if(e.L||e.N)return;n.addEventListener(i,o,s);const r="boolean"==typeof s?s:s?.capture?"1":"0",f="listener:"+e.Ee(n)+":"+i+":"+r;c(f,()=>()=>{t(()=>n.removeEventListener(i,o,s))})};if("removeEventListener"===i)return(e,i,o)=>{t(()=>n.removeEventListener(e,i,o))};if("querySelector"===i)return t=>f(n.querySelector(t));if("querySelectorAll"===i)return t=>Array.from(n.querySelectorAll(t)).map(f);if("getElementById"===i)return t=>f(n.getElementById(t));if("getElementsByClassName"===i)return t=>Array.from(n.getElementsByClassName(t)).map(f);if("getElementsByTagName"===i)return t=>Array.from(n.getElementsByTagName(t)).map(f);if("closest"===i)return t=>f(n.closest(t));if("elementFromPoint"===i)return(t,e)=>f(n.elementFromPoint(t,e));if("elementsFromPoint"===i)return(t,e)=>n.elementsFromPoint(t,e).map(f);if("document"===i){const t=n.document;return f(t)||t}if("defaultView"===i){const t=n.defaultView;return f(t)||t}if("body"===i){const t=n.body;return f(t)||t}if("head"===i){const t=n.head;return f(t)||t}if("documentElement"===i){const t=n.documentElement;return f(t)||t}if("activeElement"===i){const t=n.activeElement;return f(t)||t}if("parentElement"===i){const t=n.parentElement;return f(t)||t}if("parentNode"===i){const t=n.parentNode;return f(t)||t}if("firstElementChild"===i){const t=n.firstElementChild;return f(t)||t}if("lastElementChild"===i){const t=n.lastElementChild;return f(t)||t}if("nextElementSibling"===i){const t=n.nextElementSibling;return f(t)||t}if("previousElementSibling"===i){const t=n.previousElementSibling;return f(t)||t}if("firstChild"===i){const t=n.firstChild;return f(t)||t}if("lastChild"===i){const t=n.lastChild;return f(t)||t}if("nextSibling"===i){const t=n.nextSibling;return f(t)||t}if("previousSibling"===i){const t=n.previousSibling;return f(t)||t}if("ownerDocument"===i){const t=n.ownerDocument;return f(t)||t}if("children"===i)return Array.from(n.children).map(f);if("childNodes"===i)return Array.from(n.childNodes).map(f);const o=n[i];return"function"==typeof o?function(...t){const e=t.map(t=>t&&t[I]?t[I]:t);return o.apply(n,e)}:o},set:(t,e,n)=>{const i=n&&n[I]?n[I]:n;return t[e]=i,!0}});return L.set(n,o),o},u=(t,i,...o)=>{if(e.L||e.N||e.m)return;const s=n?.setTimeout?.(t,i,...o);return null!=s&&c("timeout",()=>()=>{n?.clearTimeout?.(s)}),s},l=(t,i,...o)=>{if(e.L||e.N)return;const s=n?.setInterval?.(t,i,...o);return null!=s&&c("interval",()=>()=>{n?.clearInterval?.(s)}),s},h=t=>{if(e.L||e.N)return;const i=n?.requestAnimationFrame?.(t);return null!=i&&c("raf",()=>()=>{n?.cancelAnimationFrame?.(i)}),i},a=(t,i)=>{if(e.L||e.N||e.m)return;const o=n?.fetch||("undefined"!=typeof fetch?fetch:void 0);if(!o)return;const s=new AbortController,r=s.signal,f={...i};i?.signal&&i.signal.addEventListener("abort",()=>s.abort()),f.signal=r;const u="fetch:"+ ++e.ft;return c(u,()=>()=>{r.aborted||s.abort()}),o(t,f)},d=n=>{if(n)return function(){if(e.L||e.N||e.m)return{open(){},send(){},abort(){},setRequestHeader(){},addEventListener(){},removeEventListener(){},readyState:0,status:0,responseText:"",response:null};const i=new n,o="xhr:"+ ++e.ft;let s=!1;return c(o,()=>()=>{s||(s=!0,t(()=>i.abort()))}),new Proxy(i,{get(t,e){const n=t[e];return"function"==typeof n?n.bind(t):n},set:(t,e,n)=>(t[e]=n,!0)})}},p=(n,i)=>{if(n)return function(...o){if(e.L||e.N)return{observe(){},disconnect(){},unobserve(){},takeRecords:()=>[]};const s=new n(...o);return c("observer:"+i,()=>()=>{t(()=>s.disconnect())}),{observe(t,e){const n=t&&t[I]?t[I]:t;return s.observe(n,e)},unobserve(t){const e=t&&t[I]?t[I]:t;return s.unobserve?.(e)},disconnect:()=>s.disconnect(),takeRecords:()=>s.takeRecords?.()||[]}}},y={Signals:{emit:(t,n)=>{e._e(t+"",n)},connect:(t,n)=>{e.ve(t+"",n)},disconnect:(t,n)=>{e.ge(t+"",n)}},...s&&!r.has("setTimeout")?{}:{setTimeout:u},...s&&!r.has("clearTimeout")?{}:{clearTimeout:e=>{t(()=>n?.clearTimeout?.(e))}},...s&&!r.has("setInterval")?{}:{setInterval:l},...s&&!r.has("clearInterval")?{}:{clearInterval:e=>{t(()=>n?.clearInterval?.(e))}},...s&&!r.has("requestAnimationFrame")?{}:{requestAnimationFrame:h},...s&&!r.has("cancelAnimationFrame")?{}:{cancelAnimationFrame:e=>{t(()=>n?.cancelAnimationFrame?.(e))}},...s&&!r.has("MutationObserver")?{}:{MutationObserver:p(n?.MutationObserver,"mutation")},...s&&!r.has("ResizeObserver")?{}:{ResizeObserver:p(n?.ResizeObserver,"resize")},...s&&!r.has("IntersectionObserver")?{}:{IntersectionObserver:p(n?.IntersectionObserver,"intersection")},...s&&!r.has("fetch")?{}:{fetch:a},...s&&!r.has("XMLHttpRequest")?{}:{XMLHttpRequest:d(n?.XMLHttpRequest)},...s&&!r.has("window")?{}:{window:f(n)},...s&&!r.has("document")?{}:{document:f(i)}};return this.ut={gWindow:n,gDocument:i,sandbox:s,allow:r,wrapTarget:f,registerResource:c,ctxSetTimeout:u,ctxSetInterval:l,ctxRequestAnimationFrame:h,ctxFetch:a,wrapXHRCtor:d,wrapObserverCtor:p,staticSpecials:y},this.ut}zt(t,e,n){const i=this,o=this.mn(),s=e?this.Ge(e):null,r={$target:e||null,$event:t||null,$attr:(t,n)=>{if(e)if("object"==typeof t&&null!==t)for(const n in t)({}).hasOwnProperty.call(t,n)&&w(e,n,t[n]);else"string"==typeof t&&w(e,t,n)},$css:(t,n)=>{if(e)if("object"==typeof t&&null!==t)for(const n in t)({}).hasOwnProperty.call(t,n)&&w(e,n,t[n],!0);else"string"==typeof t&&w(e,t,n,!0)}},c=o.staticSpecials,f=i.u.bn&&i.Z,u=i.G;return new Proxy({},{get:(t,e)=>{if(s&&e in s)return s[e];if(e in i.Vt)return i.Vt[e];if(e in i.J)return i.ne(e);if(e in i.Zt)return i.Zt[e];if(e in u)return u[e];const n=(t=>{if(!f)return{found:!1,value:void 0};let e=i.t;for(;e&&e.Z;){if(t in e.Vt)return e.ie(t),{found:!0,value:e.Vt[t],owner:e};if(t in e.J)return{found:!0,value:e.ne(t),owner:e};if(t in e.Zt)return{found:!0,value:e.Zt[t],owner:e};e=e.t}return{found:!1,value:void 0}})(e);return n.found?n.value:e in r?r[e]:e in c?c[e]:void 0},set:(t,e,n)=>{if(s){let t=s;for(;t;){if({}.hasOwnProperty.call(t,e))return t[e]=n,!0;t=Object.getPrototypeOf(t)}}return e in i.Vt?(i.Vt[e]=n,!0):(((t,e)=>{if(!f)return!1;let n=i.t;for(;n&&n.Z;){if(t in n.Vt)return n.Vt[t]=e,!0;n=n.t}return!1})(e,n)||(i.Vt[e]=n),!0)},has:(t,e)=>"string"==typeof e&&(!(!s||!(e in s))||e in i.Vt||e in i.J||e in i.Zt||e in u||(t=>{if(!f)return!1;let e=i.t;for(;e&&e.Z;){if(t in e.Vt||t in e.J||t in e.Zt)return!0;e=e.t}return!1})(e)||e in r||e in c)})}ze(t,e,n,i,o){const s=this,r=s.Ze(n,t),c={type:"custom",expression:n,customDirective:i};i.bind&&s.Tt(()=>i.bind(t,r(),n,s,o,r));const f=s.Ke(()=>{i.update&&s.Tt(()=>i.update(t,r(),n,s,o,r))});c.update=f,s.q(t,c)}ke(t,e,n){const i=this,o=i.Ze(n,t),s="http://www.w3.org/2000/svg"===t.namespaceURI;if("class"===e){const e=t;if(!i.jt.get(e)){const n=new Set,o=s?t.getAttribute("class")||"":t.className||"";if(o)for(const t of o.split(/\s+/))t&&n.add(t);i.jt.set(e,n)}}let r;e===v&&(r=t.getAttribute("style")||void 0);const c=i.D(t,e),f=i.Ke(()=>{const n=o();if("class"===e){const e=i.jt.get(t);if("string"==typeof n){const i=e&&e.size?[...e].join(" ")+(n?" "+n:""):n||"";s?i?t.setAttribute("class",i):t.removeAttribute("class"):t.className=i}else if(a(n)){const i=n.filter(Boolean),o=(e&&e.size?[...e,...i]:i).join(" ");s?o?t.setAttribute("class",o):t.removeAttribute("class"):t.className=o}else if(n&&"object"==typeof n){const i=new Map;for(const t in n){if(!t)continue;const e=!!n[t];for(const n of t.split(/\s+/))n&&(!e&&i.has(n)||i.set(n,e))}const o=e?[...e]:[];for(const[t,n]of i)!n||e&&e.has(t)||o.push(t);const r=o.join(" ");s?r?t.setAttribute("class",r):t.removeAttribute("class"):t.className=r}else if(null==n&&e&&e.size){const n=[...e].join(" ");s?n?t.setAttribute("class",n):t.removeAttribute("class"):t.className=n}else null==n&&t.removeAttribute("class");return}if(e===v){const e=t;if("string"==typeof n){const t=n.trim();return void(t&&(e.style.cssText+=";"+t))}if(n&&"object"==typeof n){e.style.cssText=r||"";for(const t in n){const i=n[t],o=t.startsWith("--")?t:t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase());null!=i?e.style.setProperty(o,i+""):e.style.removeProperty(o)}return}return void(r?e.style.cssText=r:e.removeAttribute("style"))}i.k(t,e,n,c)});i.q(t,{type:"bind",expression:n,update:f})}Ge(t){if(!t)return null;const e=t.Ye;if(e)return e;if(!t.parentElement){const e=t.en;if(e&&e.parentElement)t=e;else{const e=t.Qe;e&&(t=e)}}let n=t;for(;n;){const t=n.Ye;if(t)return t;let e=n.previousSibling;for(;e;){if(8===e.nodeType){const t=e.Ye;if(t)return t}e=e.previousSibling}n=n.parentElement}return null}wn(t,e){let n=B.get(e);n||(n=RegExp("(^|[^$\\w])"+e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"([^$\\w]|$)"),B.set(e,n));for(const[e,i]of this.W)if(t===e||e instanceof Element&&t.contains(e))for(const t of i){if(!t.update)continue;const e=t.expression||"";n.test(e)&&t.update()}}cn(t){}fn(t){const e=this.W.get(t);if(e)for(const t of e)"if"!==t.type&&"for"!==t.type&&t.update&&this.xt.add(t.update);const n=this.u.fe(t);n&&!n.isDestroyed&&(n.Pt("before-unmount"),n.Pt("unmounted"));let i=t.firstElementChild;for(;i;)this.fn(i),i=i.nextElementSibling}sn(t){const e=[];this.vn(t,e);for(const t of e)this.Tt(t)}vn(t,e){const n=this.W.get(t);if(n)for(const t of n)t.update&&this.xt.has(t.update)&&(this.xt.delete(t.update),e.push(t.update));let i=t.firstElementChild;for(;i;)this.vn(i,e),i=i.nextElementSibling}Le(t,e){}gn(t,e){return t}_n(t){return{lisMask:[],lisLen:0}}se(){const t=this;for(const e of t.W.values())for(const t of e)if((!D||!t.He)&&t.update)try{t.update()}catch(t){}}}return W.an=200,W.T={itemscope:1,formnovalidate:1,novalidate:1,default:1,readonly:1},new class{constructor(){this.xn=new Map,this.Mn=new d,this.Sn=[],this.$n={},this.En=new Map,this.Se=!1,this.bn=!1,this.jn=null,this.An=new Map,this.On=new d,this.Cn=!1,this.Rn=new d,this.Fn=new d,this.Dn=new d,this.Tn=(t,e)=>{const n=this.Rn.get(t);return n?.get(e)},this.kn=(t,e,n)=>{},this.Pn=t=>{const e=this.Fn.get(t);e&&(e(),this.Fn.delete(t))},this.registerRefCleanup=(t,e)=>{},this.me=t=>{this.Rn.delete(t)},this.directive=(t,e)=>{if(t.startsWith(z+"-"))throw Error(`Custom directive names should not start with "${z}-". Use: XTool.directive("my-directive", ...)`);return this.En.set(t,e),this},this.registerComponent=t=>{if(!t||!t.name)throw Error("registerComponent requires a name");const e=t.name.toLowerCase();return this.An.has(e)||this.An.set(e,t),this},this.mountComponent=(t,e,n)=>{if(t&&e)return this.Nn(t)?this.fe(e)?(this.$n.debug,this.fe(e)):(e.Bn=t,n&&(e.Ln=n),this.In(e),this.fe(e)):void this.$n.debug},this.Nn=t=>this.An.get(t.toLowerCase()),this.Ie=t=>this.En.get(t),this.ln=()=>this.$n,this.zn=[],this.init=(e={})=>{const n={container:"body",debug:!1,staticDirectives:!0,router:{enabled:!1,transitionName:"route"}};this.$n={...n,...e,router:{...n.router,...e.router||{}}},"boolean"==typeof this.$n.staticDirectives&&(D=this.$n.staticDirectives),this.Se=!0===this.$n.autoMergeProps,this.bn=!0===this.$n.inheritScope;const i=this.$n.prefix;z=i&&"string"==typeof i&&i[S]>0?i:"x",U.clear();const o=async()=>{this.Un(),this.zn.length&&t(async()=>await Promise.allSettled(this.zn)),this.qn();const e=T?.querySelector(this.$n.container);e&&(this.Wn(e),this.$n.delegate&&this.Kn(e))};return T&&"loading"===T.readyState?T.addEventListener("DOMContentLoaded",()=>{o()}):T&&"complete"!==T.readyState&&"interactive"!==T.readyState||o(),this},this.Hn=new Map,this.Vn=new Map,this.loadComponents=e=>{const n=e.map(t=>"string"==typeof t?{path:t,mode:"preload",name:void 0}:{path:t.path,mode:t.mode||"preload",name:t.name}),i=[];for(const t of n)if("defer"===t.mode){const e=this.Xn(t.path).catch(()=>{throw Error("load failed")});this.zn.push(e),i.push(e.then(()=>{}))}else if("lazy"===t.mode){const e=(t.name||t.path.split("/").pop()||"").replace(/\.(mjs|js|ts|html)(\?.*)?$/i,"").toLowerCase();e&&!this.Vn.has(e)&&this.Vn.set(e,{path:t.path,status:0})}else{const e=this.Xn(t.path).catch(()=>{throw Error("load failed")});i.push(e)}return Promise.allSettled(i).then(e=>(t(()=>this.qn()),{settled:e.length,failed:e.filter(t=>"rejected"===t.status).length}))},this.createComponent=t=>{const e=new W(this.Zn(),t,this);return this.xn.set(e.id,e),e.callBeforeMount(),e},this.qn=()=>{const t=T?.querySelector(this.$n.container);if(!t)return;const e=q("data"),n=q("for"),i=q("if"),s=q("else-if"),r=q("else");t.hasAttribute(e)&&!this.fe(t)&&this.rn(t,void 0);const c=e=>{let o=e.parentElement;for(;o&&o!==t;){if(o.hasAttribute(n)||o.hasAttribute(i)||o.hasAttribute(s)||o.hasAttribute(r))return!0;o=o.parentElement}return!1},f=t.querySelectorAll(`[${e}]`);for(const t of f)c(t)||this.fe(t)||this.rn(t);const u=t.querySelectorAll("component[source]");for(const t of u)this.fe(t)||this.In(t);if(this.Te(),0===f[S]&&!this.fe(t)){const e=o(this.xn.values()),n=e[e[S]-1];n&&!n.isBound&&n.bindToElement(t)}},this.Te=()=>{if(!this.Sn[S])return;const t=[],e=[],n=this.$n.container?T?.querySelector(this.$n.container):null;for(const i of this.Sn){if(i.comp.isDestroyed)continue;if(!i.el.isConnected){t.push(i);continue}let o,s=i.el.parentElement;for(;s&&!o;){const t=this.fe(s);t?o=t:s=s.parentElement}o?(i.comp.attachToParent(o),e.push(i.comp)):n&&(n===i.el||n.contains(i.el))?e.push(i.comp):t.push(i)}for(const t of e)t.completeBinding();this.Sn=t},this.rn=(t,e)=>{const n=t.getAttribute(q("data"));let i={};if(n){t.removeAttribute(q("data"));try{if(e){const o=e.zt(void 0,t);i=Function("parent",`with(parent){ return (${n}) }`)(o)}else i=this.Gn(n);const o=Object.getOwnPropertyDescriptors(i),s={},r={};for(const t in o){const e=o[t];"function"==typeof e.get?s[t]=e.get:"value"in e&&(r[t]=e.value)}const c=r.methods||i.methods,f=i.methods||{},u={};for(const t of Object.keys(r)){const e=r[t];"function"==typeof e&&"methods"!==t&&(u[t]=e)}for(const t of Object.keys(u))delete r[t];const l=["mounted","unmounted","beforeMount","beforeUnmount","updated","destroyed","beforeDestroy","setup"],h={};for(const t of l)u[t]&&(h[t]=u[t],delete u[t]);const a={...f,...u},d=c||Object.keys(u).length?{methods:a,data:r}:{data:r};for(const t in h)d[t]=h[t];y(s).length&&(d.computed=s),e&&(d.data.$parent=e),i=d}catch(t){}}const o=this.createComponent(i);o.Z=!0;const s=t.getAttribute(q("init"))||void 0;s&&t.removeAttribute(q("init")),this.Jn(t,o,{callBeforeMount:!0,xInitExpr:s})},this.Zn=()=>{const t=Date.now(),e=Math.random().toString(36).substring(2,15);return`component_${t}_${(this.xn.size+1).toString(36)}_${e}`},this.Qn=(t,e)=>{try{const n=[];"COMPONENT"===t[x]&&t.hasAttribute("source")&&n.push(t);const i=t.querySelectorAll("component[source]");for(const t of i)n.push(t);for(const t of n)this.fe(t)||this.In(t,e)}catch{}},this.Yn=(t,e)=>{try{const n=q("data"),i=t.querySelectorAll(`[${n}]`);for(const t of i)this.fe(t)||this.rn(t,e)}catch{}},this.De=(t,e)=>{this.Qn(t,e),this.Yn(t,e)},this.Gn=e=>t(()=>Function("return "+e.trim())(),{}),this.we=t=>{this.xn.delete(t)},this.ue=(t,e)=>{this.Mn.set(t,e)},this.ye=t=>{this.Mn.delete(t)}}ti(){const t=this.$n;return!!t.router?.enabled}ei(t){}async ni(t,e,n="program"){if(this.navigate)return this.navigate(t,e,n)}Xn(t,e=2,n=300,o=3e4){const a=this.Hn.get(t);if(a)return a;const d=this,p=new URL(t,T?.baseURI||location.href);if(/\.ts?$/.test(p.pathname))throw Error(`TypeScript component loading is not enabled in tiny builds. Loading failed for: ${t} failed.`);const y=/\.html?$/.test(p.pathname),m=(t,...e)=>t.reduce((t,n,i)=>t+n+(i<e.length?e[i]:""),"")+"\n",b=t=>{try{if(i(t)||f(t))return t}catch{}if(!t||"object"!=typeof t)return s({value:t});const e=s(t),n=s({value:e});try{const t=u(e),i=u(n);t&&i&&(t.changeListeners||(t.changeListeners=[]),t.changeListeners.push((t,n)=>{if(Array.isArray(i.changeListeners)){const t=h(e),n=h(e);for(const e of i.changeListeners)try{e(t,n)}catch{}}}))}catch{}const o=new Proxy(n,{get:(t,e)=>"value"===e?t.value:t.value?.[e],set:(t,e,n)=>{try{return t.value&&(t.value[e]=n),!0}catch(t){return!1}},has:(t,e)=>"value"===e||!!t.value&&e in t.value,ownKeys:t=>t.value?Reflect.ownKeys(t.value):[],getOwnPropertyDescriptor:(t,e)=>{if("value"===e)return{configurable:!0,enumerable:!0,value:t.value,writable:!0};const n=t.value;return n?Object.getOwnPropertyDescriptor(n,e)||{configurable:!0,enumerable:!0,value:n[e],writable:!0}:void 0}});try{const t=u(n);t&&l(o,t)}catch{}return o},w=t=>function(t){let e,n=!0;const i={depTracker:t=>{n=!0}},o={get value(){return n&&(e=t(),n=!1),e}};return Object.defineProperty(o,r,{value:!0,enumerable:!1,configurable:!1,writable:!1}),Object.defineProperty(o,Symbol.for("_computedID"),{value:c(12),enumerable:!1,configurable:!1,writable:!0}),s(o,i)}(t);let v,g,_=!1,x=0,M=null,S=null;const $=t=>Math.min(o,n*Math.pow(2,t)*(.75+.5*Math.random())),E=()=>{null!=M&&(clearTimeout(M),M=null),S&&(window.removeEventListener("online",S),S=null)},j=()=>{const n=x++;fetch(t,{cache:"no-cache"}).then(t=>{if(!t.ok)throw Error(t.status+" "+t.statusText);return t.text()}).then(e=>{if(!_){if(y){const n=new Map;let o="",s="",r=!1;try{const t=(new DOMParser).parseFromString(e,"text/html");t.querySelectorAll("script").forEach(t=>{const e=t.hasAttribute("setup"),i=t.getAttribute("name");if(i){const o=n.get(i)||{script:"",template:"",hasSetup:!1};e&&(o.hasSetup=!0),o.script+=(t.textContent||"")+"\n",n.set(i,o)}else e&&(r=!0),o+=(t.textContent||"")+"\n";t.remove()}),t.querySelectorAll("template").forEach(t=>{const e=t.getAttribute("name");if(e){const i=n.get(e)||{script:"",template:"",hasSetup:!1};i.template=(t.innerHTML||"").trim(),n.set(e,i)}else s||(s=(t.innerHTML||"").trim())}),s||n.size||(s=(t.body?t.body.innerHTML:"").trim())}catch(t){s=e}const c=(e,n,o,s)=>{try{const r={},c={onMounted:[],onBeforeMount:[],onUnmounted:[],onBeforeUnmount:[]},l=t=>{t&&"object"==typeof t&&Object.assign(r,t)},a=t=>{"function"==typeof t&&c.onMounted.push(t)},p=t=>{"function"==typeof t&&c.onBeforeMount.push(t)},y=t=>{"function"==typeof t&&c.onUnmounted.push(t)},v=t=>{"function"==typeof t&&c.onBeforeUnmount.push(t)},g=(t,e)=>{if(!t||"function"!=typeof e)return()=>{};const n=t=>{if(!f(t)){if(i(t)){try{if("value"in t)return t.value}catch{}return h(t)}return t}};if(Array.isArray(t)){const o=t.filter(t=>!!t&&!f(t)),s=o.map(t=>i(t)?u(t):void 0),r=[];let l=o.map(n),h=!1;const a=()=>{h||(h=!0,Promise.resolve().then(()=>{h=!1;const t=o.map(n);try{e(t,l)}catch(t){}l=t}))};for(let t=0;t<s.length;t++){const e=s[t];if(!e)continue;e.changeListeners||(e.changeListeners=[]);const n=(t,e)=>a();e.changeListeners.push(n),r.push(n)}const d=()=>{for(let t=0;t<s.length;t++){const e=s[t],n=r[t];if(!e||!n||!e.changeListeners)continue;const i=e.changeListeners.indexOf(n);i>=0&&e.changeListeners.splice(i,1)}};return c.onBeforeUnmount.push(d),d}if(f(t))return()=>{};if(i(t)){const i=u(t);if(!i)return()=>{};i.changeListeners||(i.changeListeners=[]);let o=n(t);const s=(i,s)=>{const r=n(t);try{e(r,o)}catch(t){}o=r};i.changeListeners.push(s);const r=()=>{const t=i.changeListeners;if(!t)return;const e=t.indexOf(s);e>=0&&t.splice(e,1)};return c.onBeforeUnmount.push(r),r}return()=>{}},_=Function("XTool","data","computed","watch","html","template","expose","onMounted","onBeforeMount","onUnmounted","onBeforeUnmount",e+"\n//# sourceURL="+t);o?_.call(r,d,b,w,g,m,n,l,a,p,y,v):_(d,b,w,g,m,n,l,a,p,y,v);const x=(t.split("/").pop()||"").replace(/\.(mjs|js|ts|html)(\?.*)?$/i,"").toLowerCase(),M=s||("string"==typeof r.name&&r.name.trim()?r.name.trim():x),S={},$={},E={};for(const t of Object.keys(r)){if("name"===t&&"string"==typeof r[t])continue;const e=r[t];"function"==typeof e?$[t]=e:f(e)?E[t]=e:S[t]=(i(e),e)}const j={};c.onMounted.length&&(j.mounted=function(){for(let t=0;t<c.onMounted.length;t++)try{c.onMounted[t].call(this)}catch(t){}}),c.onBeforeMount.length&&(j.beforeMount=function(){for(let t=0;t<c.onBeforeMount.length;t++)try{c.onBeforeMount[t].call(this)}catch(t){}}),c.onUnmounted.length&&(j.unmounted=function(){for(let t=0;t<c.onUnmounted.length;t++)try{c.onUnmounted[t].call(this)}catch(t){}}),c.onBeforeUnmount.length&&(j.beforeUnmount=function(){for(let t=0;t<c.onBeforeUnmount.length;t++)try{c.onBeforeUnmount[t].call(this)}catch(t){}});try{d.registerComponent({name:M,template:n,data:S,methods:$,computed:E,...j})}catch(t){}}catch(t){}};for(const[t,e]of n)c(e.script,e.template,e.hasSetup,t);(o||s)&&c(o,s,r)}else{const n=e+"\n//# sourceURL="+t;try{Function("XTool","html",n)(d,m)}catch(t){}}_=!0,E(),v()}}).catch(t=>{if(_)return;const i="undefined"==typeof navigator||navigator.onLine,o=(t&&(t.message||""))+"";if(!i||t instanceof TypeError||/Failed to fetch|NetworkError|load failed/i.test(o)){S||(S=()=>{_||(null!=M&&(clearTimeout(M),M=null),j())},window.addEventListener("online",S));const t=$(n);return void(M=window.setTimeout(()=>j(),t))}if(n>=e)return E(),void g(t);const s=$(n);M=window.setTimeout(()=>j(),s)})},A=new Promise((t,e)=>{v=t,g=e,j()}).finally(()=>{this.Hn.delete(t),E()});return this.Hn.set(t,A),A}Un(){if(!T)return;if("x"===z)return;const t="x-tool-initial-css-"+z;if(T.head&&!T.getElementById(t)){const e=T.createElement(v);e.id=t,e.textContent=`[${z}-show],[${z}-if],[${z}-else],[${z}-else-if],[${z}\\:show],[${z}\\:if],[${z}\\:else],[${z}\\:else-if]{display:none;}`,T.head.appendChild(e)}}Wn(e){this.ii||"undefined"==typeof MutationObserver||(this.ii=new MutationObserver(e=>{for(const n of e)if("childList"===n.type){for(let t=0;t<n.addedNodes.length;t++){const e=n.addedNodes[t];if(1!==e.nodeType)continue;const i=e;"COMPONENT"===i[x]&&i.getAttribute($)&&!this.fe(i)&&this.In(i)}for(let e=0;e<n.removedNodes.length;e++){const i=n.removedNodes[e];if(1!==i.nodeType)continue;const o=i;p(()=>{if(o.isConnected)return;if(o.nn)return;this.Pn(o);const e=[o];for(;e.length;){const n=e.pop();if(n.nn)continue;const i=this.fe(n);i&&!i.isDestroyed&&t(()=>{this.me(i),i.destroy()});let o=n.firstElementChild;for(;o;)e.push(o),o=o.nextElementSibling}})}}else if("attributes"===n.type){const e=n.target;if(e&&"COMPONENT"===e[x])if(n.attributeName===$)this.oi(e);else if(n.attributeName===E){const n=this.fe(e);n&&t(()=>{const t=e.hasAttribute(E);n.setFrozen(!!t)})}}this.Te()}),this.ii.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[$,E]}))}si(t){return null}ri(t,e,n,i){return()=>{}}oi(e){const i=n(e.getAttribute("source")),o=this.fe(e);if(!i)return o&&!o.isDestroyed&&t(()=>o.destroy()),void(e.innerHTML="");o&&!o.isDestroyed&&t(()=>o.destroy()),e.innerHTML="",this.In(e)}Jn(e,n,i){n.element=e,i?.callBeforeMount&&t(()=>n.callBeforeMount()),this.ue(n.element,n),this.Sn.push({el:e,comp:n}),i?.xInitExpr&&n.he(i.xInitExpr)}In(e,n){let i=e.Bn||e.getAttribute("source");if(!i)return;e.Bn&&delete e.Bn,delete e.Ae;let o=n;if(!o){let t=e.parentElement;for(;t&&!o;){const e=this.fe(t);e?o=e:t=t.parentElement}}let s=this.Nn(i);if(!s&&o)try{const t=Function("ctx","with(ctx){return ("+i+")}"),n=o.zt(void 0,e),r=t.call(o.getContext(!0),n);"string"==typeof r&&r&&(i=r,s=this.Nn(i))}catch{}if(!s){const o=i.toLowerCase(),s=this.Vn?.get(o);if(s&&(0!==s.status||s.promise||(s.status=1,s.promise=this.Xn(s.path).then(()=>{s.status=2}).catch(()=>{s.status=3}).finally(()=>{2===s.status&&this.Vn?.delete(o)})),s.promise)){const o=e,r=n;s.promise.then(()=>{t(()=>{this.Nn(i)&&o.isConnected&&!this.fe(o)&&this.In(o,r)})})}return}let r=null,c=null,f=null;r||(r={});const u=e.Ln;u&&"object"==typeof u&&(Object.assign(r,u),delete e.Ln);const l=this.Dn.get(e)||e.getAttribute(q("prop")),h=q("prop")+":",a={},d=t=>{if(!t)return t;const e=t.toLowerCase();return(t=>{if(!t)return null;for(const n of Object.keys(t))if(n.toLowerCase()===e)return n;return null})(s?.propEffects)||(t.includes("-")?t.replace(/-([a-z])/g,(t,e)=>e.toUpperCase()):t)};for(const t of Array.from(e.attributes)){const n=t.name;if(n.startsWith(h)){const i=d(n.substring(h.length));i&&(a[i]=t.value),e.removeAttribute(n)}}if(l){if(f=l,o)try{const t=Function("ctx","with(ctx){return ("+l+")}"),n=o.getContext(!0),i=o.zt(void 0,e);c=t.call(n,i)}catch(t){c=null}else try{c=Function("return ("+l+")")()}catch{c=null}if(c&&"object"==typeof c)for(const t in c)t in r||(r[t]=c[t]);this.Dn.set(e,l),e.removeAttribute(q("prop"))}if(Object.keys(a).length){const t={};for(const[n,i]of Object.entries(a)){let s;if(o)try{const t=Function("ctx","with(ctx){return ("+i+")}"),n=o.getContext(!0),r=o.zt(void 0,e);s=t.call(n,r)}catch(t){s=void 0}else try{s=Function("return ("+i+")")()}catch{s=void 0}t[n]=s,n in r||(r[n]=s)}const n=c?{...c}:{};c={...n};for(const e in t)e in n||(c[e]=t[e]);const i=Object.keys(t).filter(t=>!(t in n));if(i.length)if(f&&/}\s*$/.test(f.trim())){const t=f.trim(),e=t.lastIndexOf("}");if(e>-1){const n=t.slice(0,e),o=!/{\s*$/.test(n),s=i.map(t=>`${t}: ${a[t]}`).join(", ");f=n+(o?", ":" ")+s+"}"}}else f="{ "+i.map(t=>`${t}: ${a[t]}`).join(", ")+" }";else if(!f){const t=Object.keys(a);t.length&&(f="{ "+t.map(t=>`${t}: ${a[t]}`).join(", ")+" }")}}let p,y={};if(s.makeData&&t(()=>{const t=s.makeData(r);t&&(y=t)}),s.data)for(const t in s.data)y[t]=s.data[t];if(c&&"object"==typeof c)for(const t in c)y[t]=c[t];else for(const t in r)y[t]=r[t];if(y.$props=r,"function"==typeof s.init)try{const t=s.init(r);p=t&&"object"==typeof t?t:void 0}catch{p=void 0}const m={name:s.name??name,data:y,methods:{...s.methods||{},...p?.methods||{}},computed:{...s.computed||{},...p?.computed||{}},propEffects:{...s.propEffects||{},...p?.propEffects||{}},setup:p?.setup||s.setup,mounted:p?.mounted||s.mounted,unmounted:p?.unmounted||s.unmounted,beforeMount:p?.beforeMount||s.beforeMount,beforeUnmount:p?.beforeUnmount||s.beforeUnmount,updated:p?.updated||s.updated,destroyed:p?.destroyed||s.destroyed,beforeDestroy:p?.beforeDestroy||s.beforeDestroy},b=this.createComponent(m),w=["mounted","unmounted","updated","before-unmount"];for(const t of w){const n=e.getAttribute(q(t));n&&o&&(b.ae(t,n,o),e.removeAttribute(q(t)))}const v=Array.from(e.childNodes);if(v.length&&e.replaceChildren(),s.template){const n=t=>{e.innerHTML=t;const n=e.querySelectorAll("slot");if(n.length)for(const t of n){const e=t.getAttribute("name"),n=e?v.filter(t=>1===t.nodeType&&t.getAttribute("slot")===e):v.filter(t=>1!==t.nodeType||!t.hasAttribute("slot"));n.length&&t.replaceWith(...n)}},i=s.template;if("string"==typeof i)n(i);else if("function"==typeof i)try{const o=i();o&&"function"==typeof o.then?(e.innerHTML="",o.then(e=>{n(e||""),t(()=>b.re())})):n((o||"")+"")}catch{e.innerHTML=""}else i&&"function"==typeof i.then&&(e.innerHTML="",i.then(e=>{n(e||""),t(()=>b.re())}))}else v.length&&e.append(...v);this.Jn(e,b,{callBeforeMount:!1});try{const t=e.querySelectorAll(`[${q("data")}]`);for(const e of t)this.fe(e)||this.rn(e,b)}catch{}t(()=>{this.Qn(e,b)}),f&&o&&t(()=>b.Me(f,o)),this.Te()}fe(t){return this.Mn.get(t)}observe(t){}Kn(t){if(this.Cn)return;const e=t,n=t=>{let n=t.target;for(;n&&n!==e.parentElement&&!t.cancelBubble;){const e=this.On.get(n);if(e){const n=e.get(t.type);if(n&&n.length)for(const e of[...n])try{if(e.comp&&e.comp.isDestroyed){const t=n.indexOf(e);t>-1&&n.splice(t,1);continue}if((!e.filter||e.filter(t))&&(e.run(t),e.once)){const t=n.indexOf(e);t>-1&&n.splice(t,1)}}catch{}}n=n.parentElement}},i=["keydown","keyup"],o=["click","input","change"];for(const t of i)e.addEventListener(t,n,!0);for(const t of o)e.addEventListener(t,n,!1);this.Cn=!0}hn(t,e,n){let i=this.On.get(t);i||(i=new Map,this.On.set(t,i));let o=i.get(e);return o||(o=[],i.set(e,o)),o.push(n),()=>{try{const i=this.On.get(t),o=i?.get(e);if(!o)return;const s=o.indexOf(n);s>-1&&o.splice(s,1)}catch{}}}}}();if("undefined"!=typeof window){const t=window;t.XTool=y,t.FyneJS=y}