var t;function e(t,e=null){try{return t()}catch(t){return e}}!function(t){t[t.Identifier=0]="Identifier",t[t.Keyword=1]="Keyword",t[t.Punctuation=2]="Punctuation",t[t.String=3]="String",t[t.Comment=4]="Comment",t[t.Whitespace=5]="Whitespace",t[t.Number=6]="Number",t[t.Arrow=7]="Arrow",t[t.Conditional=8]="Conditional"}(t||(t={})),new Set(["as","interface","type","import","export","from","extends","implements","declare","namespace","module","any","unknown","never","void","number","string","boolean","symbol","bigint","object","enum","function","const","let","var"]);const n=Symbol("$_xtoolfynjsisReactive");function i(t){return t&&!0===t[n]}function o(t){if(!function(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function s(t,e){if(i(t))return t;const r=Array.isArray(t),c="undefined"!=typeof Set&&t instanceof Set,f="undefined"!=typeof Map&&t instanceof Map;if(!(r||c||f||o(t)))return t;if(e||(e={maxReactiveDepth:1/0}),e&&e.maxReactiveDepth&&e.maxReactiveDepth<=0)return t;if(t[n])return t;Object.defineProperty(t,n,{value:!0,enumerable:!1,configurable:!1,writable:!1}),Object.defineProperty(t,Symbol.for("ReactiveControl"),{value:e,enumerable:!1,configurable:!1,writable:!0});const l=(t,n)=>{if(e&&e.baseChangeListener&&e.baseChangeListener(t,n),e&&e.changeListeners&&e.changeListeners.length>0){const i=()=>{for(const i of e.changeListeners)i(t,n)};if(e.signal?.aborted)return;!function(t){let e;return function(...n){clearTimeout(e),e=window.setTimeout(()=>{e=void 0,t.apply(this,n)},10)}}(i)()}};return new Proxy(t,{set(t,n,i){const o=t[n];return"object"==typeof i&&null!==i&&(e&&e.maxReactiveDepth&&e.maxReactiveDepth>0&&(e.maxReactiveDepth-=1),i=s(i,e)),Reflect.set(t,n,i),o!==i&&l(o,i),!0},get(t,o,u){const h=Reflect.get(t,o,u);return o===Symbol.for("ReactiveControl")?h:(e&&e.depTracker&&(Symbol.iterator===o||r||f||c&&["size","length","size","keys","entries","values"].includes(o+"")||"string"==typeof o||"number"==typeof o)&&e.depTracker(e.trackerId??o),o===Symbol.toPrimitive?e=>{if("number"===e)return NaN;if(i(t)){const e=t.value;if(void 0!==e)return e}else{const e=t.value;if(void 0!==e&&i(e))return e}return"string"===e?r?"[]":c?"Set {}":f?"Map {}":"[object Object]":null}:"object"==typeof h&&null!==h&&!0===h[n]&&void 0!==h.value?h.value:"function"==typeof h?r&&["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"].includes(o)?function(...n){const i=t.slice(),s=Array.prototype[o].apply(t,n);return e&&l(i,t),s}:(c||f)&&["add","delete","clear","set"].includes(o)?function(...n){const i=c?new Set(t):new Map(t),s=(c?Set.prototype:Map.prototype)[o].apply(t,n);return e&&l(i,t),s}:h:"object"==typeof h&&null!==h?(e&&e.maxReactiveDepth&&e.maxReactiveDepth>0&&(e.maxReactiveDepth-=1),s(h,e)):h)},deleteProperty(t,e){const n=t[e],i=Reflect.deleteProperty(t,e);return i&&l(n,void 0),i}})}const r=Symbol("$_xtoolfynjsisComputed");function c(t=8){let e="";for(let n=0;n<t;n++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}function f(t){return!(!t||!0!==t[r])}function l(t){if(i(t))return t[Symbol.for("ReactiveControl")]}function u(t,e){i(t)&&Object.defineProperty(t,Symbol.for("ReactiveControl"),{value:e,enumerable:!1,configurable:!1,writable:!0})}function h(t){if(!i(t))return t;const e=Array.isArray(t),n="undefined"!=typeof Set&&t instanceof Set,s="undefined"!=typeof Map&&t instanceof Map;if(!(e||n||s||o(t)))return t;if(e)return t.map(t=>h(t));if(n){const e=new Set;return t.forEach(t=>{e.add(h(t))}),e}if(s){const e=new Map;return t.forEach((t,n)=>{e.set(n,h(t))}),e}const r={};for(const e in t)t.hasOwnProperty(e)&&(r[e]=h(t[e]));return r}const a=Array.isArray,d=WeakMap,p=queueMicrotask,y=function(){const t=e,n=t=>(t||"").trim(),o=Array.from,y=Object.keys;let m=null;const b="style",w="display",v="none",g="tagName",_="TEMPLATE",x="length",M="source",$="readonly",S=Symbol("rawTarget"),j=(Symbol("ownerComponent"),new d),A=t=>t&&t[S]||t,O=new d;let E=0;const C=(t,e=5,n)=>{if(!t||"object"!=typeof t||e<=0)return 0;const i=A(t);if(n||(n=new WeakSet),n.has(i))return 0;n.add(i);let o=(t=>{let e=O.get(t);return void 0===e&&(e=++E,O.set(t,e)),e})(i)+(j.get(i)??0);try{for(const t in i){const s=i[t];s&&"object"==typeof s&&(o+=C(s,e-1,n))}}catch{}return o};let R=!0;const D="undefined"!=typeof document?document:null,F=["click","input","change","keydown","keyup"];try{if(D&&D.head&&!D.getElementById("x-tool-initial-css")){const t=D.createElement(b);t.id="x-tool-initial-css",t.textContent="[x-show],[x-if],[x-else],[x-else-if],[x\\:show],[x\\:if],[x\\:else],[x\\:else-if]{display:none;}",D.head.appendChild(t)}}catch{}let T="x",k=new Map;const P=t=>{const e=k.get(t);if(e)return e;const n=`${T}-${t}`;return k.set(t,n),n};class B{attachToParent(t){this.t=t,t.i(this)}get id(){return this.o}get framework(){return this.l}get element(){return this.u}set element(t){this.u=t}get isBound(){return this.h}set isBound(t){this.h=t}get isMounted(){return this.p}set isMounted(t){this.p=t}get isDestroyed(){return this.m}set isDestroyed(t){this.m=t}v(t){this._=t,m=t}M(t,e){if(!i(e))return;const n=l(e);if(!n)return;const o=n.depTracker,s=n.baseChangeListener;n.trackerId=t,n.depTracker=e=>{if(this.$&&this.S.length){const e=this.S[this.S.length-1];let n=this.j.get(e);n||(n=new Set,this.j.set(e,n),this.A=null),n.add(t),this.A=null}o&&o(e)},n.baseChangeListener=(e,n)=>{s&&s(e,n),this.O(t)},u(e,n)}C(){for(const e of this.R.values())for(const n of e.values())t(n);this.R.clear()}D(){this.C()}F(t,e){const n=t;let i=e in n?e:null;if(!i){const t=e.replace(/-([a-z])/g,(t,e)=>e.toUpperCase());i=t in n?t:"readonly"===e.toLowerCase()&&"readOnly"in n?"readOnly":null}return{elAny:n,propName:i,isBooleanProp:!(!i||"boolean"!=typeof n[i]),hasNonFunctionProp:!(!i||"function"==typeof n[i]),isKnownBooleanAttr:!!B.T[e.toLowerCase()]}}k(e,n,i,o){const{elAny:s,propName:r,isBooleanProp:c,hasNonFunctionProp:f,isKnownBooleanAttr:l}=o;if(c&&r||l){const t=!!i;return r&&c&&(s[r]=t),void e.toggleAttribute(n,t)}let u=null;if(i&&"object"==typeof i){const t=[];for(const e in i)i[e]&&t.push(e);u=t.length?t.join(" "):null}else null!=i&&(u=i+"");if(f&&r)if(null!==u){if(s[r]===u)return;try{s[r]=u}catch{t(()=>e.setAttribute(n,u))}}else e.removeAttribute(n);else null!==u?e.getAttribute(n)!==u&&e.setAttribute(n,u):e.removeAttribute(n)}P(t,e){const n=T+"-",i=T+":",o=[];let s=!1,r=null;const c=t.getAttributeNames();for(let t=0;t<c.length;t++){const f=c[t];(f.startsWith(n)||f.startsWith(i)||f.startsWith("@")||f.startsWith(":")&&f.length>1)&&(e?.skipRootFor&&f===P("for")||(o.push(f),s||f!==P("text")&&f!==P("html")||(s=!0),r||f!==P("for")||(r=f)))}return{names:o,hasTextOrHtml:s,forName:r}}setFrozen(t){t!==this.B&&(this.B=t,t?(this.N=this.I,this.I=!0,this.D()):(null!==this.N?this.I=this.N:this.I=!1,this.N=null,this.L()))}U(t){t!==this.I&&(this.I=t,t&&this.D())}q(t,e){const n=this.K.get(t)||[];n.push(e),this.K.set(t,n)}constructor(e,o,s){this.name="ReactiveComponent",this.W=!1,this.V=!1,this.u=null,this.h=!1,this.p=!1,this.m=!1,this.X=!1,this.H=[],this.t=null,this.Z={},this.G={},this.J=new Map,this.j=new Map,this.A=null,this.Y=new Map,this.S=[],this.$=!1,this.tt=!1,this.et=new Set,this.K=new Map,this.nt=new Set,this.it=new AbortController,this.R=new Map,this.ot=new d,this.st=0,this.rt=0,this.ct=null,this.ft=new Map,this.I=!1,this.B=!1,this.N=null,this.lt=!0,this.ut=!1,this.ht=new Set,this.dt=new Set,this.yt=null,this.bt=new Map,this.wt=new Map,this._=null,this.vt=new WeakSet,this.gt=!1,this._t=[],this.xt=null,this.Mt=null,this.$t=new d,this.St={},this.jt=null,this.At=null,this.Ot=null,this.Et=t=>{const e=this.Ct[t];if((!this.X||"beforeMount"!==t)&&("function"==typeof e&&(this.Rt(()=>this.Dt(e,[])),"beforeMount"===t&&(this.X=!0)),"mounted"===t&&this.Ft)){const t=this.Ft;if(this.isDestroyed||!this.element||!this.element.isConnected)return;const e=()=>{const e=n(t),i=this.Tt(e),o=this.kt();if(i){const t=this.Pt(i.paramsList,i.body,i.isBlock),e=i.paramsList.length?[this.element]:[],n=t.call(this.Bt(void 0,this.element||void 0),o,...e.slice(0,i.paramsList.length));return void("function"==typeof n&&this.Nt(n))}const s=this.It(e,-1!==e.indexOf(";")).call(o,this.Bt(void 0,this.element||void 0));"function"==typeof s&&this.Nt(s)};this.Rt(()=>this.Dt(e,[]))}},this.Nt=e=>{if("function"!=typeof e)return;const n=()=>{t(e),this.nt.delete(n)};return this.nt.add(n),()=>{this.nt.delete(n)}},o.name&&(this.name=o.name),this.o=e,this.l=s,this.Lt=o.methods||{},this.Z=this.zt(o.computed||{},"computed"),this.G=o.propEffects||{},this.G&&Object.keys(this.G).length&&(this.G=this.zt(this.G,"prop")),this.Ct={mounted:o.mounted,unmounted:o.unmounted||o.destroyed,updated:o.updated,beforeMount:o.beforeMount,beforeUnmount:o.beforeUnmount||o.beforeDestroy,setup:o.setup},this.St=this.Ut(o.data||{}),this.qt=this.Kt(this.St||{});try{const t=Object.keys(this.St||{});for(let e=0;e<t.length;e++){const n=t[e],o=this.St[n];i(o)&&this.M(n,o)}}catch{}this.Wt=this.zt(this.Lt,"methods")}Ut(t,e){if(null===t||"object"!=typeof t)return t;if(i(t))return t;const n=e||new WeakMap;if(n.has(t))return n.get(t);if(a(t)){const e=[];n.set(t,e);for(let i=0;i<t.length;i++)e[i]=this.Ut(t[i],n);return e}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return RegExp(t.source,t.flags);if("undefined"!=typeof Map&&t instanceof Map){const e=new Map;return n.set(t,e),t.forEach((t,i)=>{e.set(this.Ut(i,n),this.Ut(t,n))}),e}if("undefined"!=typeof Set&&t instanceof Set){const e=new Set;return n.set(t,e),t.forEach(t=>e.add(this.Ut(t,n))),e}const o=Object.getPrototypeOf(t);if(o===Object.prototype||null===o){const e=Object.create(o);n.set(t,e);for(const i of Object.keys(t))e[i]=this.Ut(t[i],n);return e}return t}callBeforeMount(){this.X||(this.Et("beforeMount"),this.X=!0)}Vt(){if(!this.isBound||this.I)return;const t=this;null!=t.xt&&(cancelAnimationFrame(t.xt),t.xt=null),t.J.clear();const e=t.ht;for(const[,n]of t.wt)for(const t of n)e.add(t);t.xt=requestAnimationFrame(()=>{if(t.xt=null,!t.isDestroyed&&!t.I){for(const n of e)t.Rt(n);e.clear(),t.L(),t.Et("updated")}})}Xt(){const t=new Map;for(const[e,n]of this.j)for(const i of n){let n=t.get(i);n||(n=new Set,t.set(i,n)),n.add(e)}return t}Ht(){this.A=null}O(t){if(!this.isBound||!1===this.lt)return;const e=this,n=e.wt.get(t);if(n){const t=e.ht,i=e.vt;for(const e of n)i.has(e)||t.add(e)}e.dt.add(t),e.ut?e.Zt():null==e.xt&&(e.xt=requestAnimationFrame(()=>{if(e.xt=null,e.isDestroyed||e.I)return;e.Zt();const t=e.ht;if(t.size>0){for(const n of t)e.Rt(n);t.clear(),e.Et("updated")}}))}Zt(){if(!this.j.size||!this.dt.size)return void this.dt.clear();this.A||(this.A=this.Xt());const t=this.A,e=new Set,n=this.ht,i=Array.from(this.dt);this.dt.clear();let o=0;for(;o<i.length;){const n=i[o++],s=t.get(n);if(s)for(const t of s)e.has(t)||(e.add(t),i.push(t))}for(const t of e){const e=this.wt.get(t);if(e)for(const t of e)n.add(t);const i=this.Y.get(t);if(i&&"function"==typeof i.depTracker)try{i.depTracker(t)}catch{}this.J.delete(t)}}Gt(t){try{const e=t+"";if(!/\[native code\]/.test(e)){let n=e.trim();return/^function[\s\(]/.test(n)||/^[\w\$_][\w\d\$_]*\s*=>/.test(n)||/^\(.*?\)\s*=>/.test(n)||(n="function "+n),{wrapper:Function("thisArg","argsArray","ctx","with(ctx){ const f = ("+n+"); return f.apply(thisArg, argsArray); }"),original:t}}}catch{}return{wrapper:null,original:t}}zt(t,e){const n={};for(const i in t||{}){const o=t[i];if("computed"===e)if(f(o)){const t=l(o);t&&this.Y.set(i,t),n[i]=()=>o.value}else n[i]=()=>{const t=this.kt();return o.call(t)};else if("methods"===e){const{wrapper:t,original:e}=this.Gt(o);n[i]=(...n)=>{const o=this.tt,s=this.yt;this.tt=!0,this.yt=i;const r=this.kt();try{if(!t)return this.Rt(()=>e.apply(r,n));try{return this.Rt(()=>t.call(r,r,n,this.Bt(void 0,void 0)))}catch{return this.Rt(()=>e.apply(r,n))}}finally{this.tt=o,this.yt=s}}}else{const{wrapper:t,original:e}=this.Gt(o);n[i]=(n,o)=>{const s=this.yt,r=this.V;this.yt="prop:"+i,this.V=!0;const c=this.kt();try{if(!t)return this.Rt(()=>e.call(c,n,o));try{return this.Rt(()=>t.call(c,c,[n,o],this.Bt(void 0,void 0)))}catch{return this.Rt(()=>e.call(c,n,o))}}finally{this.V=r,this.yt=s}}}}return n}Jt(t){if(this.Qt(t),this.J.has(t))return this.J.get(t);this.$=!0,this.S.push(t),this.j.set(t,new Set),this.A=null;try{const e=this.Z[t],n="function"==typeof e?e():void 0;return this.S.pop(),this.$=this.S.length>0,this.J.set(t,n),n}catch(t){return this.S.pop(),void(this.$=this.S.length>0)}}Qt(t){const e=m||this._;if(!e)return;e.Yt=!0;let n=this.wt.get(t);n||(n=new Set,this.wt.set(t,n)),n.add(e);const i=this.S.length;if(this.$&&i){const e=this.S[i-1];let n=this.j.get(e);n||(n=new Set,this.j.set(e,n));const o=n.size;n.add(t),n.size!==o&&(this.A=null)}}L(){this.I||this.B||this.m||this.gt||(this.gt=!0,requestAnimationFrame(()=>{if(this.Mt=null,this.gt=!1,this.m||this.I)this._t?.length&&(this._t.length=0);else if(this.te(),this._t?.length){const e=this._t.splice(0);for(const n of e)t(n)}}))}Rt(t,e){try{return t()}catch(t){return e}}bindToElement(t){this.h||(this.u=t,this.X||this.callBeforeMount(),this.completeBinding())}getContext(t=!0){return this.kt(t)}ee(){this.u&&(t(()=>this.ne(this.u)),this.L())}completeBinding(){!this.h&&this.u&&(this.l.ie(this.u)||this.l.oe(this.u,this),this.h=!0,this.p=!0,this.ne(this.u),this.Ct.setup&&this.Rt(()=>this.Dt(this.Ct.setup,[])),this.te(),this.Et("mounted"))}i(t){this.H.includes(t)||this.H.push(t)}se(t){const e=this.H.indexOf(t);e>-1&&this.H.splice(e,1)}re(t){this.Ft=t||void 0}Dt(t,e,n){const i=this.kt();if(n){if("function"!=typeof t)return;return t.apply(i,e)}try{const n=t+"";if(!/\[native code\]/.test(n)){let o=n.trim();/^function[\s\(]/.test(o)||/^[\w\$_][\w\d\$_]*\s*=>/.test(o)||/^\(.*?\)\s*=>/.test(o)||(o="function "+o);const s=Function("thisArg","argsArray","ctx","with(ctx){ const f = ("+o+"); return f.apply(thisArg, argsArray); }");try{return s.call(i,i,e,this.Bt(void 0,void 0))}catch(n){return t.apply(i,e)}}}catch{}if("function"==typeof t)return t.apply(i,e)}destroy(){const e=this;if(!e.m){e.Et("beforeUnmount");for(const t of e.H)t.isDestroyed||t.destroy();e.t&&e.t.se(e);for(const[n,i]of e.K)for(const o of i)"custom"===o.type&&o.customDirective?.unbind&&t(()=>o.customDirective.unbind(n,e));if(e.K.clear(),t(()=>e.it.abort()),e.it=new AbortController,e.C(),e.ce(),e.J.clear(),e.bt.clear(),e.wt.clear(),e.Ot&&e.fe)for(const t of e.Ot.wt.values())t.delete(e.fe);e.u&&e.l.le(e.u),e.l.ue(e),null!=e.xt&&(cancelAnimationFrame(e.xt),e.xt=null),null!=e.Mt&&(cancelAnimationFrame(e.Mt),e.Mt=null),e.Et("unmounted"),e.m=!0,e.p=!1,e.h=!1,e.H=[],e.t=null,e.he=new d,e.ht.clear(),e.u=null,p(()=>e.l.ae(e.o)),e.qt={},e.St={},e.Wt={},e.Z={},e.G={},e._=null,e.ft.clear()}}de(t,e){let n=this.ft.get(t);n||(n=new Set,this.ft.set(t,n)),n.add(e)}pe(t,e){const n=this.ft.get(t);n&&(n.delete(e),0===n.size&&this.ft.delete(t))}ye(t,e){const n={name:t,payload:e,me:!1,stopPropagation(){this.me=!0}};let i=this;for(;i;){const e=i.ft.get(t);if(e&&e.size)for(const t of Array.from(e)){try{t.call(i.kt(!0),n)}catch{}if(n.me)return}i=i.t}}be(t,e){if(!t||!e)return;this.Ot=e;const n=this.u;let i;try{i=Function("ctx","with(ctx){return ("+t+")}")}catch{return}const o={},s={};let r=!0;const c=()=>{let t;e.v(c);try{const o=e.Bt(void 0,n);t=i.call(e.getContext(!0),o)}catch{t=null}if(e.v(null),t&&"object"==typeof t){this.qt.$props=this.qt.$props||{};const e=this.l.we,n=[];for(const i in t){const c=t[i],f=o[i];this.qt.$props[i]=c;let l=r||o[i]!==c;const u=null!==c&&"object"==typeof c;if(!l&&u&&(l=C(c)!==(s[i]??-1)),!l)continue;o[i]=c;const h=i in this.G?this.G[i]:void 0;h&&!this.I?n.push({eff:h,newVal:c,oldVal:f,key:i,isObjProp:u}):e?(this.W=!0,this.qt[i]=c,this.W=!1,u&&(s[i]=C(c))):(this.O("$props"),u&&(s[i]=C(c)))}if(n.length>0){this.ut=!0;try{for(const{eff:t,newVal:e,oldVal:i,key:o,isObjProp:r}of n){const n=this.V;this.V=!0,this.W=!0;try{t(e,i)}finally{this.V=n,this.W=!1}r&&(s[o]=C(e))}}finally{this.ut=!1;const t=this.ht;if(t.size>0){for(const e of t)this.Rt(e);t.clear(),this.Et("updated")}}}r=!1}};this.fe=c,c()}ce(){for(const e of this.nt)t(e);this.nt.clear()}ve(t,e,n,i){const o=this.it.signal;if("boolean"==typeof i)t.addEventListener(e,n,{capture:i,signal:o});else if(i){const s=i.signal&&i.signal!==o?i:{...i,signal:o};t.addEventListener(e,n,s)}else t.addEventListener(e,n,{signal:o})}ge(t){let e=this.ot.get(t);return e||(e=(++this.st).toString(36),this.ot.set(t,e)),e}ne(t){const e=this,n=(t,n=!1)=>{if(!n&&(t.hasAttribute(P("data"))||this.l.ie(t)))return!1;const i="COMPONENT"===t[g];let o,s,r;const c=t._e;if(c&&c.length>0){for(const{name:e,value:n}of c)t.setAttribute(e,n);o=c.map(t=>t.name),s=o.some(t=>t===P("text")||t===P("html")),r=o.find(t=>t===P("for"))||null}else{const n=e.P(t);if(o=n.names,s=n.hasTextOrHtml,r=n.forName,o.length>0){const e=[];for(const n of o)e.push({name:n,value:t.getAttribute(n)||""});t._e=e}}if(o.length>0){if(r)return e.xe(t,r,t.getAttribute(r)||""),!1;const n=[],i=[];for(const t of o)t.startsWith(T+"-transition")||t.startsWith(T+":transition")?n.push(t):i.push(t);for(const i of n)e.xe(t,i,t.getAttribute(i)||"");for(const n of i)e.xe(t,n,t.getAttribute(n)||"")}return n||!i};n(t,!0),e.Me(t,n)}$e(t){}Me(t,e){let n=t.firstElementChild;for(;n;){const t=n.nextElementSibling;e(n)&&this.Me(n,e),n=t}}Se(t,e){if(t[g]!==_)return t;const n=e.slice(T.length+1);if("for"===n||"if"===n||"else-if"===n||"else"===n)return t;const i=t,o=i.content,s=Array.from(o.children);let r;1===s.length?r=s[0].cloneNode(!0):(r=D.createElement("div"),r.style.setProperty(w,"contents","important"),r.appendChild(o.cloneNode(!0)));for(const t of Array.from(i.attributes))t.name!==e&&r.setAttribute(t.name,t.value);return i.parentNode?.insertBefore(r,i),i.parentNode?.removeChild(i),this.framework.je(r,this),this.framework.Ae(),this.ne(r),r}xe(t,e,n){const i=this;t=i.Se(t,e);const o=e.startsWith("@"),s=e.startsWith(T+":");if(e.startsWith(":")){const o=e.slice(1);if(o)return t.removeAttribute(e),i.Oe(t,o,n)}const r=o?"on:"+e.slice(1):e.slice(T.length+1);if(!o&&(s||"class"===r||r===b))return t.removeAttribute(e),i.Oe(t,r,n);if(!o&&("text"===r||"html"===r||"show"===r))return i.Ee(t,n,r,e);if(!o&&"ref"===r)return t.removeAttribute(e),i.Ce(t,n);if(!(o||"if"!==r?o||"model"!==r?"for"===r&&(t.removeAttribute(e),i.Re(t,n),1):(t.removeAttribute(e),i.De(t,n),1):(t.removeAttribute(e),i.Fe(t,n),1))&&(o||r.indexOf(":")>-1)){const[s,c]=r.split(":",2),[f,...l]=c.split("."),u=l.reduce((t,e)=>(e&&(t[e]=!0),t),{});if(!o&&"COMPONENT"===t[g]&&"prop"===s)return;if("on"===s){t.removeAttribute(e);const o=i.framework.Te(f);return o?i.ke(t,f,n,o,u):i.Pe(t,f,n,u)}return t.removeAttribute(e),i.Oe(t,f,n)}}Ce(t,e){}Be(t){}Ne(t,e,n,i){}Ie(t,e){const n=()=>{this._=n;try{t()}finally{this._=null}};return n(),this.et.add(n),R&&e&&void 0===e.Le&&(e.Le=!n.Yt),n}ze(t,e,n,i){}Ue(t,e,n,i){return e?n?t.style.setProperty("display",n,"important"):t.style.removeProperty("display"):t.style.setProperty("display",v,"important"),void(i&&i())}Ee(t,e,n,i){if("class"===n||n===b)return this.Oe(t,n,e);const o=this.qe(e,t);let s,r,c=!0;if("show"===n){const e=t;s=e.style[w]!==v?e.style[w]:void 0}const f={type:n,expression:e,update:void 0,originalDisplay:s};this.q(t,f);const l=this.Ie(()=>{const e=o(),f=t;switch(c&&i&&(t.removeAttribute(i),c=!1),n){case"text":f.textContent=e+"";break;case"html":f.innerHTML=(e||"")+"";break;case"show":const t=!!e;if(r===t)return;r=t,this.Ue(f,t,s)}},f);f.update=l}De(t,e){const n="checkbox"===t.type,i="number"===t.type||"range"===t.type,o="SELECT"===t.tagName&&!0===t.multiple;e in this.qt||(this.qt[e]=void 0);const s=this.qe(e,t),r=this.It(e+" = $value",!0),c=n?(()=>{if(t.hasAttribute("value"))return t.value;const e=this.Ke(t);if(e){const t=Object.keys(e);if(1===t.length)return e[t[0]]}return t.value})():void 0;this.Ie(()=>(e=>{if(n)if(Array.isArray(e)){const n=t.hasAttribute("value")?t.value:c;t.checked=null!=n&&e.includes(n)}else t.checked=!!e;else{if(o){const n=t,i=Array.isArray(e)?e:[],o=n.options;for(let t=0;t<o.length;t++)o[t].selected=i.includes(o[t].value);return}t.value=(e??(i?0:""))+""}})(s()));const f=this.Bt(void 0,t),l=t.type,u="SELECT"===t[g]||"checkbox"===l||"radio"===l||"file"===l?"change":"input";this.ve(t,u,()=>{const e=(()=>{if(n){const e=s();return Array.isArray(e)&&void 0!==c?t.checked?c:void 0:t.hasAttribute("value")?t.checked?t.value:void 0:t.checked}if(o){const e=[],n=t.options;for(let t=0;t<n.length;t++)n[t].selected&&e.push(n[t].value);return e}return i?parseFloat(t.value)||0:t.value})(),l=this.Rt(()=>s());if(n&&Array.isArray(l)){const e=t.hasAttribute("value")?t.value:c;if(void 0!==e){const n=l.indexOf(e);t.checked?-1===n&&l.push(e):n>-1&&l.splice(n,1)}}else o&&Array.isArray(l)?l.splice(0,l.length,...e):(f.$value=e,this.Rt(()=>{r.call(this.kt(),f)}))}),this.q(t,{type:"model",property:e})}Fe(e,n){const i=this;let o=null;!e.parentNode&&(o=D.createDocumentFragment(),o.appendChild(e));const s=D.createComment("x-if");e.parentNode?.insertBefore(s,e),e.We=s,e.Ve=s.parentElement||null;const r=[],c=(t=>{if(t[g]===_){const e=t.content,n=Array.from(e.children);if(1===n.length){const t=n[0].cloneNode(!0);return{branch:{el:t,isTemplate:!0,originalDisplay:t.style[w]!==v?t.style[w]:void 0,isFragment:!1}}}if(n.length>1)return{branch:{anchor:D.createComment("x-if-branch"),nodes:[],endMarker:D.createComment("/x-if-branch"),isTemplate:!0,isFragment:!0},templateChildren:n};const i=D.createElement("div");return i.style[w]=v,{branch:{el:i,isTemplate:!0,originalDisplay:v,isFragment:!1}}}const e=t.style[w]!==v?t.style[w]:void 0,n=t._e;if(n){const e=P("if"),i=P("else-if"),o=P("else");t._e=n.filter(t=>t.name!==e&&t.name!==i&&t.name!==o)}return{branch:{el:t,isTemplate:!1,originalDisplay:e,isFragment:!1}}})(e),f=i.qe(n,e);c.branch.isFragment,r.push({...c.branch,test:f});const l=[c.templateChildren||null],u=[e];let h=-1;for(const t of u)t.parentNode&&t.parentNode.removeChild(t);const a=t=>{if(t<0)return;const n=r[t],o=i.Ke(s.parentElement);if(n.isFragment){const r=l[t];if(!r)return;if(n.nodes=r.map(t=>t.cloneNode(!0)),o){n.anchor.Xe=o;for(const t of n.nodes)t.Xe=o}for(const t of n.nodes)t.He||(i.ne(t),t.He=!0);const c=s.nextSibling;s.parentNode?.insertBefore(n.anchor,c);for(const t of n.nodes)s.parentNode?.insertBefore(t,c);s.parentNode?.insertBefore(n.endMarker,c);for(const t of n.nodes)i.framework.je(t,i);e.Ze=n.anchor}else if(o&&(n.el.Xe=o),n.el.Ge){const t=e.Ze;t&&t!==n.el&&t.parentNode&&t.parentNode.removeChild(t),n.el.parentNode||s.parentNode?.insertBefore(n.el,s.nextSibling),e.Ze=n.el,n.el.Ge=!1,i.Je(n.el),i.Ue(n.el,!0,n.originalDisplay)}else{const t=P("data"),o=n.el.hasAttribute(t)&&!i.framework.ie(n.el);o?i.framework.Qe(n.el,i):n.el.He||(i.ne(n.el),n.el.He=!0);const r=e.Ze;r&&r.parentNode&&r.parentNode.removeChild(r),n.el.parentNode||s.parentNode?.insertBefore(n.el,s.nextSibling),e.Ze=n.el,o&&i.framework.Ae(),i.Ue(n.el,!0,n.originalDisplay),i.framework.je(n.el,i)}h=t},d=i.Ie(()=>{let e=-1;for(let t=0;t<r[x];t++){const n=r[t];if(!n.test||n.test()){e=t;break}}e!==h&&(-1!==h?((e,n)=>{if(e<0)return void(n&&n());const o=r[e];if(h=-1,o.isFragment){for(const e of o.nodes){i.Ye(e);const n=e.querySelectorAll("component[source]");for(const e of n){const n=i.framework.ie(e);n&&!n.isDestroyed&&t(()=>{i.framework.ue(n),n.destroy()})}e.He=!1,e.parentNode&&e.parentNode.removeChild(e)}o.anchor.parentNode&&o.anchor.parentNode.removeChild(o.anchor),o.endMarker.parentNode&&o.endMarker.parentNode.removeChild(o.endMarker),o.nodes=[],n&&n()}else o.el.parentNode?(i.tn(o.el),o.el.Ge=!0,i.Ue(o.el,!1,o.originalDisplay,()=>{o.el.Ge?(o.el.parentNode&&o.el.parentNode.removeChild(o.el),n&&n()):n&&n()})):n&&n()})(h,()=>a(e)):a(e))});i.q(e,{type:"if",expression:n,update:d})}Pe(t,e,i,o){const s=this,r=n(i),c=o?{once:!!o.once,passive:!!o.passive,capture:!!o.capture}:void 0,f=!!o?.self,l=!!o?.prevent,u=!!o?.stop,h=!!o?.outside,a=!!o?.window,d=!!o?.defer,m={enter:["enter"],esc:["escape","esc"],escape:["escape","esc"],space:[" ","space","spacebar"],tab:["tab"],backspace:["backspace"],delete:["delete","del"],del:["delete","del"],arrowup:["arrowup","up"],arrowdown:["arrowdown","down"],arrowleft:["arrowleft","left"],arrowright:["arrowright","right"],home:["home"],end:["end"],pageup:["pageup"],pagedown:["pagedown"]},b={ctrl:!!o?.ctrl,alt:!!o?.alt,shift:!!o?.shift,meta:!!o?.meta},w={left:0,middle:1,right:2},v=!!o?.single,g=!!o?.multi,_=o?y(o):[],x=[];for(const t of _){const e=m[t.toLowerCase()];e&&x.push(...e)}const M=[];for(const t of _){const e=w[t.toLowerCase()];void 0!==e&&M.push(e)}const $=x.length>0||b.ctrl||b.alt||b.shift||b.meta,S=M.length>0,j=v||g,A=e=>{const n=e.composedPath?e.composedPath():null,i=n&&n.length?n[0]:e.target;if(h){if(!i)return!1;if(t instanceof Node&&(t===i||t.contains(i)))return!1}if(f&&e.target!==t)return!1;if(j){if(!(e instanceof TouchEvent))return!1;{const t=e.touches.length;if(v&&1!==t)return!1;if(g&&t<2)return!1}}if(S){if(!(e instanceof MouseEvent))return!1;if(!M.includes(e.button))return!1}if($){if(!(e instanceof KeyboardEvent))return!1;const t=(e.key||"").toLowerCase();if(x.length>0&&!x.includes(t))return!1;const{ctrlKey:n,altKey:i,shiftKey:o,metaKey:s}=e;if(b.ctrl&&!n||b.alt&&!i||b.shift&&!o||b.meta&&!s)return!1}return!0},O=s.en(r,t,e=>[e,t]),E=e=>{if((!((h||a)&&t instanceof Element)||t.isConnected)&&A(e)&&(l&&e.preventDefault(),u&&e.stopPropagation(),O)){if(d&&"function"==typeof p){const t=e;return void p(()=>s.Rt(()=>O(t)))}s.Rt(()=>O(e))}},C=!!this.framework.nn().delegate&&F.includes(e);if(h||a||!C){const n=a?"undefined"!=typeof window?window:t:h?t.isConnected?t?.ownerDocument:document||D||document:t;if((h||a)&&t instanceof Element){const i=new AbortController,o=c?{...c,signal:i.signal}:{signal:i.signal};n.addEventListener(e,E,o);const r=()=>{i.abort()};s.framework.registerRefCleanup(t,r),s.Nt(r)}else s.ve(n,e,E,c)}else{const n=this.framework.sn(t,e,{filter:t=>A(t),run:t=>E(t),once:!!o?.once,comp:this});this.Nt(n)}}It(t,e=!1){const n=`${e?"s":"r"}:${t}`;let i=this.bt.get(n);if(!i){try{i=Function("ctx",`with(ctx){${e?t:`return (${t})`}}`)}catch{t=JSON.stringify(t),i=Function("ctx",`with(ctx){${e?t:`return (${t})`}}`)}if(this.bt.set(n,i),this.bt.size>B.rn){const t=this.bt.keys().next().value;t&&this.bt.delete(t)}}return i}qe(t,e){const n=this,o=n.It(t);return()=>{const t=n.Bt(void 0,e);try{let e=o.call(n.kt(),t);return e&&"object"==typeof e&&i(e)&&(e=e.value),e}catch(t){return}}}Tt(t){let e=t.match(/^\s*\(\s*([^)]*?)\s*\)\s*=>\s*([\s\S]+)$/);if(e||(e=t.match(/^\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=>\s*([\s\S]+)$/)),!e)return null;const i=(e[1]||"").split(",").map(t=>t.trim()).filter(Boolean),o=n(e[2]),s=o.startsWith("{")&&o.endsWith("}");return{paramsList:i,body:s?o.slice(1,-1):o,isBlock:s}}Pt(t,e,n){return Function("ctx",...t,"with(ctx){ "+(n?e:"return ( "+e+" );")+" }")}en(e,i,o){const s=this,r=n(e);if(!r)return null;const c=s.Tt(r),f=s.kt();if(c){const{paramsList:t,body:e,isBlock:n}=c,r=s.Pt(t,e,n);return e=>{const n=s.Bt(e,i),c=o(e);s.Rt(()=>r.call(f,n,...c.slice(0,t.length)))}}const l=r.includes(";"),u=s.It(r,l);return e=>{const n=s.Bt(e,i),o=u.call(f,n);"function"==typeof o&&t(()=>o.call(f,e))}}cn(t,e){if(this.$)throw Error(`[x-tool] Mutation via '${t+""}.${e}()' is not allowed during computed evaluation.`);if(this.B)throw Error(`[x-tool] Mutation via '${t+""}.${e}()' is not allowed while component is frozen.`)}fn(t,e){return t}Kt(t){const e=this;return new Proxy(t,{get:(t,n,i)=>{const o=Reflect.get(t,n,i);return n===Symbol.iterator||"symbol"!=typeof n&&e.Qt(n),o},ownKeys:t=>Reflect.ownKeys(t),has:(t,e)=>Reflect.has(t,e),set:(t,n,o,s)=>{if(e.m)return!0;if(e.B)return!0;if(e.$)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed during computed evaluation.`);if(n===Symbol.iterator&&a(t))return o;const r=Reflect.get(t,n);if(r===o&&!e.W)return!0;if(Reflect.has(t,n))Reflect.set(t,n,o,s);else try{Reflect.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:o})}catch{Reflect.set(t,n,o,s)}try{"symbol"!=typeof n&&i(o)&&e.M(n+"",o)}catch{}if(o&&"object"==typeof o&&(t=>{const e=A(t),n=(j.get(e)??0)+1;j.set(e,n)})(o),this.I||this.O(n),this.W&&"$props"!==n&&!this.V){const e=t.$props;e&&(e[n]=o);const i=this.G[n];if(i&&!this.I){this.V=!0;try{i(o,r)}finally{this.V=!1}}}return!0}})}ln(){if(this.At)return this.At;const t=this,e=Object.create(null);return Object.defineProperties(e,{$el:{get:()=>t.u,enumerable:!0},$id:{get:()=>t.o,enumerable:!0},$isMounted:{get:()=>t.p,enumerable:!0},$isDestroyed:{get:()=>t.m,enumerable:!0},$isSealed:{get:()=>t.I,enumerable:!0},$isFrozen:{get:()=>t.B,enumerable:!0},$parent:{get:()=>t.t,enumerable:!0},$children:{get:()=>t.H,enumerable:!0}}),e.$destroy=()=>t.destroy(),e.$forceUpdate=()=>t.L(),e.$addCleanupFunction=e=>t.Nt(e),e.Signals={emit:(e,n)=>{t.ye(e+"",n)},connect:(e,n)=>{t.de(e+"",n)},disconnect:(e,n)=>{t.pe(e+"",n)}},e.$nextTick=e=>e?(t._t.push(e),void(t.gt||p(()=>{if(!t.gt&&t._t.length){const e=t._t.splice(0,t._t.length);for(const n of e)t.Rt(()=>n())}}))):new Promise(e=>{t._t.push(()=>e()),t.gt||p(()=>{if(!t.gt&&t._t.length){const e=t._t.splice(0,t._t.length);for(const n of e)t.Rt(()=>n())}})}),e.$seal=(e=!0)=>{t.U(!!e)},e.$mutate=e=>{const n=t.tt;if(t.lt=!1,t.$)throw Error("[x-tool] $mutate cannot be used inside computed evaluation; computed getters must be pure.");t.tt=!1;try{return"function"==typeof e?e():void 0}finally{t.tt=n,t.lt=!0,t.Vt()}},this.At=e,e}kt(t=!0){const e=this;if(e.jt)return e.jt;const n=e.ln(),i=e.qt;return e.jt=new Proxy(i,{has:(t,o)=>o in i||o in e.Z||o in n||o in e.Wt,get:(t,i)=>i in t?(e.Qt(i),t[i]):i in e.Z?e.Jt(i):i in n?n[i]:e.Wt[i],set:(t,n,i)=>{if(e.$)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed during computed evaluation.`);if(e.B)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed while component is frozen.`);return e.qt[n]=i,!0}}),e.jt}un(){if(this.ct)return this.ct;const e=this,n="undefined"!=typeof window?window:void 0,i="undefined"!=typeof document?document:void 0,o=this.framework.nn(),s=!!o.sandboxExpressions,r=new Set((o.allowGlobals||[]).map(t=>t+"")),c=(n,i)=>{const o=e.yt||"__anonymous__";let s=e.R.get(o);s||(s=new Map,e.R.set(o,s));const r=s.get(n);r&&(t(r),s.delete(n));const c=i();if("function"==typeof c){const t=()=>{try{c()}finally{s?.delete(n)}};s.set(n,t),e.Nt(t)}},f=n=>n&&"function"==typeof n.addEventListener?new Proxy(n,{get:(n,i)=>{if("addEventListener"===i)return(i,o,s)=>{if(e.I||e.B)return;n.addEventListener(i,o,s);const r="boolean"==typeof s?s:s?.capture?"1":"0",f="listener:"+e.ge(n)+":"+i+":"+r;c(f,()=>()=>{t(()=>n.removeEventListener(i,o,s))})};if("removeEventListener"===i)return(e,i,o)=>{t(()=>n.removeEventListener(e,i,o))};if("querySelector"===i)return t=>f(n.querySelector(t));if("querySelectorAll"===i)return t=>Array.from(n.querySelectorAll(t)).map(f);if("getElementById"===i)return t=>f(n.getElementById(t));if("document"===i){const t=n.document;return f(t)||t}if("defaultView"===i){const t=n.defaultView;return f(t)||t}if("body"===i){const t=n.body;return f(t)||t}const o=n[i];return"function"==typeof o?t(()=>o.bind(n),o):o}}):n,l=(t,i,...o)=>{if(e.I||e.B||e.m)return;const s=n?.setTimeout?.(t,i,...o);return null!=s&&c("timeout",()=>()=>{n?.clearTimeout?.(s)}),s},u=(t,i,...o)=>{if(e.I||e.B)return;const s=n?.setInterval?.(t,i,...o);return null!=s&&c("interval",()=>()=>{n?.clearInterval?.(s)}),s},h=t=>{if(e.I||e.B)return;const i=n?.requestAnimationFrame?.(t);return null!=i&&c("raf",()=>()=>{n?.cancelAnimationFrame?.(i)}),i},a=(t,i)=>{if(e.I||e.B||e.m)return;const o=n?.fetch||("undefined"!=typeof fetch?fetch:void 0);if(!o)return;const s=new AbortController,r=s.signal,f={...i};i?.signal&&i.signal.addEventListener("abort",()=>s.abort()),f.signal=r;const l="fetch:"+ ++e.rt;return c(l,()=>()=>{r.aborted||s.abort()}),o(t,f)},d=n=>{if(n)return function(){if(e.I||e.B||e.m)return{open(){},send(){},abort(){},setRequestHeader(){},addEventListener(){},removeEventListener(){},readyState:0,status:0,responseText:"",response:null};const i=new n,o="xhr:"+ ++e.rt;let s=!1;return c(o,()=>()=>{s||(s=!0,t(()=>i.abort()))}),new Proxy(i,{get(t,e){const n=t[e];return"function"==typeof n?n.bind(t):n},set:(t,e,n)=>(t[e]=n,!0)})}},p=(n,i)=>{if(n)return function(...o){if(e.I||e.B)return{observe(){},disconnect(){},unobserve(){}};const s=new n(...o);return c("observer:"+i,()=>()=>{t(()=>s.disconnect())}),s}},y={Signals:{emit:(t,n)=>{e.ye(t+"",n)},connect:(t,n)=>{e.de(t+"",n)},disconnect:(t,n)=>{e.pe(t+"",n)}},...s&&!r.has("setTimeout")?{}:{setTimeout:l},...s&&!r.has("clearTimeout")?{}:{clearTimeout:e=>{t(()=>n?.clearTimeout?.(e))}},...s&&!r.has("setInterval")?{}:{setInterval:u},...s&&!r.has("clearInterval")?{}:{clearInterval:e=>{t(()=>n?.clearInterval?.(e))}},...s&&!r.has("requestAnimationFrame")?{}:{requestAnimationFrame:h},...s&&!r.has("cancelAnimationFrame")?{}:{cancelAnimationFrame:e=>{t(()=>n?.cancelAnimationFrame?.(e))}},...s&&!r.has("MutationObserver")?{}:{MutationObserver:p(n?.MutationObserver,"mutation")},...s&&!r.has("ResizeObserver")?{}:{ResizeObserver:p(n?.ResizeObserver,"resize")},...s&&!r.has("IntersectionObserver")?{}:{IntersectionObserver:p(n?.IntersectionObserver,"intersection")},...s&&!r.has("fetch")?{}:{fetch:a},...s&&!r.has("XMLHttpRequest")?{}:{XMLHttpRequest:d(n?.XMLHttpRequest)},...s&&!r.has("window")?{}:{window:f(n)},...s&&!r.has("document")?{}:{document:f(i)}};return this.ct={gWindow:n,gDocument:i,sandbox:s,allow:r,wrapTarget:f,registerResource:c,ctxSetTimeout:l,ctxSetInterval:u,ctxRequestAnimationFrame:h,ctxFetch:a,wrapXHRCtor:d,wrapObserverCtor:p,staticSpecials:y},this.ct}Bt(t,e,n){const i=this,o=this.un(),s=e?this.Ke(e):null,r=(t,e,n,i)=>{if(i){const i=t.style;null==n||!1===n?i.removeProperty(e):i.setProperty(e,n+"")}else null==n||!1===n?t.removeAttribute(e):!0===n?t.setAttribute(e,""):t.setAttribute(e,n+"")},c=(t,e,n,i)=>{const o=e.match(/^(.*)?\[([^\]]+)\](.*)$/);if(o){const[,e="",s,c=""]=o,f=s.split(",").map(t=>t.trim()).filter(Boolean),l=n&&"object"==typeof n&&!Array.isArray(n);for(const o of f){const s=e+o+c,f=l&&o in n?n[o]:n;r(t,s,f,i)}}else r(t,e,n,i)},f={$target:e||null,$event:t||null,$attr:(t,n)=>{if(e)if("object"==typeof t&&null!==t)for(const n in t)({}).hasOwnProperty.call(t,n)&&c(e,n,t[n]);else"string"==typeof t&&c(e,t,n)},$css:(t,n)=>{if(e)if("object"==typeof t&&null!==t)for(const n in t)({}).hasOwnProperty.call(t,n)&&c(e,n,t[n],!0);else"string"==typeof t&&c(e,t,n,!0)}},l=o.staticSpecials;return new Proxy({},{get:(t,e)=>s&&e in s?s[e]:e in i.qt?i.qt[e]:e in i.Z?i.Jt(e):e in i.Wt?i.Wt[e]:e in f?f[e]:e in l?l[e]:void 0,set:(t,e,n)=>{if(s){let t=s;for(;t;){if({}.hasOwnProperty.call(t,e))return t[e]=n,!0;t=Object.getPrototypeOf(t)}}return i.qt[e]=n,!0},has:(t,e)=>!(!s||!(e in s))||e in i.qt||e in i.Z||e in i.Wt||e in f||e in l})}ke(t,e,n,i,o){const s=this,r=s.qe(n,t),c={type:"custom",expression:n,customDirective:i};i.bind&&s.Rt(()=>i.bind(t,r(),n,s,o,r));const f=s.Ie(()=>{i.update&&s.Rt(()=>i.update(t,r(),n,s,o,r))});c.update=f,s.q(t,c)}Oe(t,e,n){const i=this,o=i.qe(n,t),s="http://www.w3.org/2000/svg"===t.namespaceURI;if("class"===e){const e=t;if(!i.$t.get(e)){const n=new Set,o=s?t.getAttribute("class")||"":t.className||"";if(o)for(const t of o.split(/\s+/))t&&n.add(t);i.$t.set(e,n)}}let r;e===b&&(r=t.getAttribute("style")||void 0);const c=i.F(t,e),f=i.Ie(()=>{const n=o();if("class"===e){const e=i.$t.get(t);if("string"==typeof n){const i=e&&e.size?[...e].join(" ")+(n?" "+n:""):n||"";s?i?t.setAttribute("class",i):t.removeAttribute("class"):t.className=i}else if(a(n)){const i=n.filter(Boolean),o=(e&&e.size?[...e,...i]:i).join(" ");s?o?t.setAttribute("class",o):t.removeAttribute("class"):t.className=o}else if(n&&"object"==typeof n){const i=new Map;for(const t in n){if(!t)continue;const e=!!n[t];for(const n of t.split(/\s+/))n&&(!e&&i.has(n)||i.set(n,e))}const o=e?[...e]:[];for(const[t,n]of i)!n||e&&e.has(t)||o.push(t);const r=o.join(" ");s?r?t.setAttribute("class",r):t.removeAttribute("class"):t.className=r}else if(null==n&&e&&e.size){const n=[...e].join(" ");s?n?t.setAttribute("class",n):t.removeAttribute("class"):t.className=n}else null==n&&t.removeAttribute("class");return}if(e===b){const e=t;if("string"==typeof n){const t=n.trim();return void(t&&(e.style.cssText+=";"+t))}if(n&&"object"==typeof n){e.style.cssText=r||"";for(const t in n){const i=n[t],o=t.startsWith("--")?t:t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase());null!=i?e.style.setProperty(o,i+""):e.style.removeProperty(o)}return}return void(r?e.style.cssText=r:e.removeAttribute("style"))}i.k(t,e,n,c)});i.q(t,{type:"bind",expression:n,update:f})}Ke(t){if(!t)return null;const e=t.Xe;if(e)return e;if(!t.parentElement){const e=t.Ze;if(e&&e.parentElement)t=e;else{const e=t.Ve;e&&(t=e)}}let n=t;for(;n;){const t=n.Xe;if(t)return t;let e=n.previousSibling;for(;e;){if(8===e.nodeType){const t=e.Xe;if(t)return t}e=e.previousSibling}n=n.parentElement}return null}hn(t,e){const n=RegExp("(^|[^$\\w])"+e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"([^$\\w]|$)");for(const[e,i]of this.K)if(t===e||e instanceof Element&&t.contains(e))for(const t of i){if(!t.update)continue;const e=t.expression||"";n.test(e)&&t.update()}}Ye(t){}tn(t){const e=this.K.get(t);if(e)for(const t of e)"if"!==t.type&&"for"!==t.type&&t.update&&this.vt.add(t.update);let n=t.firstElementChild;for(;n;)this.tn(n),n=n.nextElementSibling}Je(t){const e=[];this.an(t,e);for(const t of e)this.Rt(t)}an(t,e){const n=this.K.get(t);if(n)for(const t of n)t.update&&this.vt.has(t.update)&&(this.vt.delete(t.update),e.push(t.update));let i=t.firstElementChild;for(;i;)this.an(i,e),i=i.nextElementSibling}Re(t,e){}dn(t,e){return t}pn(t){return{lisMask:[],lisLen:0}}te(){const t=this;for(const e of t.K.values())for(const t of e)if((!R||!t.Le)&&t.update)try{t.update()}catch(t){}}}return B.rn=200,B.T={itemscope:1,formnovalidate:1,novalidate:1,default:1,readonly:1},new class{constructor(){this.yn=new Map,this.mn=new d,this.bn=[],this.wn={},this.vn=new Map,this.we=!1,this.gn=null,this._n=new Map,this.xn=new d,this.Mn=!1,this.$n=new d,this.Sn=new d,this.jn=new d,this.An=(t,e)=>{const n=this.$n.get(t);return n?.get(e)},this.On=(t,e,n)=>{},this.En=t=>{const e=this.Sn.get(t);e&&(e(),this.Sn.delete(t))},this.registerRefCleanup=(t,e)=>{},this.ue=t=>{this.$n.delete(t)},this.directive=(t,e)=>{if(t.startsWith(T+"-"))throw Error(`Custom directive names should not start with "${T}-". Use: XTool.directive("my-directive", ...)`);return this.vn.set(t,e),this},this.registerComponent=t=>{if(!t||!t.name)throw Error("registerComponent requires a name");const e=t.name.toLowerCase();return this._n.has(e)||this._n.set(e,t),this},this.mountComponent=(t,e,n)=>{if(t&&e)return this.Cn(t)?this.ie(e)?(this.wn.debug,this.ie(e)):(e.Rn=t,n&&(e.Dn=n),this.Fn(e),this.ie(e)):void this.wn.debug},this.Cn=t=>this._n.get(t.toLowerCase()),this.Te=t=>this.vn.get(t),this.nn=()=>this.wn,this.Tn=[],this.init=(e={})=>{const n={container:"body",debug:!1,staticDirectives:!0,router:{enabled:!1,transitionName:"route"}};this.wn={...n,...e,router:{...n.router,...e.router||{}}},"boolean"==typeof this.wn.staticDirectives&&(R=this.wn.staticDirectives),this.we=!0===this.wn.autoMergeProps;const i=this.wn.prefix;T=i&&"string"==typeof i&&i[x]>0?i:"x",k.clear();const o=async()=>{this.kn(),this.Tn.length&&t(async()=>await Promise.allSettled(this.Tn)),this.Pn();const e=D?.querySelector(this.wn.container);e&&(this.Bn(e),this.wn.delegate&&this.Nn(e))};return D&&"loading"===D.readyState?D.addEventListener("DOMContentLoaded",()=>{o()}):D&&"complete"!==D.readyState&&"interactive"!==D.readyState||o(),this},this.In=new Map,this.Ln=new Map,this.loadComponents=e=>{const n=e.map(t=>"string"==typeof t?{path:t,mode:"preload",name:void 0}:{path:t.path,mode:t.mode||"preload",name:t.name}),i=[];for(const t of n)if("defer"===t.mode){const e=this.zn(t.path).catch(()=>{throw Error("load failed")});this.Tn.push(e),i.push(e.then(()=>{}))}else if("lazy"===t.mode){const e=(t.name||t.path.split("/").pop()||"").replace(/\.(mjs|js|ts|html)(\?.*)?$/i,"").toLowerCase();e&&!this.Ln.has(e)&&this.Ln.set(e,{path:t.path,status:0})}else{const e=this.zn(t.path).catch(()=>{throw Error("load failed")});i.push(e)}return Promise.allSettled(i).then(e=>(t(()=>this.Pn()),{settled:e.length,failed:e.filter(t=>"rejected"===t.status).length}))},this.createComponent=t=>{const e=new B(this.Un(),t,this);return this.yn.set(e.id,e),e.callBeforeMount(),e},this.Pn=()=>{const t=D?.querySelector(this.wn.container);if(!t)return;const e=P("data"),n=P("for"),i=P("if"),s=P("else-if"),r=P("else");t.hasAttribute(e)&&!this.ie(t)&&this.Qe(t,void 0);const c=e=>{let o=e.parentElement;for(;o&&o!==t;){if(o.hasAttribute(n)||o.hasAttribute(i)||o.hasAttribute(s)||o.hasAttribute(r))return!0;o=o.parentElement}return!1},f=t.querySelectorAll(`[${e}]`);for(const t of f)c(t)||this.ie(t)||this.Qe(t);const l=t.querySelectorAll("component[source]");for(const t of l)this.ie(t)||this.Fn(t);if(this.Ae(),0===f[x]&&!this.ie(t)){const e=o(this.yn.values()),n=e[e[x]-1];n&&!n.isBound&&n.bindToElement(t)}},this.Ae=()=>{if(!this.bn[x])return;const t=[],e=[],n=this.wn.container?D?.querySelector(this.wn.container):null;for(const i of this.bn){if(!i.el.isConnected){t.push(i);continue}let o,s=i.el.parentElement;for(;s&&!o;){const t=this.ie(s);t?o=t:s=s.parentElement}o?(i.comp.attachToParent(o),e.push(i.comp)):n&&(n===i.el||n.contains(i.el))?e.push(i.comp):t.push(i)}for(const t of e)t.completeBinding();this.bn=t},this.Qe=(t,e)=>{const n=t.getAttribute(P("data"));let i={};if(n){t.removeAttribute(P("data"));try{if(e){const o=e.Bt(void 0,t);i=Function("parent",`with(parent){ return (${n}) }`)(o)}else i=this.qn(n);const o=Object.getOwnPropertyDescriptors(i),s={},r={};for(const t in o){const e=o[t];"function"==typeof e.get?s[t]=e.get:"value"in e&&(r[t]=e.value)}const c=r.methods||i.methods,f=i.methods||{},l={};for(const t of Object.keys(r)){const e=r[t];"function"==typeof e&&"methods"!==t&&(l[t]=e)}for(const t of Object.keys(l))delete r[t];const u=["mounted","unmounted","beforeMount","beforeUnmount","updated","destroyed","beforeDestroy","setup"],h={};for(const t of u)l[t]&&(h[t]=l[t],delete l[t]);const a={...f,...l},d=c||Object.keys(l).length?{methods:a,data:r}:{data:r};for(const t in h)d[t]=h[t];y(s).length&&(d.computed=s),e&&(d.data.$parent=e),i=d}catch(t){}}const o=this.createComponent(i),s=t.getAttribute(P("init"))||void 0;s&&t.removeAttribute(P("init")),this.Kn(t,o,{callBeforeMount:!0,xInitExpr:s})},this.Un=()=>{const t=Date.now(),e=Math.random().toString(36).substring(2,15);return`component_${t}_${(this.yn.size+1).toString(36)}_${e}`},this.Wn=(t,e)=>{try{const n=[];"COMPONENT"===t[g]&&t.hasAttribute("source")&&n.push(t);const i=t.querySelectorAll("component[source]");for(const t of i)n.push(t);for(const t of n)this.ie(t)||this.Fn(t,e)}catch{}},this.Vn=(t,e)=>{try{const n=P("data"),i=t.querySelectorAll(`[${n}]`);for(const t of i)this.ie(t)||this.Qe(t,e)}catch{}},this.je=(t,e)=>{this.Wn(t,e),this.Vn(t,e)},this.qn=e=>t(()=>Function("return "+e.trim())(),{}),this.ae=t=>{this.yn.delete(t)},this.oe=(t,e)=>{this.mn.set(t,e)},this.le=t=>{this.mn.delete(t)}}Xn(){const t=this.wn;return!!t.router?.enabled}Hn(t){}async Zn(t,e,n="program"){if(this.navigate)return this.navigate(t,e,n)}zn(t,e=2,n=300,o=3e4){const a=this.In.get(t);if(a)return a;const d=this,p=new URL(t,D?.baseURI||location.href);if(/\.ts?$/.test(p.pathname))throw Error(`TypeScript component loading is not enabled in tiny builds. Loading failed for: ${t} failed.`);const y=/\.html?$/.test(p.pathname),m=(t,...e)=>t.reduce((t,n,i)=>t+n+(i<e.length?e[i]:""),"")+"\n",b=t=>{try{if(i(t)||f(t))return t}catch{}if(!t||"object"!=typeof t)return s({value:t});const e=s(t),n=s({value:e});try{const t=l(e),i=l(n);t&&i&&(t.changeListeners||(t.changeListeners=[]),t.changeListeners.push((t,n)=>{if(Array.isArray(i.changeListeners)){const t=h(e),n=h(e);for(const e of i.changeListeners)try{e(t,n)}catch{}}}))}catch{}const o=new Proxy(n,{get:(t,e)=>"value"===e?t.value:t.value?.[e],set:(t,e,n)=>{try{return t.value&&(t.value[e]=n),!0}catch(t){return!1}},has:(t,e)=>"value"===e||!!t.value&&e in t.value,ownKeys:t=>t.value?Reflect.ownKeys(t.value):[],getOwnPropertyDescriptor:(t,e)=>{if("value"===e)return{configurable:!0,enumerable:!0,value:t.value,writable:!0};const n=t.value;return n?Object.getOwnPropertyDescriptor(n,e)||{configurable:!0,enumerable:!0,value:n[e],writable:!0}:void 0}});try{const t=l(n);t&&u(o,t)}catch{}return o},w=t=>function(t){let e,n=!0;const i={depTracker:t=>{n=!0}},o={get value(){return n&&(e=t(),n=!1),e}};return Object.defineProperty(o,r,{value:!0,enumerable:!1,configurable:!1,writable:!1}),Object.defineProperty(o,Symbol.for("_computedID"),{value:c(12),enumerable:!1,configurable:!1,writable:!0}),s(o,i)}(t);let v,g,_=!1,x=0,M=null,$=null;const S=t=>Math.min(o,n*Math.pow(2,t)*(.75+.5*Math.random())),j=()=>{null!=M&&(clearTimeout(M),M=null),$&&(window.removeEventListener("online",$),$=null)},A=()=>{const n=x++;fetch(t,{cache:"no-cache"}).then(t=>{if(!t.ok)throw Error(t.status+" "+t.statusText);return t.text()}).then(e=>{if(!_){if(y){const n=new Map;let o="",s="",r=!1;try{const t=(new DOMParser).parseFromString(e,"text/html");t.querySelectorAll("script").forEach(t=>{const e=t.hasAttribute("setup"),i=t.getAttribute("name");if(i){const o=n.get(i)||{script:"",template:"",hasSetup:!1};e&&(o.hasSetup=!0),o.script+=(t.textContent||"")+"\n",n.set(i,o)}else e&&(r=!0),o+=(t.textContent||"")+"\n";t.remove()}),t.querySelectorAll("template").forEach(t=>{const e=t.getAttribute("name");if(e){const i=n.get(e)||{script:"",template:"",hasSetup:!1};i.template=(t.innerHTML||"").trim(),n.set(e,i)}else s||(s=(t.innerHTML||"").trim())}),s||n.size||(s=(t.body?t.body.innerHTML:"").trim())}catch(t){s=e}const c=(e,n,o,s)=>{try{const r={},c={onMounted:[],onBeforeMount:[],onUnmounted:[],onBeforeUnmount:[]},u=t=>{t&&"object"==typeof t&&Object.assign(r,t)},a=t=>{"function"==typeof t&&c.onMounted.push(t)},p=t=>{"function"==typeof t&&c.onBeforeMount.push(t)},y=t=>{"function"==typeof t&&c.onUnmounted.push(t)},v=t=>{"function"==typeof t&&c.onBeforeUnmount.push(t)},g=(t,e)=>{if(!t||"function"!=typeof e)return()=>{};const n=t=>{if(!f(t)){if(i(t)){try{if("value"in t)return t.value}catch{}return h(t)}return t}};if(Array.isArray(t)){const o=t.filter(t=>!!t&&!f(t)),s=o.map(t=>i(t)?l(t):void 0),r=[];let u=o.map(n),h=!1;const a=()=>{h||(h=!0,Promise.resolve().then(()=>{h=!1;const t=o.map(n);try{e(t,u)}catch(t){}u=t}))};for(let t=0;t<s.length;t++){const e=s[t];if(!e)continue;e.changeListeners||(e.changeListeners=[]);const n=(t,e)=>a();e.changeListeners.push(n),r.push(n)}const d=()=>{for(let t=0;t<s.length;t++){const e=s[t],n=r[t];if(!e||!n||!e.changeListeners)continue;const i=e.changeListeners.indexOf(n);i>=0&&e.changeListeners.splice(i,1)}};return c.onBeforeUnmount.push(d),d}if(f(t))return()=>{};if(i(t)){const i=l(t);if(!i)return()=>{};i.changeListeners||(i.changeListeners=[]);let o=n(t);const s=(i,s)=>{const r=n(t);try{e(r,o)}catch(t){}o=r};i.changeListeners.push(s);const r=()=>{const t=i.changeListeners;if(!t)return;const e=t.indexOf(s);e>=0&&t.splice(e,1)};return c.onBeforeUnmount.push(r),r}return()=>{}},_=Function("XTool","data","computed","watch","html","template","expose","onMounted","onBeforeMount","onUnmounted","onBeforeUnmount",e+"\n//# sourceURL="+t);o?_.call(r,d,b,w,g,m,n,u,a,p,y,v):_(d,b,w,g,m,n,u,a,p,y,v);const x=(t.split("/").pop()||"").replace(/\.(mjs|js|ts|html)(\?.*)?$/i,"").toLowerCase(),M=s||("string"==typeof r.name&&r.name.trim()?r.name.trim():x),$={},S={},j={};for(const t of Object.keys(r)){if("name"===t&&"string"==typeof r[t])continue;const e=r[t];"function"==typeof e?S[t]=e:f(e)?j[t]=e:$[t]=(i(e),e)}const A={};c.onMounted.length&&(A.mounted=function(){for(let t=0;t<c.onMounted.length;t++)try{c.onMounted[t].call(this)}catch(t){}}),c.onBeforeMount.length&&(A.beforeMount=function(){for(let t=0;t<c.onBeforeMount.length;t++)try{c.onBeforeMount[t].call(this)}catch(t){}}),c.onUnmounted.length&&(A.unmounted=function(){for(let t=0;t<c.onUnmounted.length;t++)try{c.onUnmounted[t].call(this)}catch(t){}}),c.onBeforeUnmount.length&&(A.beforeUnmount=function(){for(let t=0;t<c.onBeforeUnmount.length;t++)try{c.onBeforeUnmount[t].call(this)}catch(t){}});try{d.registerComponent({name:M,template:n,data:$,methods:S,computed:j,...A})}catch(t){}}catch(t){}};for(const[t,e]of n)c(e.script,e.template,e.hasSetup,t);(o||s)&&c(o,s,r)}else{const n=e+"\n//# sourceURL="+t;try{Function("XTool","html",n)(d,m)}catch(t){}}_=!0,j(),v()}}).catch(t=>{if(_)return;const i="undefined"==typeof navigator||navigator.onLine,o=(t&&(t.message||""))+"";if(!i||t instanceof TypeError||/Failed to fetch|NetworkError|load failed/i.test(o)){$||($=()=>{_||(null!=M&&(clearTimeout(M),M=null),A())},window.addEventListener("online",$));const t=S(n);return void(M=window.setTimeout(()=>A(),t))}if(n>=e)return j(),void g(t);const s=S(n);M=window.setTimeout(()=>A(),s)})},O=new Promise((t,e)=>{v=t,g=e,A()}).finally(()=>{this.In.delete(t),j()});return this.In.set(t,O),O}kn(){if(!D)return;if("x"===T)return;const t="x-tool-initial-css-"+T;if(D.head&&!D.getElementById(t)){const e=D.createElement(b);e.id=t,e.textContent=`[${T}-show],[${T}-if],[${T}-else],[${T}-else-if],[${T}\\:show],[${T}\\:if],[${T}\\:else],[${T}\\:else-if]{display:none;}`,D.head.appendChild(e)}}Bn(e){this.Gn||"undefined"==typeof MutationObserver||(this.Gn=new MutationObserver(e=>{for(const n of e)if("childList"===n.type){for(let t=0;t<n.addedNodes.length;t++){const e=n.addedNodes[t];if(1!==e.nodeType)continue;const i=e;"COMPONENT"===i[g]&&i.getAttribute(M)&&!this.ie(i)&&this.Fn(i)}for(let e=0;e<n.removedNodes.length;e++){const i=n.removedNodes[e];if(1!==i.nodeType)continue;const o=i;p(()=>{if(o.isConnected)return;if(o.Ge)return;this.En(o);const e=[o];for(;e.length;){const n=e.pop();if(n.Ge)continue;const i=this.ie(n);i&&!i.isDestroyed&&t(()=>{this.ue(i),i.destroy()});let o=n.firstElementChild;for(;o;)e.push(o),o=o.nextElementSibling}})}}else if("attributes"===n.type){const e=n.target;if(e&&"COMPONENT"===e[g])if(n.attributeName===M)this.Jn(e);else if(n.attributeName===$){const n=this.ie(e);n&&t(()=>{const t=e.hasAttribute($);n.setFrozen(!!t)})}}this.Ae()}),this.Gn.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[M,$]}))}Qn(t){return null}Yn(t,e,n,i){return()=>{}}Jn(e){const i=n(e.getAttribute("source")),o=this.ie(e);if(!i)return o&&!o.isDestroyed&&t(()=>o.destroy()),void(e.innerHTML="");o&&!o.isDestroyed&&t(()=>o.destroy()),e.innerHTML="",this.Fn(e)}Kn(e,n,i){n.element=e,i?.callBeforeMount&&t(()=>n.callBeforeMount()),this.oe(n.element,n),this.bn.push({el:e,comp:n}),i?.xInitExpr&&n.re(i.xInitExpr)}Fn(e,n){let i=e.Rn||e.getAttribute("source");if(!i)return;e.Rn&&delete e.Rn,delete e._e;let o=n;if(!o){let t=e.parentElement;for(;t&&!o;){const e=this.ie(t);e?o=e:t=t.parentElement}}let s=this.Cn(i);if(!s&&o)try{const t=Function("ctx","with(ctx){return ("+i+")}"),n=o.Bt(void 0,e),r=t.call(o.getContext(!0),n);"string"==typeof r&&r&&(i=r,s=this.Cn(i))}catch{}if(!s){const o=i.toLowerCase(),s=this.Ln?.get(o);if(s&&(0!==s.status||s.promise||(s.status=1,s.promise=this.zn(s.path).then(()=>{s.status=2}).catch(()=>{s.status=3}).finally(()=>{2===s.status&&this.Ln?.delete(o)})),s.promise)){const o=e,r=n;s.promise.then(()=>{t(()=>{this.Cn(i)&&o.isConnected&&!this.ie(o)&&this.Fn(o,r)})})}return}let r=null,c=null,f=null;r||(r={});const l=e.Dn;l&&"object"==typeof l&&(Object.assign(r,l),delete e.Dn);const u=this.jn.get(e)||e.getAttribute(P("prop")),h=P("prop")+":",a={},d=t=>{if(!t)return t;const e=t.toLowerCase();return(t=>{if(!t)return null;for(const n of Object.keys(t))if(n.toLowerCase()===e)return n;return null})(s?.propEffects)||(t.includes("-")?t.replace(/-([a-z])/g,(t,e)=>e.toUpperCase()):t)};for(const t of Array.from(e.attributes)){const n=t.name;if(n.startsWith(h)){const i=d(n.substring(h.length));i&&(a[i]=t.value),e.removeAttribute(n)}}if(u){if(f=u,o)try{const t=Function("ctx","with(ctx){return ("+u+")}"),n=o.getContext(!0),i=o.Bt(void 0,e);c=t.call(n,i)}catch(t){c=null}else try{c=Function("return ("+u+")")()}catch{c=null}if(c&&"object"==typeof c)for(const t in c)t in r||(r[t]=c[t]);this.jn.set(e,u),e.removeAttribute(P("prop"))}if(Object.keys(a).length){const t={};for(const[n,i]of Object.entries(a)){let s;if(o)try{const t=Function("ctx","with(ctx){return ("+i+")}"),n=o.getContext(!0),r=o.Bt(void 0,e);s=t.call(n,r)}catch(t){s=void 0}else try{s=Function("return ("+i+")")()}catch{s=void 0}t[n]=s,n in r||(r[n]=s)}const n=c?{...c}:{};c={...n};for(const e in t)e in n||(c[e]=t[e]);const i=Object.keys(t).filter(t=>!(t in n));if(i.length)if(f&&/}\s*$/.test(f.trim())){const t=f.trim(),e=t.lastIndexOf("}");if(e>-1){const n=t.slice(0,e),o=!/{\s*$/.test(n),s=i.map(t=>`${t}: ${a[t]}`).join(", ");f=n+(o?", ":" ")+s+"}"}}else f="{ "+i.map(t=>`${t}: ${a[t]}`).join(", ")+" }";else if(!f){const t=Object.keys(a);t.length&&(f="{ "+t.map(t=>`${t}: ${a[t]}`).join(", ")+" }")}}let p,y={};if(s.makeData&&t(()=>{const t=s.makeData(r);t&&(y=t)}),s.data)for(const t in s.data)y[t]=s.data[t];if(c&&"object"==typeof c)for(const t in c)y[t]=c[t];else for(const t in r)y[t]=r[t];if(y.$props=r,"function"==typeof s.init)try{const t=s.init(r);p=t&&"object"==typeof t?t:void 0}catch{p=void 0}const m={name:s.name??name,data:y,methods:{...s.methods||{},...p?.methods||{}},computed:{...s.computed||{},...p?.computed||{}},propEffects:{...s.propEffects||{},...p?.propEffects||{}},setup:p?.setup||s.setup,mounted:p?.mounted||s.mounted,unmounted:p?.unmounted||s.unmounted,beforeMount:p?.beforeMount||s.beforeMount,beforeUnmount:p?.beforeUnmount||s.beforeUnmount,updated:p?.updated||s.updated,destroyed:p?.destroyed||s.destroyed,beforeDestroy:p?.beforeDestroy||s.beforeDestroy},b=this.createComponent(m),w=Array.from(e.childNodes);if(w.length&&e.replaceChildren(),s.template){const n=t=>{e.innerHTML=t;const n=e.querySelectorAll("slot");if(n.length)for(const t of n){const e=t.getAttribute("name"),n=e?w.filter(t=>1===t.nodeType&&t.getAttribute("slot")===e):w.filter(t=>1!==t.nodeType||!t.hasAttribute("slot"));n.length&&t.replaceWith(...n)}},i=s.template;if("string"==typeof i)n(i);else if("function"==typeof i)try{const o=i();o&&"function"==typeof o.then?(e.innerHTML="",o.then(e=>{n(e||""),t(()=>b.ee())})):n((o||"")+"")}catch{e.innerHTML=""}else i&&"function"==typeof i.then&&(e.innerHTML="",i.then(e=>{n(e||""),t(()=>b.ee())}))}else w.length&&e.append(...w);this.Kn(e,b,{callBeforeMount:!1});try{const t=e.querySelectorAll(`[${P("data")}]`);for(const e of t)this.ie(e)||this.Qe(e,b)}catch{}t(()=>{this.Wn(e,b)}),f&&o&&t(()=>b.be(f,o)),this.Ae()}ie(t){return this.mn.get(t)}observe(t){}Nn(t){if(this.Mn)return;const e=t,n=t=>{let n=t.target;for(;n&&n!==e.parentElement&&!t.cancelBubble;){const e=this.xn.get(n);if(e){const n=e.get(t.type);if(n&&n.length)for(const e of[...n])try{if(e.comp&&e.comp.isDestroyed){const t=n.indexOf(e);t>-1&&n.splice(t,1);continue}if((!e.filter||e.filter(t))&&(e.run(t),e.once)){const t=n.indexOf(e);t>-1&&n.splice(t,1)}}catch{}}n=n.parentElement}},i=["keydown","keyup"],o=["click","input","change"];for(const t of i)e.addEventListener(t,n,!0);for(const t of o)e.addEventListener(t,n,!1);this.Mn=!0}sn(t,e,n){let i=this.xn.get(t);i||(i=new Map,this.xn.set(t,i));let o=i.get(e);return o||(o=[],i.set(e,o)),o.push(n),()=>{try{const i=this.xn.get(t),o=i?.get(e);if(!o)return;const s=o.indexOf(n);s>-1&&o.splice(s,1)}catch{}}}}}();if("undefined"!=typeof window){const t=window;t.XTool=y,t.FyneJS=y}