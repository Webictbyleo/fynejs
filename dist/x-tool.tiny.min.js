var t;function e(t,e=null){try{return t()}catch(t){return e}}!function(t){t[t.Identifier=0]="Identifier",t[t.Keyword=1]="Keyword",t[t.Punctuation=2]="Punctuation",t[t.String=3]="String",t[t.Comment=4]="Comment",t[t.Whitespace=5]="Whitespace",t[t.Number=6]="Number",t[t.Arrow=7]="Arrow",t[t.Conditional=8]="Conditional"}(t||(t={})),new Set(["as","interface","type","import","export","from","extends","implements","declare","namespace","module","any","unknown","never","void","number","string","boolean","symbol","bigint","object","enum","function","const","let","var"]);const n=Symbol("$_xtoolfynjsisReactive");function o(t){return t&&!0===t[n]}function i(t){if(!function(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function s(t,e){if(o(t))return t;const r=Array.isArray(t),c="undefined"!=typeof Set&&t instanceof Set,f="undefined"!=typeof Map&&t instanceof Map;if(!(r||c||f||i(t)))return t;if(e||(e={maxReactiveDepth:1/0}),e&&e.maxReactiveDepth&&e.maxReactiveDepth<=0)return t;if(t[n])return t;Object.defineProperty(t,n,{value:!0,enumerable:!1,configurable:!1,writable:!1}),Object.defineProperty(t,Symbol.for("ReactiveControl"),{value:e,enumerable:!1,configurable:!1,writable:!0});const u=(t,n)=>{if(e&&e.baseChangeListener&&e.baseChangeListener(t,n),e&&e.changeListeners&&e.changeListeners.length>0){const o=()=>{for(const o of e.changeListeners)o(t,n)};if(e.signal?.aborted)return;!function(t){let e;return function(...n){clearTimeout(e),e=window.setTimeout(()=>{e=void 0,t.apply(this,n)},10)}}(o)()}};return new Proxy(t,{set(t,n,o){const i=t[n];return"object"==typeof o&&null!==o&&(e&&e.maxReactiveDepth&&e.maxReactiveDepth>0&&(e.maxReactiveDepth-=1),o=s(o,e)),Reflect.set(t,n,o),i!==o&&u(i,o),!0},get(t,i,l){const h=Reflect.get(t,i,l);return i===Symbol.for("ReactiveControl")?h:(e&&e.depTracker&&(Symbol.iterator===i||r||f||c&&["size","length","size","keys","entries","values"].includes(i+"")||"string"==typeof i||"number"==typeof i)&&e.depTracker(e.trackerId??i),i===Symbol.toPrimitive?e=>{if("number"===e)return NaN;if(o(t)){const e=t.value;if(void 0!==e)return e}else{const e=t.value;if(void 0!==e&&o(e))return e}return"string"===e?r?"[]":c?"Set {}":f?"Map {}":"[object Object]":null}:"object"==typeof h&&null!==h&&!0===h[n]&&void 0!==h.value?h.value:"function"==typeof h?r&&["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"].includes(i)?function(...n){const o=t.slice(),s=Array.prototype[i].apply(t,n);return e&&u(o,t),s}:(c||f)&&["add","delete","clear","set"].includes(i)?function(...n){const o=c?new Set(t):new Map(t),s=(c?Set.prototype:Map.prototype)[i].apply(t,n);return e&&u(o,t),s}:h:"object"==typeof h&&null!==h?(e&&e.maxReactiveDepth&&e.maxReactiveDepth>0&&(e.maxReactiveDepth-=1),s(h,e)):h)},deleteProperty(t,e){const n=t[e],o=Reflect.deleteProperty(t,e);return o&&u(n,void 0),o}})}const r=Symbol("$_xtoolfynjsisComputed");function c(t=8){let e="";for(let n=0;n<t;n++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}function f(t){return!(!t||!0!==t[r])}function u(t){if(o(t))return t[Symbol.for("ReactiveControl")]}function l(t,e){o(t)&&Object.defineProperty(t,Symbol.for("ReactiveControl"),{value:e,enumerable:!1,configurable:!1,writable:!0})}function h(t){if(!o(t))return t;const e=Array.isArray(t),n="undefined"!=typeof Set&&t instanceof Set,s="undefined"!=typeof Map&&t instanceof Map;if(!(e||n||s||i(t)))return t;if(e)return t.map(t=>h(t));if(n){const e=new Set;return t.forEach(t=>{e.add(h(t))}),e}if(s){const e=new Map;return t.forEach((t,n)=>{e.set(n,h(t))}),e}const r={};for(const e in t)t.hasOwnProperty(e)&&(r[e]=h(t[e]));return r}const a=Array.isArray,d=WeakMap,p=queueMicrotask,y=function(){const t=e,n=t=>(t||"").trim(),i=Array.from,y=Object.keys;let m=null;const b=(t,e,n,o)=>{if(o){const o=t.style;null==n||!1===n?o.removeProperty(e):o.setProperty(e,n+"")}else null==n||!1===n?t.removeAttribute(e):!0===n?t.setAttribute(e,""):t.setAttribute(e,n+"")},w=(t,e,n,o)=>{const i=e.match(/^(.*)?\[([^\]]+)\](.*)$/);if(i){const[,e="",s,r=""]=i,c=s.split(",").map(t=>t.trim()).filter(Boolean),f=n&&"object"==typeof n&&!Array.isArray(n);for(const i of c){const s=e+i+r,c=f&&i in n?n[i]:n;b(t,s,c,o)}}else b(t,e,n,o)},v="style",g="display",_="none",x="tagName",M="TEMPLATE",S="length",$="source",E="readonly",j=Symbol("rawTarget"),A=(Symbol("ownerComponent"),new d),O=t=>t&&t[j]||t,C=new d;let R=0;const F=(t,e=5,n)=>{if(!t||"object"!=typeof t||e<=0)return 0;const o=O(t);if(n||(n=new WeakSet),n.has(o))return 0;n.add(o);let i=(t=>{let e=C.get(t);return void 0===e&&(e=++R,C.set(t,e)),e})(o)+(A.get(o)??0);try{for(const t in o){const s=o[t];s&&"object"==typeof s&&(i+=F(s,e-1,n))}}catch{}return i};let D=!0;const T="undefined"!=typeof document?document:null,P=["click","input","change","keydown","keyup"],k={enter:["enter"],esc:["escape","esc"],escape:["escape","esc"],space:[" ","space","spacebar"],tab:["tab"],backspace:["backspace"],delete:["delete","del"],del:["delete","del"],arrowup:["arrowup","up"],arrowdown:["arrowdown","down"],arrowleft:["arrowleft","left"],arrowright:["arrowright","right"],home:["home"],end:["end"],pageup:["pageup"],pagedown:["pagedown"]},N={left:0,middle:1,right:2},B=new Map,L=new d,I=Symbol("unwrapDomTarget");try{if(T&&T.head&&!T.getElementById("x-tool-initial-css")){const t=T.createElement(v);t.id="x-tool-initial-css",t.textContent="[x-show],[x-if],[x-else],[x-else-if],[x\\:show],[x\\:if],[x\\:else],[x\\:else-if]{display:none;}",T.head.appendChild(t)}}catch{}let z="x",U=new Map;const q=t=>{const e=U.get(t);if(e)return e;const n=`${z}-${t}`;return U.set(t,n),n};class W{attachToParent(t){this.t=t,t.o(this)}get id(){return this.i}get framework(){return this.u}get element(){return this.l}set element(t){this.l=t}get isBound(){return this.h}set isBound(t){this.h=t}get isMounted(){return this.p}set isMounted(t){this.p=t}get isDestroyed(){return this.m}set isDestroyed(t){this.m=t}v(t){this._=t,m=t}M(t,e){if(!o(e))return;const n=u(e);if(!n)return;const i=n.depTracker,s=n.baseChangeListener;n.trackerId=t,n.depTracker=e=>{if(this.S&&this.$.length){const e=this.$[this.$.length-1];let n=this.j.get(e);n||(n=new Set,this.j.set(e,n),this.A=null),n.add(t),this.A=null}i&&i(e)},n.baseChangeListener=(e,n)=>{s&&s(e,n),this.O(t)},l(e,n)}C(){for(const e of this.R.values())for(const n of e.values())t(n);this.R.clear()}F(){this.C()}D(t,e){const n=t;let o=e in n?e:null;if(!o){const t=e.replace(/-([a-z])/g,(t,e)=>e.toUpperCase());o=t in n?t:"readonly"===e.toLowerCase()&&"readOnly"in n?"readOnly":null}return{elAny:n,propName:o,isBooleanProp:!(!o||"boolean"!=typeof n[o]),hasNonFunctionProp:!(!o||"function"==typeof n[o]),isKnownBooleanAttr:!!W.T[e.toLowerCase()]}}P(e,n,o,i){const{elAny:s,propName:r,isBooleanProp:c,hasNonFunctionProp:f,isKnownBooleanAttr:u}=i;if(c&&r||u){const t=!!o;return r&&c&&(s[r]=t),void e.toggleAttribute(n,t)}let l=null;if(o&&"object"==typeof o){const t=[];for(const e in o)o[e]&&t.push(e);l=t.length?t.join(" "):null}else null!=o&&(l=o+"");if(f&&r)if(null!==l){if(s[r]===l)return;try{s[r]=l}catch{t(()=>e.setAttribute(n,l))}}else e.removeAttribute(n);else null!==l?e.getAttribute(n)!==l&&e.setAttribute(n,l):e.removeAttribute(n)}k(t,e){const n=z+"-",o=z+":",i=[];let s=!1,r=null;const c=t.getAttributeNames();for(let t=0;t<c.length;t++){const f=c[t];(f.startsWith(n)||f.startsWith(o)||f.startsWith("@")||f.startsWith(":")&&f.length>1)&&(e?.skipRootFor&&f===q("for")||(i.push(f),s||f!==q("text")&&f!==q("html")||(s=!0),r||f!==q("for")||(r=f)))}return{names:i,hasTextOrHtml:s,forName:r}}setFrozen(t){t!==this.N&&(this.N=t,t?(this.B=this.L,this.L=!0,this.F()):(null!==this.B?this.L=this.B:this.L=!1,this.B=null,this.I()))}U(t){t!==this.L&&(this.L=t,t&&this.F())}q(t,e){const n=this.W.get(t)||[];n.push(e),this.W.set(t,n)}constructor(e,i,s){this.name="ReactiveComponent",this.K=!1,this.H=!1,this.l=null,this.h=!1,this.p=!1,this.m=!1,this.V=!1,this.X=[],this.t=null,this.Z=!1,this.G={default:[],named:{},parentComp:null},this.J={},this.Y={},this.tt={},this.et=new Map,this.j=new Map,this.A=null,this.nt=new Map,this.$=[],this.S=!1,this.ot=!1,this.it=new Set,this.W=new Map,this.st=new Set,this.rt=new AbortController,this.R=new Map,this.ct=new d,this.ft=0,this.ut=0,this.lt=null,this.ht=new Map,this.dt=new Map,this.L=!1,this.N=!1,this.B=null,this.yt=!0,this.bt=!1,this.wt=new Set,this.vt=new Set,this.gt=null,this._t=new Map,this.xt=new Map,this._=null,this.Mt=new WeakSet,this.St=!1,this.$t=[],this.Et=null,this.jt=null,this.At=new d,this.Ot={},this.Ct=null,this.Rt=null,this.Ft=null,this.Dt=t=>{const e=this.Tt[t];if(this.V&&"beforeMount"===t)return;"function"==typeof e&&(this.Pt(()=>this.kt(e,[])),"beforeMount"===t&&(this.V=!0));const o={mounted:"mounted",unmounted:"unmounted",updated:"updated",beforeUnmount:"before-unmount"}[t];if(o&&this.Nt(o),"mounted"===t&&this.Bt){const t=this.Bt;if(this.isDestroyed||!this.element||!this.element.isConnected)return;const e=()=>{const e=n(t),o=this.Lt(e),i=this.It();if(o){const t=this.zt(o.paramsList,o.body,o.isBlock),e=o.paramsList.length?[this.element]:[],n=t.call(this.Ut(void 0,this.element||void 0),i,...e.slice(0,o.paramsList.length));return void("function"==typeof n&&this.qt(n))}const s=this.Wt(e,-1!==e.indexOf(";")).call(i,this.Ut(void 0,this.element||void 0));"function"==typeof s&&this.qt(s)};this.Pt(()=>this.kt(e,[]))}},this.qt=e=>{if("function"!=typeof e)return;const n=()=>{t(e),this.st.delete(n)};return this.st.add(n),()=>{this.st.delete(n)}},i.name&&(this.name=i.name),this.i=e,this.u=s,this.J=i.closures||{},this.Kt=i.methods||{},this.Y=this.Ht(i.computed||{},"computed"),this.tt=i.propEffects||{},this.tt&&Object.keys(this.tt).length&&(this.tt=this.Ht(this.tt,"prop")),this.Tt={mounted:i.mounted,unmounted:i.unmounted||i.destroyed,updated:i.updated,beforeMount:i.beforeMount,beforeUnmount:i.beforeUnmount||i.beforeDestroy,setup:i.setup},this.Ot=this.Vt(i.data||{}),this.Xt=this.Zt(this.Ot||{});try{const t=Object.keys(this.Ot||{});for(let e=0;e<t.length;e++){const n=t[e],i=this.Ot[n];o(i)&&this.M(n,i)}}catch{}this.Gt=this.Ht(this.Kt,"methods")}Vt(t,e){if(null===t||"object"!=typeof t)return t;if(o(t))return t;const n=e||new WeakMap;if(n.has(t))return n.get(t);if(a(t)){const e=[];n.set(t,e);for(let o=0;o<t.length;o++)e[o]=this.Vt(t[o],n);return e}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return RegExp(t.source,t.flags);if("undefined"!=typeof Map&&t instanceof Map){const e=new Map;return n.set(t,e),t.forEach((t,o)=>{e.set(this.Vt(o,n),this.Vt(t,n))}),e}if("undefined"!=typeof Set&&t instanceof Set){const e=new Set;return n.set(t,e),t.forEach(t=>e.add(this.Vt(t,n))),e}const i=Object.getPrototypeOf(t);if(i===Object.prototype||null===i){const e=Object.create(i);n.set(t,e);for(const o of Object.keys(t))e[o]=this.Vt(t[o],n);return e}return t}callBeforeMount(){this.V||(this.Dt("beforeMount"),this.V=!0)}Jt(){if(!this.isBound||this.L)return;const t=this;null!=t.Et&&(cancelAnimationFrame(t.Et),t.Et=null),t.et.clear();const e=t.wt;for(const[,n]of t.xt)for(const t of n)e.add(t);t.Et=requestAnimationFrame(()=>{if(t.Et=null,!t.isDestroyed&&!t.L){for(const n of e)t.Pt(n);e.clear(),t.I(),t.Dt("updated")}})}Qt(){const t=new Map;for(const[e,n]of this.j)for(const o of n){let n=t.get(o);n||(n=new Set,t.set(o,n)),n.add(e)}return t}Yt(){this.A=null}O(t){if(!this.isBound||!1===this.yt)return;const e=this,n=e.xt.get(t);if(n){const t=e.wt,o=e.Mt;for(const e of n)o.has(e)||t.add(e)}e.vt.add(t),e.bt?e.te():null==e.Et&&(e.Et=requestAnimationFrame(()=>{if(e.Et=null,e.isDestroyed||e.L)return;e.te();const t=e.wt;if(t.size>0){for(const n of t)e.Pt(n);t.clear(),e.Dt("updated")}}))}te(){if(!this.j.size||!this.vt.size)return void this.vt.clear();this.A||(this.A=this.Qt());const t=this.A,e=new Set,n=this.wt,o=Array.from(this.vt);this.vt.clear();let i=0;for(;i<o.length;){const n=o[i++],s=t.get(n);if(s)for(const t of s)e.has(t)||(e.add(t),o.push(t))}for(const t of e){const e=this.xt.get(t);if(e)for(const t of e)n.add(t);const o=this.nt.get(t);if(o&&"function"==typeof o.depTracker)try{o.depTracker(t)}catch{}this.et.delete(t)}}ee(t){try{const e=t+"";if(!/\[native code\]/.test(e)){let n=e.trim();return/^function[\s\(]/.test(n)||/^[\w\$_][\w\d\$_]*\s*=>/.test(n)||/^\(.*?\)\s*=>/.test(n)||(n="function "+n),{wrapper:Function("thisArg","argsArray","ctx","with(ctx){ const f = ("+n+"); return f.apply(thisArg, argsArray); }"),original:t}}}catch{}return{wrapper:null,original:t}}ne(t,e,n){const o=this.It();if(t)try{return t.call(o,o,n,this.Ut(void 0,void 0))}catch{}return this.Pt(()=>e.apply(o,n))}Ht(t,e){const n={};for(const o in t||{}){const i=t[o];if("computed"===e)if(f(i)){const t=u(i);t&&this.nt.set(o,t),n[o]=()=>i.value}else n[o]=()=>{const t=this.It();return i.call(t)};else{const{wrapper:t,original:s}=this.ee(i),r="prop"===e,c=r?"prop:"+o:o;n[o]=(...e)=>{const n=this.gt,o=!r&&this.ot,i=!!r&&this.H;this.gt=c,r?this.H=!0:this.ot=!0;try{return this.ne(t,s,e)}finally{this.gt=n,r?this.H=i:this.ot=o}}}}return n}oe(t){if(this.ie(t),this.et.has(t))return this.et.get(t);this.S=!0,this.$.push(t),this.j.set(t,new Set),this.A=null;try{const e=this.Y[t],n="function"==typeof e?e():void 0;return this.$.pop(),this.S=this.$.length>0,this.et.set(t,n),n}catch(t){return this.$.pop(),void(this.S=this.$.length>0)}}ie(t){const e=m||this._;if(!e)return;e.se=!0;let n=this.xt.get(t);n||(n=new Set,this.xt.set(t,n)),n.add(e);const o=this.$.length;if(this.S&&o){const e=this.$[o-1];let n=this.j.get(e);n||(n=new Set,this.j.set(e,n));const i=n.size;n.add(t),n.size!==i&&(this.A=null)}}I(){this.L||this.N||this.m||this.St||(this.St=!0,requestAnimationFrame(()=>{if(this.jt=null,this.St=!1,this.m||this.L)this.$t?.length&&(this.$t.length=0);else if(this.re(),this.$t?.length){const e=this.$t.splice(0);for(const n of e)t(n)}}))}Pt(t,e){try{return t()}catch(t){return e}}bindToElement(t){this.h||(this.l=t,this.V||this.callBeforeMount(),this.completeBinding())}getContext(t=!0){return this.It(t)}ce(){this.l&&(t(()=>this.fe(this.l)),this.I())}completeBinding(){if(this.h||!this.l)return;this.u.ue(this.l)||this.u.le(this.l,this),this.h=!0,this.p=!0;const t=this.G.parentComp;if(t&&t.isBound){const e=t=>{if(delete t.he,1===t.nodeType)for(const e of t.querySelectorAll("*"))delete e.he};for(const n of this.G.default)if(1===n.nodeType){t.fe(n),n.ae=!0;for(const t of n.querySelectorAll("*"))t.ae=!0;e(n),this.u.de(n,t)}for(const n in this.G.named)for(const o of this.G.named[n]){t.fe(o),o.ae=!0;for(const t of o.querySelectorAll("*"))t.ae=!0;e(o),this.u.de(o,t)}}this.fe(this.l),this.Tt.setup&&this.Pt(()=>this.kt(this.Tt.setup,[])),this.re(),this.Dt("mounted")}o(t){this.X.includes(t)||this.X.push(t)}pe(t){const e=this.X.indexOf(t);e>-1&&this.X.splice(e,1)}ye(t,e,n){this.G={default:t,named:e,parentComp:n}}me(t){this.Bt=t||void 0}be(t,e,n){let o=this.dt.get(t);o||(o=[],this.dt.set(t,o)),o.push({expr:e,parent:n})}Nt(e){const n=this.dt.get(e);if(!n||!n.length)return;const o=this;for(const{expr:e,parent:i}of n)t(()=>{try{const t=Function("ctx",`with(ctx){ ${e} }`),n=i.getContext(!0),s=i.Ut(void 0,o.l||void 0);s.$component=o.It(!0),t.call(n,s)}catch(t){}})}kt(t,e,n){const o=this.It();if(n){if("function"!=typeof t)return;return t.apply(o,e)}try{const n=t+"";if(!/\[native code\]/.test(n)){let i=n.trim();/^function[\s\(]/.test(i)||/^[\w\$_][\w\d\$_]*\s*=>/.test(i)||/^\(.*?\)\s*=>/.test(i)||(i="function "+i);const s=Function("thisArg","argsArray","ctx","with(ctx){ const f = ("+i+"); return f.apply(thisArg, argsArray); }");try{return s.call(o,o,e,this.Ut(void 0,void 0))}catch(n){return t.apply(o,e)}}}catch{}if("function"==typeof t)return t.apply(o,e)}destroy(){const e=this;if(!e.m){e.Dt("beforeUnmount");for(const t of e.X)t.isDestroyed||t.destroy();e.t&&e.t.pe(e);for(const[n,o]of e.W)for(const i of o)"custom"===i.type&&i.customDirective?.unbind&&t(()=>i.customDirective.unbind(n,e));if(e.W.clear(),t(()=>e.rt.abort()),e.rt=new AbortController,e.C(),e.we(),e.et.clear(),e._t.clear(),e.xt.clear(),e.Ft&&e.ve)for(const t of e.Ft.xt.values())t.delete(e.ve);e.l&&e.u.ge(e.l),e.u._e(e),null!=e.Et&&(cancelAnimationFrame(e.Et),e.Et=null),null!=e.jt&&(cancelAnimationFrame(e.jt),e.jt=null),e.Dt("unmounted"),e.m=!0,e.p=!1,e.h=!1,e.X=[],e.t=null,e.xe=new d,e.wt.clear(),e.l=null,p(()=>e.u.Me(e.i)),e.Xt={},e.Ot={},e.Gt={},e.Y={},e.tt={},e._=null,e.ht.clear(),e.it.clear(),e.j.clear(),e.nt.clear(),e.A=null,e.dt.clear(),e.lt=null}}Se(t,e){let n=this.ht.get(t);n||(n=new Set,this.ht.set(t,n)),n.add(e)}$e(t,e){const n=this.ht.get(t);n&&(n.delete(e),0===n.size&&this.ht.delete(t))}Ee(t,e){const n={name:t,payload:e,je:!1,stopPropagation(){this.je=!0}};let o=this;for(;o;){const e=o.ht.get(t);if(e&&e.size)for(const t of Array.from(e)){try{t.call(o.It(!0),n)}catch{}if(n.je)return}o=o.t}}Ae(t,e){if(!t||!e)return;this.Ft=e;const n=this.l;let o;try{o=Function("ctx","with(ctx){return ("+t+")}")}catch{return}const i={},s={};let r=!0;const c=()=>{let t;e.v(c);try{const i=e.Ut(void 0,n);t=o.call(e.getContext(!0),i)}catch{t=null}if(e.v(null),t&&"object"==typeof t){this.Xt.$props=this.Xt.$props||{};const e=this.u.Oe,n=[];for(const o in t){const c=t[o],f=i[o];this.Xt.$props[o]=c;let u=r||i[o]!==c;const l=null!==c&&"object"==typeof c;if(!u&&l&&(u=F(c)!==(s[o]??-1)),!u)continue;i[o]=c;const h=o in this.tt?this.tt[o]:void 0;h&&!this.L?n.push({eff:h,newVal:c,oldVal:f,key:o,isObjProp:l}):e?(this.K=!0,this.Xt[o]=c,this.K=!1,l&&(s[o]=F(c))):(this.O("$props"),l&&(s[o]=F(c)))}if(n.length>0){this.bt=!0;try{for(const{eff:t,newVal:e,oldVal:o,key:i,isObjProp:r}of n){const n=this.H;this.H=!0,this.K=!0;try{t(e,o)}finally{this.H=n,this.K=!1}r&&(s[i]=F(e))}}finally{this.bt=!1;const t=this.wt;if(t.size>0){for(const e of t)this.Pt(e);t.clear(),this.Dt("updated")}}}r=!1}};this.ve=c,c()}we(){for(const e of this.st)t(e);this.st.clear()}Ce(t,e,n,o){const i=this.rt.signal;if("boolean"==typeof o)t.addEventListener(e,n,{capture:o,signal:i});else if(o){const s=o.signal&&o.signal!==i?o:{...o,signal:i};t.addEventListener(e,n,s)}else t.addEventListener(e,n,{signal:i})}Re(t){let e=this.ct.get(t);return e||(e=(++this.ft).toString(36),this.ct.set(t,e)),e}fe(t){const e=this,n=(t,n=!1)=>{const o=q("ref");if(!n&&this.u.ue(t))return t.hasAttribute(o)&&(e.Fe(t,t.getAttribute(o)||""),t.removeAttribute(o)),!1;if(!n&&t.hasAttribute(q("data")))return!1;if(t.ae)return!1;const i="COMPONENT"===t[x];let s,r,c;const f=t.De;if(f&&f.length>0){for(const{name:e,value:n}of f)t.setAttribute(e,n);s=f.map(t=>t.name),r=s.some(t=>t===q("text")||t===q("html")),c=s.find(t=>t===q("for"))||null}else{const n=e.k(t);if(s=n.names,r=n.hasTextOrHtml,c=n.forName,s.length>0){const e=[];for(const n of s)e.push({name:n,value:t.getAttribute(n)||""});t.De=e}}if(s.length>0){if(c)return e.Te(t,c,t.getAttribute(c)||""),!1;const n=[],o=[];for(const t of s)t.startsWith(z+"-transition")||t.startsWith(z+":transition")?n.push(t):o.push(t);for(const o of n)e.Te(t,o,t.getAttribute(o)||"");for(const n of o)e.Te(t,n,t.getAttribute(n)||"")}return n||!i};n(t,!0),e.Pe(t,n)}ke(t){}Pe(t,e){let n=t.firstElementChild;for(;n;){const t=n.nextElementSibling;e(n)&&this.Pe(n,e),n=t}}Ne(t,e){if(t[x]!==M)return t;const n=e.slice(z.length+1);if("for"===n||"if"===n||"else-if"===n||"else"===n)return t;const o=t,i=o.content,s=Array.from(i.children);let r;1===s.length?r=s[0].cloneNode(!0):(r=T.createElement("div"),r.style.setProperty(g,"contents","important"),r.appendChild(i.cloneNode(!0)));for(const t of Array.from(o.attributes))t.name!==e&&r.setAttribute(t.name,t.value);return o.parentNode?.insertBefore(r,o),o.parentNode?.removeChild(o),this.framework.Be(r,this),this.framework.Le(),this.fe(r),r}Te(t,e,n){const o=this;t=o.Ne(t,e);const i=e.startsWith("@");if(e.startsWith(":")){const i=e.slice(1);if(i)return t.removeAttribute(e),o.Ie(t,i,n)}const s=e.startsWith(z+":"),r=i?"on:"+e.slice(1):e.slice(z.length+1);if(!i&&(s||"class"===r||r===v))return t.removeAttribute(e),o.Ie(t,r,n);if(!i&&("text"===r||"html"===r||"show"===r))return o.ze(t,n,r,e);if(i||"else"!==r&&"else-if"!==r){if(!i&&"COMPONENT"===t[x]){const t="mounted"===r||"unmounted"===r||"updated"===r||"before-unmount"===r,e="prop"===r||r.startsWith("prop:");if(t||e)return}if(t.removeAttribute(e),!i&&"ref"===r)return o.Fe(t,n);if(!i&&"if"===r)return o.Ue(t,n);if(!i&&"model"===r)return o.qe(t,n);if("for"===r)return o.We(t,n);if(i||r.indexOf(":")>-1){const[e,i]=r.split(":",2),[s,...c]=i.split("."),f=c.reduce((t,e)=>(e&&(t[e]=!0),t),{});if("on"===e){const e=o.framework.Ke(s);return e?o.He(t,s,n,e,f):o.Ve(t,s,n,f)}return o.Ie(t,s,n)}}}Fe(t,e){}Xe(t){}Ze(t,e,n,o){}Ge(t,e){const n=()=>{this._=n,m=n;try{t()}finally{this._=null,m=null}};return n(),this.it.add(n),D&&e&&void 0===e.Je&&(e.Je=!n.se),n}Qe(t,e,n,o){}Ye(t,e,n,o){return e?n?t.style.setProperty("display",n,"important"):t.style.removeProperty("display"):t.style.setProperty("display",_,"important"),void(o&&o())}ze(t,e,n,o){if("class"===n||n===v)return this.Ie(t,n,e);const i=this.tn(e,t);let s,r,c=!0;if("show"===n){const e=t;s=e.style[g]!==_?e.style[g]:void 0}const f={type:n,expression:e,update:void 0,originalDisplay:s};this.q(t,f);const u=this.Ge(()=>{const e=i(),f=t;switch(n){case"text":f.textContent=e+"";break;case"html":f.innerHTML=(e||"")+"";break;case"show":const t=!!e;if(r===t)return;r=t,this.Ye(f,t,s)}c&&o&&(t.removeAttribute(o),c=!1)},f);f.update=u}qe(t,e){const n="checkbox"===t.type,o="number"===t.type||"range"===t.type,i="SELECT"===t.tagName&&!0===t.multiple;e in this.Xt||(this.Xt[e]=void 0);const s=this.tn(e,t),r=this.Wt(e+" = $value",!0),c=n?(()=>{if(t.hasAttribute("value"))return t.value;const e=this.en(t);if(e){const t=Object.keys(e);if(1===t.length)return e[t[0]]}return t.value})():void 0;this.Ge(()=>(e=>{if(n)if(Array.isArray(e)){const n=t.hasAttribute("value")?t.value:c;t.checked=null!=n&&e.includes(n)}else t.checked=!!e;else{if(i){const n=t,o=Array.isArray(e)?e:[],i=n.options;for(let t=0;t<i.length;t++)i[t].selected=o.includes(i[t].value);return}t.value=(e??(o?0:""))+""}})(s()));const f=this.Ut(void 0,t),u=t.type,l="SELECT"===t[x]||"checkbox"===u||"radio"===u||"file"===u?"change":"input";this.Ce(t,l,()=>{const e=(()=>{if(n){const e=s();return Array.isArray(e)&&void 0!==c?t.checked?c:void 0:t.hasAttribute("value")?t.checked?t.value:void 0:t.checked}if(i){const e=[],n=t.options;for(let t=0;t<n.length;t++)n[t].selected&&e.push(n[t].value);return e}return o?parseFloat(t.value)||0:t.value})(),u=this.Pt(()=>s());if(n&&Array.isArray(u)){const e=t.hasAttribute("value")?t.value:c;if(void 0!==e){const n=u.indexOf(e);t.checked?-1===n&&u.push(e):n>-1&&u.splice(n,1)}}else i&&Array.isArray(u)?u.splice(0,u.length,...e):(f.$value=e,this.Pt(()=>{r.call(this.It(),f)}))}),this.q(t,{type:"model",property:e})}Ue(e,n){const o=this;e.parentNode||T.createDocumentFragment().appendChild(e);const s=T.createComment("x-if");e.parentNode?.insertBefore(s,e),e.nn=s,e.sn=s.parentElement||null;const r=[],c=(t=>{if(t[x]===M){const e=t.content,n=i(e.children);if(1===n.length){const t=n[0].cloneNode(!0);return{branch:{el:t,isTemplate:!0,originalDisplay:t.style[g]!==_?t.style[g]:void 0,isFragment:!1}}}if(n.length>1)return{branch:{anchor:T.createComment("x-if-branch"),nodes:[],endMarker:T.createComment("/x-if-branch"),isTemplate:!0,isFragment:!0},templateChildren:n};const o=T.createElement("div");return o.style[g]=_,{branch:{el:o,isTemplate:!0,originalDisplay:_,isFragment:!1}}}const e=t.style[g]!==_?t.style[g]:void 0,n=t.De;if(n){const e=q("if"),o=q("else-if"),i=q("else");t.De=n.filter(t=>t.name!==e&&t.name!==o&&t.name!==i)}return{branch:{el:t,isTemplate:!1,originalDisplay:e,isFragment:!1}}})(e),f=o.tn(n,e);r.push({...c.branch,test:f});const u=[c.templateChildren||null],l=[e];let h=-1;for(const t of l)t.parentNode&&t.parentNode.removeChild(t);const a=t=>{if(t<0)return;const n=r[t],i=o.en(s.parentElement);if(n.isFragment){const r=u[t];if(!r)return;if(n.nodes=r.map(t=>t.cloneNode(!0)),i){n.anchor.rn=i;for(const t of n.nodes)t.rn=i}for(const t of n.nodes)t.cn||(o.fe(t),t.cn=!0);const c=s.nextSibling;s.parentNode?.insertBefore(n.anchor,c);for(const t of n.nodes)s.parentNode?.insertBefore(t,c);s.parentNode?.insertBefore(n.endMarker,c);for(const t of n.nodes)o.framework.Be(t,o);e.fn=n.anchor}else if(i&&(n.el.rn=i),n.el.un){const t=e.fn;t&&t!==n.el&&t.parentNode&&t.parentNode.removeChild(t),n.el.parentNode||s.parentNode?.insertBefore(n.el,s.nextSibling),e.fn=n.el,n.el.un=!1,o.ln(n.el),o.Ye(n.el,!0,n.originalDisplay)}else{const t=q("data"),i=n.el.hasAttribute(t)&&!o.framework.ue(n.el);i?o.framework.hn(n.el,o):n.el.cn||(o.fe(n.el),n.el.cn=!0);const r=e.fn;r&&r.parentNode&&r.parentNode.removeChild(r),n.el.parentNode||s.parentNode?.insertBefore(n.el,s.nextSibling),e.fn=n.el,i&&o.framework.Le(),o.Ye(n.el,!0,n.originalDisplay),o.framework.Be(n.el,o)}h=t},d=o.Ge(()=>{let e=-1;for(let t=0;t<r[S];t++){const n=r[t];if(!n.test||n.test()){e=t;break}}e!==h&&(-1!==h?((e,n)=>{if(e<0)return void(n&&n());const i=r[e];if(h=-1,i.isFragment){for(const e of i.nodes){o.an(e);const n=e.querySelectorAll("component[source]");for(const e of n){const n=o.framework.ue(e);n&&!n.isDestroyed&&t(()=>{o.framework._e(n),n.destroy()})}e.cn=!1,e.parentNode&&e.parentNode.removeChild(e)}i.anchor.parentNode&&i.anchor.parentNode.removeChild(i.anchor),i.endMarker.parentNode&&i.endMarker.parentNode.removeChild(i.endMarker),i.nodes=[],n&&n()}else i.el.parentNode?(o.dn(i.el),i.el.un=!0,o.Ye(i.el,!1,i.originalDisplay,()=>{i.el.un?(i.el.parentNode&&i.el.parentNode.removeChild(i.el),n&&n()):n&&n()})):n&&n()})(h,()=>a(e)):a(e))});o.q(e,{type:"if",expression:n,update:d})}Ve(t,e,o,i){const s=this,r=n(o),c=i?{once:!!i.once,passive:!!i.passive,capture:!!i.capture}:void 0,f=!!i?.self,u=!!i?.prevent,l=!!i?.stop,h=!!i?.outside,a=!!i?.window,d=!!i?.defer,m={ctrl:!!i?.ctrl,alt:!!i?.alt,shift:!!i?.shift,meta:!!i?.meta},b=!!i?.single,w=!!i?.multi,v=i?y(i):[],g=[];for(const t of v){const e=k[t.toLowerCase()];e&&g.push(...e)}const _=[];for(const t of v){const e=N[t.toLowerCase()];void 0!==e&&_.push(e)}const x=g.length>0||m.ctrl||m.alt||m.shift||m.meta,M=_.length>0,S=b||w,$=e=>{const n=e.composedPath?e.composedPath():null,o=n&&n.length?n[0]:e.target;if(h){if(!o)return!1;if(t instanceof Node&&(t===o||t.contains(o)))return!1}if(f&&e.target!==t)return!1;if(S){if(!(e instanceof TouchEvent))return!1;{const t=e.touches.length;if(b&&1!==t)return!1;if(w&&t<2)return!1}}if(M){if(!(e instanceof MouseEvent))return!1;if(!_.includes(e.button))return!1}if(x){if(!(e instanceof KeyboardEvent))return!1;const t=(e.key||"").toLowerCase();if(g.length>0&&!g.includes(t))return!1;const{ctrlKey:n,altKey:o,shiftKey:i,metaKey:s}=e;if(m.ctrl&&!n||m.alt&&!o||m.shift&&!i||m.meta&&!s)return!1}return!0},E=s.pn(r,t,e=>[e,t]),j=e=>{if((!((h||a)&&t instanceof Element)||t.isConnected)&&$(e)&&(u&&e.preventDefault(),l&&e.stopPropagation(),E)){if(d&&"function"==typeof p){const t=e;return void p(()=>s.Pt(()=>E(t)))}s.Pt(()=>E(e))}},A=!!this.framework.yn().delegate&&P.includes(e);if(h||a||!A){const n=a?"undefined"!=typeof window?window:t:h?t.isConnected?t?.ownerDocument:document||T||document:t;if((h||a)&&t instanceof Element){const o=new AbortController,i=c?{...c,signal:o.signal}:{signal:o.signal};n.addEventListener(e,j,i);const r=()=>{o.abort()};s.framework.registerRefCleanup(t,r),s.qt(r)}else s.Ce(n,e,j,c)}else{const n=this.framework.mn(t,e,{filter:t=>$(t),run:t=>j(t),once:!!i?.once,comp:this});this.qt(n)}}Wt(t,e=!1){const n=`${e?"s":"r"}:${t}`;let o=this._t.get(n);if(!o){try{o=Function("ctx",`with(ctx){${e?t:`return (${t})`}}`)}catch{t=JSON.stringify(t),o=Function("ctx",`with(ctx){${e?t:`return (${t})`}}`)}if(this._t.set(n,o),this._t.size>W.bn){const t=this._t.keys().next().value;t&&this._t.delete(t)}}return o}tn(t,e){const n=this,i=n.Wt(t);return()=>{const t=n.Ut(void 0,e);try{let e=i.call(n.It(),t);return e&&"object"==typeof e&&o(e)&&(e=e.value),e}catch(t){return}}}Lt(t){let e=t.match(/^\s*\(\s*([^)]*?)\s*\)\s*=>\s*([\s\S]+)$/);if(e||(e=t.match(/^\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=>\s*([\s\S]+)$/)),!e)return null;const o=(e[1]||"").split(",").map(t=>t.trim()).filter(Boolean),i=n(e[2]),s=i.startsWith("{")&&i.endsWith("}");return{paramsList:o,body:s?i.slice(1,-1):i,isBlock:s}}zt(t,e,n){return Function("ctx",...t,"with(ctx){ "+(n?e:"return ( "+e+" );")+" }")}pn(e,o,i){const s=this,r=n(e);if(!r)return null;const c=s.Lt(r),f=s.It();if(c){const{paramsList:t,body:e,isBlock:n}=c,r=s.zt(t,e,n);return e=>{const n=s.Ut(e,o),c=i(e);s.Pt(()=>r.call(f,n,...c.slice(0,t.length)))}}const u=r.includes(";"),l=s.Wt(r,u);return e=>{const n=s.Ut(e,o),i=l.call(f,n);"function"==typeof i&&t(()=>i.call(f,e))}}wn(t,e){if(this.S)throw Error(`[x-tool] Mutation via '${t+""}.${e}()' is not allowed during computed evaluation.`);if(this.N)throw Error(`[x-tool] Mutation via '${t+""}.${e}()' is not allowed while component is frozen.`)}vn(t,e){return t}Zt(t){const e=this;return new Proxy(t,{get:(t,n,o)=>{const i=Reflect.get(t,n,o);return e.S&&i&&"object"==typeof i?O(i):(n===Symbol.iterator||"symbol"!=typeof n&&e.ie(n),i)},ownKeys:t=>Reflect.ownKeys(t),has:(t,e)=>Reflect.has(t,e),set:(t,n,i,s)=>{if(e.m)return!0;if(e.N)return!0;if(e.S)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed during computed evaluation.`);if(n===Symbol.iterator&&a(t))return i;const r=Reflect.get(t,n);if(r===i&&!e.K)return!0;if(Reflect.has(t,n))Reflect.set(t,n,i,s);else try{Reflect.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:i})}catch{Reflect.set(t,n,i,s)}try{"symbol"!=typeof n&&o(i)&&e.M(n+"",i)}catch{}if(i&&"object"==typeof i&&(t=>{const e=O(t),n=(A.get(e)??0)+1;A.set(e,n)})(i),this.L||this.O(n),this.K&&"$props"!==n&&!this.H){const e=t.$props;e&&(e[n]=i);const o=this.tt[n];if(o&&!this.L){this.H=!0;try{o(i,r)}finally{this.H=!1}}}return!0}})}gn(){if(this.Rt)return this.Rt;const t=this,e=Object.create(null);return Object.defineProperties(e,{$el:{get:()=>t.l,enumerable:!0},$id:{get:()=>t.i,enumerable:!0},$isMounted:{get:()=>t.p,enumerable:!0},$isDestroyed:{get:()=>t.m,enumerable:!0},$isSealed:{get:()=>t.L,enumerable:!0},$isFrozen:{get:()=>t.N,enumerable:!0},$parent:{get:()=>t.t,enumerable:!0},$children:{get:()=>t.X,enumerable:!0}}),e.$destroy=()=>t.destroy(),e.$forceUpdate=()=>t.I(),e.$addCleanupFunction=e=>t.qt(e),e.Signals={emit:(e,n)=>{t.Ee(e+"",n)},connect:(e,n)=>{t.Se(e+"",n)},disconnect:(e,n)=>{t.$e(e+"",n)}},e.$nextTick=e=>e?(t.$t.push(e),void(t.St||p(()=>{if(!t.St&&t.$t.length){const e=t.$t.splice(0,t.$t.length);for(const n of e)t.Pt(()=>n())}}))):new Promise(e=>{t.$t.push(()=>e()),t.St||p(()=>{if(!t.St&&t.$t.length){const e=t.$t.splice(0,t.$t.length);for(const n of e)t.Pt(()=>n())}})}),e.$seal=(e=!0)=>{t.U(!!e)},Object.defineProperty(e,"$slots",{get:()=>({default:t.G.default,...t.G.named,hasSlot:e=>e?t.G.named[e]?.length>0:t.G.default.length>0}),enumerable:!0}),e.$mutate=e=>{const n=t.ot;if(t.yt=!1,t.S)throw Error("[x-tool] $mutate cannot be used inside computed evaluation; computed getters must be pure.");t.ot=!1;try{return"function"==typeof e?e():void 0}finally{t.ot=n,t.yt=!0,t.Jt()}},this.Rt=e,e}It(t=!0){const e=this;if(e.Ct)return e.Ct;const n=e.gn(),o=e.Xt;return e.Ct=new Proxy(o,{has:(t,i)=>i in o||i in e.Y||i in n||i in e.Gt||i in e.J,get:(t,o)=>o in t?(e.ie(o),t[o]):o in e.Y?e.oe(o):o in n?n[o]:o in e.Gt?e.Gt[o]:o in e.J?e.J[o]:void 0,set:(t,n,o)=>{if(e.S)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed during computed evaluation.`);if(e.N)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed while component is frozen.`);return e.Xt[n]=o,!0}}),e.Ct}_n(){if(this.lt)return this.lt;const e=this,n="undefined"!=typeof window?window:void 0,o="undefined"!=typeof document?document:void 0,i=this.framework.yn(),s=!!i.sandboxExpressions,r=new Set((i.allowGlobals||[]).map(t=>t+"")),c=(n,o)=>{const i=e.gt||"__anonymous__";let s=e.R.get(i);s||(s=new Map,e.R.set(i,s));const r=s.get(n);r&&(t(r),s.delete(n));const c=o();if("function"==typeof c){const t=()=>{try{c()}finally{s?.delete(n)}};s.set(n,t),e.qt(t)}},f=n=>{if(!n||"function"!=typeof n.addEventListener)return n;const o=L.get(n);if(o)return o;const i=new Proxy(n,{get:(n,o)=>{if(o===I)return n;if("addEventListener"===o)return(o,i,s)=>{if(e.L||e.N)return;n.addEventListener(o,i,s);const r="boolean"==typeof s?s:s?.capture?"1":"0",f="listener:"+e.Re(n)+":"+o+":"+r;c(f,()=>()=>{t(()=>n.removeEventListener(o,i,s))})};if("removeEventListener"===o)return(e,o,i)=>{t(()=>n.removeEventListener(e,o,i))};if("querySelector"===o)return t=>f(n.querySelector(t));if("querySelectorAll"===o)return t=>Array.from(n.querySelectorAll(t)).map(f);if("getElementById"===o)return t=>f(n.getElementById(t));if("getElementsByClassName"===o)return t=>Array.from(n.getElementsByClassName(t)).map(f);if("getElementsByTagName"===o)return t=>Array.from(n.getElementsByTagName(t)).map(f);if("closest"===o)return t=>f(n.closest(t));if("elementFromPoint"===o)return(t,e)=>f(n.elementFromPoint(t,e));if("elementsFromPoint"===o)return(t,e)=>n.elementsFromPoint(t,e).map(f);if("document"===o){const t=n.document;return f(t)||t}if("defaultView"===o){const t=n.defaultView;return f(t)||t}if("body"===o){const t=n.body;return f(t)||t}if("head"===o){const t=n.head;return f(t)||t}if("documentElement"===o){const t=n.documentElement;return f(t)||t}if("activeElement"===o){const t=n.activeElement;return f(t)||t}if("parentElement"===o){const t=n.parentElement;return f(t)||t}if("parentNode"===o){const t=n.parentNode;return f(t)||t}if("firstElementChild"===o){const t=n.firstElementChild;return f(t)||t}if("lastElementChild"===o){const t=n.lastElementChild;return f(t)||t}if("nextElementSibling"===o){const t=n.nextElementSibling;return f(t)||t}if("previousElementSibling"===o){const t=n.previousElementSibling;return f(t)||t}if("firstChild"===o){const t=n.firstChild;return f(t)||t}if("lastChild"===o){const t=n.lastChild;return f(t)||t}if("nextSibling"===o){const t=n.nextSibling;return f(t)||t}if("previousSibling"===o){const t=n.previousSibling;return f(t)||t}if("ownerDocument"===o){const t=n.ownerDocument;return f(t)||t}if("children"===o)return Array.from(n.children).map(f);if("childNodes"===o)return Array.from(n.childNodes).map(f);const i=n[o];return"function"==typeof i?function(...t){const e=t.map(t=>t&&t[I]?t[I]:t);return i.apply(n,e)}:i},set:(t,e,n)=>{const o=n&&n[I]?n[I]:n;return t[e]=o,!0}});return L.set(n,i),i},u=(t,o,...i)=>{if(e.L||e.N||e.m)return;const s=n?.setTimeout?.(t,o,...i);return null!=s&&c("timeout",()=>()=>{n?.clearTimeout?.(s)}),s},l=(t,o,...i)=>{if(e.L||e.N)return;const s=n?.setInterval?.(t,o,...i);return null!=s&&c("interval",()=>()=>{n?.clearInterval?.(s)}),s},h=t=>{if(e.L||e.N)return;const o=n?.requestAnimationFrame?.(t);return null!=o&&c("raf",()=>()=>{n?.cancelAnimationFrame?.(o)}),o},a=(t,o)=>{if(e.L||e.N||e.m)return;const i=n?.fetch||("undefined"!=typeof fetch?fetch:void 0);if(!i)return;const s=new AbortController,r=s.signal,f={...o};o?.signal&&o.signal.addEventListener("abort",()=>s.abort()),f.signal=r;const u="fetch:"+ ++e.ut;return c(u,()=>()=>{r.aborted||s.abort()}),i(t,f)},d=n=>{if(n)return function(){if(e.L||e.N||e.m)return{open(){},send(){},abort(){},setRequestHeader(){},addEventListener(){},removeEventListener(){},readyState:0,status:0,responseText:"",response:null};const o=new n,i="xhr:"+ ++e.ut;let s=!1;return c(i,()=>()=>{s||(s=!0,t(()=>o.abort()))}),new Proxy(o,{get(t,e){const n=t[e];return"function"==typeof n?n.bind(t):n},set:(t,e,n)=>(t[e]=n,!0)})}},p=(n,o)=>{if(n)return function(...i){if(e.L||e.N)return{observe(){},disconnect(){},unobserve(){},takeRecords:()=>[]};const s=new n(...i);return c("observer:"+o,()=>()=>{t(()=>s.disconnect())}),{observe(t,e){const n=t&&t[I]?t[I]:t;return s.observe(n,e)},unobserve(t){const e=t&&t[I]?t[I]:t;return s.unobserve?.(e)},disconnect:()=>s.disconnect(),takeRecords:()=>s.takeRecords?.()||[]}}},y={Signals:{emit:(t,n)=>{e.Ee(t+"",n)},connect:(t,n)=>{e.Se(t+"",n)},disconnect:(t,n)=>{e.$e(t+"",n)}},...s&&!r.has("setTimeout")?{}:{setTimeout:u},...s&&!r.has("clearTimeout")?{}:{clearTimeout:e=>{t(()=>n?.clearTimeout?.(e))}},...s&&!r.has("setInterval")?{}:{setInterval:l},...s&&!r.has("clearInterval")?{}:{clearInterval:e=>{t(()=>n?.clearInterval?.(e))}},...s&&!r.has("requestAnimationFrame")?{}:{requestAnimationFrame:h},...s&&!r.has("cancelAnimationFrame")?{}:{cancelAnimationFrame:e=>{t(()=>n?.cancelAnimationFrame?.(e))}},...s&&!r.has("MutationObserver")?{}:{MutationObserver:p(n?.MutationObserver,"mutation")},...s&&!r.has("ResizeObserver")?{}:{ResizeObserver:p(n?.ResizeObserver,"resize")},...s&&!r.has("IntersectionObserver")?{}:{IntersectionObserver:p(n?.IntersectionObserver,"intersection")},...s&&!r.has("fetch")?{}:{fetch:a},...s&&!r.has("XMLHttpRequest")?{}:{XMLHttpRequest:d(n?.XMLHttpRequest)},...s&&!r.has("window")?{}:{window:f(n)},...s&&!r.has("document")?{}:{document:f(o)}};return this.lt={gWindow:n,gDocument:o,sandbox:s,allow:r,wrapTarget:f,registerResource:c,ctxSetTimeout:u,ctxSetInterval:l,ctxRequestAnimationFrame:h,ctxFetch:a,wrapXHRCtor:d,wrapObserverCtor:p,staticSpecials:y},this.lt}Ut(t,e,n){const o=this,i=this._n(),s=e?this.en(e):null,r={$target:e||null,$event:t||null,$attr:(t,n)=>{if(e)if("object"==typeof t&&null!==t)for(const n in t)({}).hasOwnProperty.call(t,n)&&w(e,n,t[n]);else"string"==typeof t&&w(e,t,n)},$css:(t,n)=>{if(e)if("object"==typeof t&&null!==t)for(const n in t)({}).hasOwnProperty.call(t,n)&&w(e,n,t[n],!0);else"string"==typeof t&&w(e,t,n,!0)}},c=i.staticSpecials,f=o.u.xn&&o.Z,u=o.J;return new Proxy({},{get:(t,e)=>{if(s&&e in s)return s[e];if(e in o.Xt)return o.Xt[e];if(e in o.Y)return o.oe(e);if(e in o.Gt)return o.Gt[e];if(e in u)return u[e];const n=(t=>{if(!f)return{found:!1,value:void 0};let e=o.t;for(;e&&e.Z;){if(t in e.Xt)return e.ie(t),{found:!0,value:e.Xt[t],owner:e};if(t in e.Y)return{found:!0,value:e.oe(t),owner:e};if(t in e.Gt)return{found:!0,value:e.Gt[t],owner:e};e=e.t}return{found:!1,value:void 0}})(e);return n.found?n.value:e in r?r[e]:e in c?c[e]:void 0},set:(t,e,n)=>{if(s){let t=s;for(;t;){if({}.hasOwnProperty.call(t,e))return t[e]=n,!0;t=Object.getPrototypeOf(t)}}return e in o.Xt?(o.Xt[e]=n,!0):(((t,e)=>{if(!f)return!1;let n=o.t;for(;n&&n.Z;){if(t in n.Xt)return n.Xt[t]=e,!0;n=n.t}return!1})(e,n)||(o.Xt[e]=n),!0)},has:(t,e)=>"string"==typeof e&&(!(!s||!(e in s))||e in o.Xt||e in o.Y||e in o.Gt||e in u||(t=>{if(!f)return!1;let e=o.t;for(;e&&e.Z;){if(t in e.Xt||t in e.Y||t in e.Gt)return!0;e=e.t}return!1})(e)||e in r||e in c)})}He(t,e,n,o,i){const s=this,r=s.tn(n,t),c={type:"custom",expression:n,customDirective:o};o.bind&&s.Pt(()=>o.bind(t,r(),n,s,i,r));const f=s.Ge(()=>{o.update&&s.Pt(()=>o.update(t,r(),n,s,i,r))});c.update=f,s.q(t,c)}Ie(t,e,n){const o=this,i=o.tn(n,t),s="http://www.w3.org/2000/svg"===t.namespaceURI;if("class"===e){const e=t;if(!o.At.get(e)){const n=new Set,i=s?t.getAttribute("class")||"":t.className||"";if(i)for(const t of i.split(/\s+/))t&&n.add(t);o.At.set(e,n)}}let r;e===v&&(r=t.getAttribute("style")||void 0);const c=o.D(t,e),f=o.Ge(()=>{const n=i();if("class"===e){const e=o.At.get(t);if("string"==typeof n){const o=e&&e.size?[...e].join(" ")+(n?" "+n:""):n||"";s?o?t.setAttribute("class",o):t.removeAttribute("class"):t.className=o}else if(a(n)){const o=n.filter(Boolean),i=(e&&e.size?[...e,...o]:o).join(" ");s?i?t.setAttribute("class",i):t.removeAttribute("class"):t.className=i}else if(n&&"object"==typeof n){const o=new Map;for(const t in n){if(!t)continue;const e=!!n[t];for(const n of t.split(/\s+/))n&&(!e&&o.has(n)||o.set(n,e))}const i=e?[...e]:[];for(const[t,n]of o)!n||e&&e.has(t)||i.push(t);const r=i.join(" ");s?r?t.setAttribute("class",r):t.removeAttribute("class"):t.className=r}else if(null==n&&e&&e.size){const n=[...e].join(" ");s?n?t.setAttribute("class",n):t.removeAttribute("class"):t.className=n}else null==n&&t.removeAttribute("class");return}if(e===v){const e=t;if("string"==typeof n){const t=n.trim();return void(t&&(e.style.cssText+=";"+t))}if(n&&"object"==typeof n){e.style.cssText=r||"";for(const t in n){const o=n[t],i=t.startsWith("--")?t:t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase());null!=o?e.style.setProperty(i,o+""):e.style.removeProperty(i)}return}return void(r?e.style.cssText=r:e.removeAttribute("style"))}o.P(t,e,n,c)});o.q(t,{type:"bind",expression:n,update:f})}en(t){if(!t)return null;const e=t.rn;if(e)return e;if(!t.parentElement){const e=t.fn;if(e&&e.parentElement)t=e;else{const e=t.sn;e&&(t=e)}}let n=t;for(;n;){const t=n.rn;if(t)return t;let e=n.previousSibling;for(;e;){if(8===e.nodeType){const t=e.rn;if(t)return t}e=e.previousSibling}n=n.parentElement}return null}Mn(t,e){let n=B.get(e);n||(n=RegExp("(^|[^$\\w])"+e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"([^$\\w]|$)"),B.set(e,n));for(const[e,o]of this.W)if(t===e||e instanceof Element&&t.contains(e))for(const t of o){if(!t.update)continue;const e=t.expression||"";n.test(e)&&t.update()}}an(t){}dn(t){const e=this.W.get(t);if(e)for(const t of e)"if"!==t.type&&"for"!==t.type&&t.update&&this.Mt.add(t.update);const n=this.u.ue(t);n&&!n.isDestroyed&&(n.Nt("before-unmount"),n.Nt("unmounted"));let o=t.firstElementChild;for(;o;)this.dn(o),o=o.nextElementSibling}ln(t){const e=[];this.Sn(t,e);for(const t of e)this.Pt(t)}Sn(t,e){const n=this.W.get(t);if(n)for(const t of n)t.update&&this.Mt.has(t.update)&&(this.Mt.delete(t.update),e.push(t.update));let o=t.firstElementChild;for(;o;)this.Sn(o,e),o=o.nextElementSibling}We(t,e){}$n(t,e){return t}En(t){return{lisMask:[],lisLen:0}}re(){const t=this;for(const e of t.W.values())for(const t of e)if((!D||!t.Je)&&t.update)try{t.update()}catch(t){}}}return W.bn=200,W.T={itemscope:1,formnovalidate:1,novalidate:1,default:1,readonly:1},new class{constructor(){this.jn=new Map,this.An=new d,this.On=[],this.Cn={},this.Rn=new Map,this.Oe=!1,this.xn=!1,this.Fn=null,this.Dn=new Map,this.Tn=new d,this.Pn=!1,this.kn=new d,this.Nn=new d,this.Bn=new d,this.Ln=(t,e)=>{const n=this.kn.get(t);return n?.get(e)},this.In=(t,e,n)=>{},this.zn=t=>{const e=this.Nn.get(t);e&&(e(),this.Nn.delete(t))},this.registerRefCleanup=(t,e)=>{},this._e=t=>{this.kn.delete(t)},this.directive=(t,e)=>{if(t.startsWith(z+"-"))throw Error(`Custom directive names should not start with "${z}-". Use: XTool.directive("my-directive", ...)`);return this.Rn.set(t,e),this},this.registerComponent=t=>{if(!t||!t.name)throw Error("registerComponent requires a name");const e=t.name.toLowerCase();return this.Dn.has(e)||this.Dn.set(e,t),this},this.mountComponent=(t,e,n)=>{if(t&&e)return this.Un(t)?this.ue(e)?(this.Cn.debug,this.ue(e)):(e.qn=t,n&&(e.Wn=n),this.Kn(e),this.ue(e)):void this.Cn.debug},this.Un=t=>this.Dn.get(t.toLowerCase()),this.Ke=t=>this.Rn.get(t),this.yn=()=>this.Cn,this.Hn=[],this.init=(e={})=>{const n={container:"body",debug:!1,staticDirectives:!0,router:{enabled:!1,transitionName:"route"}};this.Cn={...n,...e,router:{...n.router,...e.router||{}}},"boolean"==typeof this.Cn.staticDirectives&&(D=this.Cn.staticDirectives),this.Oe=!0===this.Cn.autoMergeProps,this.xn=!0===this.Cn.inheritScope;const o=this.Cn.prefix;z=o&&"string"==typeof o&&o[S]>0?o:"x",U.clear();const i=async()=>{this.Vn(),this.Hn.length&&t(async()=>await Promise.allSettled(this.Hn)),this.Xn();const e=T?.querySelector(this.Cn.container);e&&(this.Zn(e),this.Cn.delegate&&this.Gn(e))};return T&&"loading"===T.readyState?T.addEventListener("DOMContentLoaded",()=>{i()}):T&&"complete"!==T.readyState&&"interactive"!==T.readyState||i(),this},this.Jn=new Map,this.Qn=new Map,this.loadComponents=e=>{const n=e.map(t=>"string"==typeof t?{path:t,mode:"preload",name:void 0}:{path:t.path,mode:t.mode||"preload",name:t.name}),o=[];for(const t of n)if("defer"===t.mode){const e=this.Yn(t.path).catch(()=>{throw Error("load failed")});this.Hn.push(e),o.push(e.then(()=>{}))}else if("lazy"===t.mode){const e=(t.name||t.path.split("/").pop()||"").replace(/\.(mjs|js|ts|html)(\?.*)?$/i,"").toLowerCase();e&&!this.Qn.has(e)&&this.Qn.set(e,{path:t.path,status:0})}else{const e=this.Yn(t.path).catch(()=>{throw Error("load failed")});o.push(e)}return Promise.allSettled(o).then(e=>(t(()=>this.Xn()),{settled:e.length,failed:e.filter(t=>"rejected"===t.status).length}))},this.createComponent=t=>{const e=new W(this.eo(),t,this);return this.jn.set(e.id,e),e.callBeforeMount(),e},this.Xn=()=>{const t=T?.querySelector(this.Cn.container);if(!t)return;const e=q("data"),n=q("for"),o=q("if"),s=q("else-if"),r=q("else");t.hasAttribute(e)&&!this.ue(t)&&this.hn(t,void 0);const c=e=>{let i=e.parentElement;for(;i&&i!==t;){if(i.hasAttribute(n)||i.hasAttribute(o)||i.hasAttribute(s)||i.hasAttribute(r))return!0;i=i.parentElement}return!1},f=e=>{let n=e.parentElement;for(;n&&n!==t;){if("COMPONENT"===n[x]){const t=this.ue(n);if(!t||!t.isBound)return!0}n=n.parentElement}return!1},u=t.querySelectorAll(`[${e}]`);for(const t of u)c(t)||this.ue(t)||this.hn(t);const l=t.querySelectorAll("component[source]");for(const t of l)f(t)||this.ue(t)||this.Kn(t);if(this.Le(),0===u[S]&&!this.ue(t)){const e=i(this.jn.values()),n=e[e[S]-1];n&&!n.isBound&&n.bindToElement(t)}},this.Le=()=>{if(!this.On[S])return;const t=[],e=[],n=this.Cn.container?T?.querySelector(this.Cn.container):null;for(const o of this.On){if(o.comp.isDestroyed)continue;if(!o.el.isConnected){t.push(o);continue}let i,s=o.el.parentElement;for(;s&&!i;){const t=this.ue(s);t?i=t:s=s.parentElement}i?(o.comp.attachToParent(i),e.push(o.comp)):n&&(n===o.el||n.contains(o.el))?e.push(o.comp):t.push(o)}for(const t of e)t.completeBinding();this.On=t},this.hn=(t,e)=>{const n=t.getAttribute(q("data"));let o={};if(n){t.removeAttribute(q("data"));try{if(e){const i=e.Ut(void 0,t);o=Function("parent",`with(parent){ return (${n}) }`)(i)}else o=this.no(n);const i=Object.getOwnPropertyDescriptors(o),s={},r={};for(const t in i){const e=i[t];"function"==typeof e.get?s[t]=e.get:"value"in e&&(r[t]=e.value)}const c=r.methods||o.methods,f=o.methods||{},u={};for(const t of Object.keys(r)){const e=r[t];"function"==typeof e&&"methods"!==t&&(u[t]=e)}for(const t of Object.keys(u))delete r[t];const l=["mounted","unmounted","beforeMount","beforeUnmount","updated","destroyed","beforeDestroy","setup"],h={};for(const t of l)u[t]&&(h[t]=u[t],delete u[t]);const a={...f,...u},d=c||Object.keys(u).length?{methods:a,data:r}:{data:r};for(const t in h)d[t]=h[t];y(s).length&&(d.computed=s),e&&(d.data.$parent=e),o=d}catch(t){}}const i=this.createComponent(o);i.Z=!0;const s=t.getAttribute(q("init"))||void 0;s&&t.removeAttribute(q("init")),this.oo(t,i,{callBeforeMount:!0,xInitExpr:s})},this.eo=()=>{const t=Date.now(),e=Math.random().toString(36).substring(2,15);return`component_${t}_${(this.jn.size+1).toString(36)}_${e}`},this.de=(t,e)=>{try{const n=[];"COMPONENT"===t[x]&&t.hasAttribute("source")&&!t.he&&n.push(t);const o=t.querySelectorAll("component[source]");for(const t of o)t.he||n.push(t);for(const t of n)this.ue(t)||this.Kn(t,e)}catch{}},this.io=(t,e)=>{try{const n=q("data"),o=t.querySelectorAll(`[${n}]`);for(const t of o)this.ue(t)||this.hn(t,e)}catch{}},this.Be=(t,e)=>{this.de(t,e),this.io(t,e)},this.no=e=>t(()=>Function("return "+e.trim())(),{}),this.Me=t=>{this.jn.delete(t)},this.le=(t,e)=>{this.An.set(t,e)},this.ge=t=>{this.An.delete(t)}}so(){const t=this.Cn;return!!t.router?.enabled}ro(t){}async co(t,e,n="program"){if(this.navigate)return this.navigate(t,e,n)}Yn(t,e=2,n=300,i=3e4){const a=this.Jn.get(t);if(a)return a;const d=this,p=new URL(t,T?.baseURI||location.href);if(/\.ts?$/.test(p.pathname))throw Error(`TypeScript component loading is not enabled in tiny builds. Loading failed for: ${t} failed.`);const y=/\.html?$/.test(p.pathname),m=(t,...e)=>t.reduce((t,n,o)=>t+n+(o<e.length?e[o]:""),"")+"\n",b=t=>{try{if(o(t)||f(t))return t}catch{}if(!t||"object"!=typeof t)return s({value:t});const e=s(t),n=s({value:e});try{const t=u(e),o=u(n);t&&o&&(t.changeListeners||(t.changeListeners=[]),t.changeListeners.push((t,n)=>{if(Array.isArray(o.changeListeners)){const t=h(e),n=h(e);for(const e of o.changeListeners)try{e(t,n)}catch{}}}))}catch{}const i=new Proxy(n,{get:(t,e)=>"value"===e?t.value:t.value?.[e],set:(t,e,n)=>{try{return t.value&&(t.value[e]=n),!0}catch(t){return!1}},has:(t,e)=>"value"===e||!!t.value&&e in t.value,ownKeys:t=>t.value?Reflect.ownKeys(t.value):[],getOwnPropertyDescriptor:(t,e)=>{if("value"===e)return{configurable:!0,enumerable:!0,value:t.value,writable:!0};const n=t.value;return n?Object.getOwnPropertyDescriptor(n,e)||{configurable:!0,enumerable:!0,value:n[e],writable:!0}:void 0}});try{const t=u(n);t&&l(i,t)}catch{}return i},w=t=>function(t){let e,n=!0;const o={depTracker:t=>{n=!0}},i={get value(){return n&&(e=t(),n=!1),e}};return Object.defineProperty(i,r,{value:!0,enumerable:!1,configurable:!1,writable:!1}),Object.defineProperty(i,Symbol.for("_computedID"),{value:c(12),enumerable:!1,configurable:!1,writable:!0}),s(i,o)}(t);let v,g,_=!1,x=0,M=null,S=null;const $=t=>Math.min(i,n*Math.pow(2,t)*(.75+.5*Math.random())),E=()=>{null!=M&&(clearTimeout(M),M=null),S&&(window.removeEventListener("online",S),S=null)},j=()=>{const n=x++;fetch(t,{cache:"no-cache"}).then(t=>{if(!t.ok)throw Error(t.status+" "+t.statusText);return t.text()}).then(e=>{if(!_){if(y){const n=new Map;let i="",s="",r=!1;try{const t=(new DOMParser).parseFromString(e,"text/html");t.querySelectorAll("script").forEach(t=>{const e=t.hasAttribute("setup"),o=t.getAttribute("name");if(o){const i=n.get(o)||{script:"",template:"",hasSetup:!1};e&&(i.hasSetup=!0),i.script+=(t.textContent||"")+"\n",n.set(o,i)}else e&&(r=!0),i+=(t.textContent||"")+"\n";t.remove()}),t.querySelectorAll("template").forEach(t=>{const e=t.getAttribute("name");if(e){const o=n.get(e)||{script:"",template:"",hasSetup:!1};o.template=(t.innerHTML||"").trim(),n.set(e,o)}else s||(s=(t.innerHTML||"").trim())}),s||n.size||(s=(t.body?t.body.innerHTML:"").trim())}catch(t){s=e}const c=(e,n,i,s)=>{try{const r={},c={onMounted:[],onBeforeMount:[],onUnmounted:[],onBeforeUnmount:[]},l=t=>{t&&"object"==typeof t&&Object.assign(r,t)},a=t=>{"function"==typeof t&&c.onMounted.push(t)},p=t=>{"function"==typeof t&&c.onBeforeMount.push(t)},y=t=>{"function"==typeof t&&c.onUnmounted.push(t)},v=t=>{"function"==typeof t&&c.onBeforeUnmount.push(t)},g=(t,e)=>{if(!t||"function"!=typeof e)return()=>{};const n=t=>{if(!f(t)){if(o(t)){try{if("value"in t)return t.value}catch{}return h(t)}return t}};if(Array.isArray(t)){const i=t.filter(t=>!!t&&!f(t)),s=i.map(t=>o(t)?u(t):void 0),r=[];let l=i.map(n),h=!1;const a=()=>{h||(h=!0,Promise.resolve().then(()=>{h=!1;const t=i.map(n);try{e(t,l)}catch(t){}l=t}))};for(let t=0;t<s.length;t++){const e=s[t];if(!e)continue;e.changeListeners||(e.changeListeners=[]);const n=(t,e)=>a();e.changeListeners.push(n),r.push(n)}const d=()=>{for(let t=0;t<s.length;t++){const e=s[t],n=r[t];if(!e||!n||!e.changeListeners)continue;const o=e.changeListeners.indexOf(n);o>=0&&e.changeListeners.splice(o,1)}};return c.onBeforeUnmount.push(d),d}if(f(t))return()=>{};if(o(t)){const o=u(t);if(!o)return()=>{};o.changeListeners||(o.changeListeners=[]);let i=n(t);const s=(o,s)=>{const r=n(t);try{e(r,i)}catch(t){}i=r};o.changeListeners.push(s);const r=()=>{const t=o.changeListeners;if(!t)return;const e=t.indexOf(s);e>=0&&t.splice(e,1)};return c.onBeforeUnmount.push(r),r}return()=>{}},_=Function("XTool","data","computed","watch","html","template","expose","onMounted","onBeforeMount","onUnmounted","onBeforeUnmount",e+"\n//# sourceURL="+t);i?_.call(r,d,b,w,g,m,n,l,a,p,y,v):_(d,b,w,g,m,n,l,a,p,y,v);const x=(t.split("/").pop()||"").replace(/\.(mjs|js|ts|html)(\?.*)?$/i,"").toLowerCase(),M=s||("string"==typeof r.name&&r.name.trim()?r.name.trim():x),S={},$={},E={};for(const t of Object.keys(r)){if("name"===t&&"string"==typeof r[t])continue;const e=r[t];"function"==typeof e?$[t]=e:f(e)?E[t]=e:S[t]=(o(e),e)}const j={};c.onMounted.length&&(j.mounted=function(){for(let t=0;t<c.onMounted.length;t++)try{c.onMounted[t].call(this)}catch(t){}}),c.onBeforeMount.length&&(j.beforeMount=function(){for(let t=0;t<c.onBeforeMount.length;t++)try{c.onBeforeMount[t].call(this)}catch(t){}}),c.onUnmounted.length&&(j.unmounted=function(){for(let t=0;t<c.onUnmounted.length;t++)try{c.onUnmounted[t].call(this)}catch(t){}}),c.onBeforeUnmount.length&&(j.beforeUnmount=function(){for(let t=0;t<c.onBeforeUnmount.length;t++)try{c.onBeforeUnmount[t].call(this)}catch(t){}});try{d.registerComponent({name:M,template:n,data:S,methods:$,computed:E,...j})}catch(t){}}catch(t){}};for(const[t,e]of n)c(e.script,e.template,e.hasSetup,t);(i||s)&&c(i,s,r)}else{const n=e+"\n//# sourceURL="+t;try{Function("XTool","html",n)(d,m)}catch(t){}}_=!0,E(),v()}}).catch(t=>{if(_)return;const o="undefined"==typeof navigator||navigator.onLine,i=(t&&(t.message||""))+"";if(!o||t instanceof TypeError||/Failed to fetch|NetworkError|load failed/i.test(i)){S||(S=()=>{_||(null!=M&&(clearTimeout(M),M=null),j())},window.addEventListener("online",S));const t=$(n);return void(M=window.setTimeout(()=>j(),t))}if(n>=e)return E(),void g(t);const s=$(n);M=window.setTimeout(()=>j(),s)})},A=new Promise((t,e)=>{v=t,g=e,j()}).finally(()=>{this.Jn.delete(t),E()});return this.Jn.set(t,A),A}Vn(){if(!T)return;if("x"===z)return;const t="x-tool-initial-css-"+z;if(T.head&&!T.getElementById(t)){const e=T.createElement(v);e.id=t,e.textContent=`[${z}-show],[${z}-if],[${z}-else],[${z}-else-if],[${z}\\:show],[${z}\\:if],[${z}\\:else],[${z}\\:else-if]{display:none;}`,T.head.appendChild(e)}}Zn(e){this.fo||"undefined"==typeof MutationObserver||(this.fo=new MutationObserver(e=>{for(const n of e)if("childList"===n.type){for(let t=0;t<n.addedNodes.length;t++){const e=n.addedNodes[t];if(1!==e.nodeType)continue;const o=e;"COMPONENT"===o[x]&&o.getAttribute($)&&!this.ue(o)&&this.Kn(o)}for(let e=0;e<n.removedNodes.length;e++){const o=n.removedNodes[e];if(1!==o.nodeType)continue;const i=o;p(()=>{if(i.isConnected)return;if(i.un)return;this.zn(i);const e=[i];for(;e.length;){const n=e.pop();if(n.un)continue;const o=this.ue(n);o&&!o.isDestroyed&&t(()=>{this._e(o),o.destroy()});let i=n.firstElementChild;for(;i;)e.push(i),i=i.nextElementSibling}})}}else if("attributes"===n.type){const e=n.target;if(e&&"COMPONENT"===e[x])if(n.attributeName===$)this.uo(e);else if(n.attributeName===E){const n=this.ue(e);n&&t(()=>{const t=e.hasAttribute(E);n.setFrozen(!!t)})}}this.Le()}),this.fo.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[$,E]}))}lo(t){return null}ho(t,e,n,o){return()=>{}}uo(e){const o=n(e.getAttribute("source")),i=this.ue(e);if(!o)return i&&!i.isDestroyed&&t(()=>i.destroy()),void(e.innerHTML="");i&&!i.isDestroyed&&t(()=>i.destroy()),e.innerHTML="",this.Kn(e)}oo(e,n,o){n.element=e,o?.callBeforeMount&&t(()=>n.callBeforeMount()),this.le(n.element,n),this.On.push({el:e,comp:n}),o?.xInitExpr&&n.me(o.xInitExpr)}Kn(e,n){let o=e.qn||e.getAttribute("source");if(!o)return;e.qn&&delete e.qn,delete e.De;let i=n;if(!i){let t=e.parentElement;for(;t&&!i;){const e=this.ue(t);e?i=e:t=t.parentElement}}let s=this.Un(o);if(!s&&i)try{const t=Function("ctx","with(ctx){return ("+o+")}"),n=i.Ut(void 0,e),r=t.call(i.getContext(!0),n);"string"==typeof r&&r&&(o=r,s=this.Un(o))}catch{}if(!s){const i=o.toLowerCase(),s=this.Qn?.get(i);if(s&&(0!==s.status||s.promise||(s.status=1,s.promise=this.Yn(s.path).then(()=>{s.status=2}).catch(()=>{s.status=3}).finally(()=>{2===s.status&&this.Qn?.delete(i)})),s.promise)){const i=e,r=n;s.promise.then(()=>{t(()=>{this.Un(o)&&i.isConnected&&!this.ue(i)&&this.Kn(i,r)})})}return}let r=null,c=null,f=null;r||(r={});const u=e.Wn;u&&"object"==typeof u&&(Object.assign(r,u),delete e.Wn);const l=this.Bn.get(e)||e.getAttribute(q("prop")),h=q("prop")+":",a={},d=t=>{if(!t)return t;const e=t.toLowerCase();return(t=>{if(!t)return null;for(const n of Object.keys(t))if(n.toLowerCase()===e)return n;return null})(s?.propEffects)||(t.includes("-")?t.replace(/-([a-z])/g,(t,e)=>e.toUpperCase()):t)};for(const t of Array.from(e.attributes)){const n=t.name;if(n.startsWith(h)){const o=d(n.substring(h.length));o&&(a[o]=t.value),e.removeAttribute(n)}}if(l){if(f=l,i)try{const t=Function("ctx","with(ctx){return ("+l+")}"),n=i.getContext(!0),o=i.Ut(void 0,e);c=t.call(n,o)}catch(t){c=null}else try{c=Function("return ("+l+")")()}catch{c=null}if(c&&"object"==typeof c)for(const t in c)t in r||(r[t]=c[t]);this.Bn.set(e,l),e.removeAttribute(q("prop"))}if(Object.keys(a).length){const t={};for(const[n,o]of Object.entries(a)){let s;if(i)try{const t=Function("ctx","with(ctx){return ("+o+")}"),n=i.getContext(!0),r=i.Ut(void 0,e);s=t.call(n,r)}catch(t){s=void 0}else try{s=Function("return ("+o+")")()}catch{s=void 0}t[n]=s,n in r||(r[n]=s)}const n=c?{...c}:{};c={...n};for(const e in t)e in n||(c[e]=t[e]);const o=Object.keys(t).filter(t=>!(t in n));if(o.length)if(f&&/}\s*$/.test(f.trim())){const t=f.trim(),e=t.lastIndexOf("}");if(e>-1){const n=t.slice(0,e),i=!/{\s*$/.test(n),s=o.map(t=>`${t}: ${a[t]}`).join(", ");f=n+(i?", ":" ")+s+"}"}}else f="{ "+o.map(t=>`${t}: ${a[t]}`).join(", ")+" }";else if(!f){const t=Object.keys(a);t.length&&(f="{ "+t.map(t=>`${t}: ${a[t]}`).join(", ")+" }")}}let p,y={};if(s.makeData&&t(()=>{const t=s.makeData(r);t&&(y=t)}),s.data)for(const t in s.data)y[t]=s.data[t];if(c&&"object"==typeof c)for(const t in c)y[t]=c[t];else for(const t in r)y[t]=r[t];if(y.$props=r,"function"==typeof s.init)try{const t=s.init(r);p=t&&"object"==typeof t?t:void 0}catch{p=void 0}const m={name:s.name??name,data:y,methods:{...s.methods||{},...p?.methods||{}},computed:{...s.computed||{},...p?.computed||{}},propEffects:{...s.propEffects||{},...p?.propEffects||{}},setup:p?.setup||s.setup,mounted:p?.mounted||s.mounted,unmounted:p?.unmounted||s.unmounted,beforeMount:p?.beforeMount||s.beforeMount,beforeUnmount:p?.beforeUnmount||s.beforeUnmount,updated:p?.updated||s.updated,destroyed:p?.destroyed||s.destroyed,beforeDestroy:p?.beforeDestroy||s.beforeDestroy},b=this.createComponent(m),w=["mounted","unmounted","updated","before-unmount"];for(const t of w){const n=e.getAttribute(q(t));n&&i&&(b.be(t,n,i),e.removeAttribute(q(t)))}const v=Array.from(e.childNodes);v.length&&e.replaceChildren();const g=[],_={};for(const t of v)if(1===t.nodeType){const e=t;if("TEMPLATE"===e.tagName){const t=e.content,n=e.getAttribute("slot"),o=Array.from(t.childNodes).map(t=>t.cloneNode(!0));if(n){_[n]||(_[n]=[]);for(const t of o)1===t.nodeType&&_[n].push(t)}else g.push(...o)}else{const n=e.getAttribute("slot");n?(_[n]||(_[n]=[]),_[n].push(e)):g.push(t)}}else g.push(t);b.ye(g,_,i||null);const x=t=>{if(1===t.nodeType){t.he=!0;for(const e of t.querySelectorAll("*"))e.he=!0}};for(const t of g)x(t);for(const t in _)for(const e of _[t])x(e);if(s.template){const n=t=>{e.innerHTML=t;const n=e.querySelectorAll("slot");if(n.length)for(const t of n){const e=t.getAttribute("name"),n=e?_[e]||[]:g;n.length&&t.replaceWith(...n)}},o=s.template;if("string"==typeof o)n(o);else if("function"==typeof o)try{const i=o();i&&"function"==typeof i.then?(e.innerHTML="",i.then(e=>{n(e||""),t(()=>b.ce())})):n((i||"")+"")}catch{e.innerHTML=""}else o&&"function"==typeof o.then&&(e.innerHTML="",o.then(e=>{n(e||""),t(()=>b.ce())}))}else v.length&&e.append(...v);this.oo(e,b,{callBeforeMount:!1});try{const t=e.querySelectorAll(`[${q("data")}]`);for(const e of t)this.ue(e)||this.hn(e,b)}catch{}t(()=>{this.de(e,b)}),f&&i&&t(()=>b.Ae(f,i)),this.Le()}ue(t){return this.An.get(t)}observe(t){}Gn(t){if(this.Pn)return;const e=t,n=t=>{let n=t.target;for(;n&&n!==e.parentElement&&!t.cancelBubble;){const e=this.Tn.get(n);if(e){const n=e.get(t.type);if(n&&n.length)for(const e of[...n])try{if(e.comp&&e.comp.isDestroyed){const t=n.indexOf(e);t>-1&&n.splice(t,1);continue}if((!e.filter||e.filter(t))&&(e.run(t),e.once)){const t=n.indexOf(e);t>-1&&n.splice(t,1)}}catch{}}n=n.parentElement}},o=["keydown","keyup"],i=["click","input","change"];for(const t of o)e.addEventListener(t,n,!0);for(const t of i)e.addEventListener(t,n,!1);this.Pn=!0}mn(t,e,n){let o=this.Tn.get(t);o||(o=new Map,this.Tn.set(t,o));let i=o.get(e);return i||(i=[],o.set(e,i)),i.push(n),()=>{try{const o=this.Tn.get(t),i=o?.get(e);if(!i)return;const s=i.indexOf(n);s>-1&&i.splice(s,1)}catch{}}}}}();if("undefined"!=typeof window){const t=window;t.XTool=y,t.FyneJS=y}