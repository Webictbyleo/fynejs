"use strict";const t=Array.isArray,e=Array.from,i=Object.keys,d=document,w=window;"use strict";const t=t,e=function(){const e=e,i=t,n=i,s=(...t)=>{},o="s",r="d",c="n",h="t",f="TEMPLATE",l="l";let a=1;const u="0"!=typeof d?d:null;try{if(u&&u.head&&!u.getElementById("x-tool-initial-css")){const t=u.cE(o);t.id="x-tool-initial-css",t.tC="[x-show],[x-if],[x-else],[x-else-if],[x\\:show],[x\\:if],[x\\:else],[x\\:else-if]{display:none;}",u.head.aC(t)}}catch{}let d="x";const y=t=>`${d}-${t}`;class p{attachToParent(t){this.t=t,t.i(this)}get id(){return this.o}get framework(){return this.h}get element(){return this.l}set element(t){this.l=t}get isBound(){return this.u}set isBound(t){this.u=t}get isMounted(){return this.p}set isMounted(t){this.p=t}get isDestroyed(){return this.m}set isDestroyed(t){this.m=t}v(t,e){const i=this.M.get(t)||[];i.push(e),this.M.set(t,i)}constructor(t,e,i){this._=0,this.$=0,this.l=null,this.u=0,this.p=0,this.m=0,this.k=0,this.D=[],this.t=null,this.O={},this.R={},this.A=new Map,this.S=new Map,this.T=new Map,this.C=null,this.F=0,this.j=0,this.P=0,this.M=new Map,this.I=new Set,this.q=[],this.B=new WeakMap,this.L=new Map,this.N=new Map,this.W=null,this.U=0,this.K=[],this.Z=new WeakMap,this.J=new WeakMap,this.V=null,this.X=t=>{if(!t)return void this.A.clear();const e=this.T.get(t);if(e)for(const t of e)this.A.delete(t)},this.G=t=>{const e=this.H[t];"function"==typeof e&&this.Y(()=>e.call(this.tt()),`Error in '${t+""}'`)},this.et=t=>{if("function"!=typeof t)return;const e=()=>{try{t()}catch{}try{this.I.delete(e)}catch{}};return this.I.add(e),()=>{try{this.I.delete(e)}catch{}}},this.it=(t,e,i,n)=>{t.on(e,i,n),this.q.push({element:t,event:e,handler:i,options:n})},this.o=t,this.h=i,this.nt=e.methods||{},this.O=e.computed||{},this.R=e.propEffects||{},this.P=!(!e.computed||!i(e.computed).length),this.H={mounted:e.mounted,unmounted:e.unmounted||e.destroyed,updated:e.updated,beforeMount:e.beforeMount,beforeUnmount:e.beforeUnmount||e.beforeDestroy},this.st=this.ot(e.data||{}),this.rt=this.ct()}callBeforeMount(){this.k||(this.G("beforeMount"),this.k=1)}ht(t){if(this.isBound){this.X(t);const e=new Set,i=this.N.get(t);if(i)for(let t=0;t<i.length;t++)e.add(i[t]);for(const t of e)this.Y(t,"Error in reactive effect");!this.P&&a||this.ft(),this.G("updated")}}ct(){const t={};for(const e in this.nt){const i=this.nt[e];let n=null;try{if(!/\[native code\]/.test(i+"")){let t=(i+"").trim();/^function[\s\(]/.test(t)||/^[\w\$_][\w\d\$_]*\s*=>/.test(t)||/^\(.*?\)\s*=>/.test(t)||(t="function "+t);const e="with(ctx){const fn=("+t+");return fn.apply(thisArg,argsArray);}";try{n=Function("thisArg","argsArray","ctx",e)}catch(t){n=null}}}catch{n=null}t[e]=(...t)=>{const s=this.tt(),o=this.j;this.j=1;try{const o=this.lt(0,0);if(n)try{return this.Y(()=>n.call(0,s,t,o),`Error in method '${e}'`)}catch(t){throw t}return this.Y(()=>i.call(s,...t),`Error in method '${e}'`)}finally{this.j=o}}}return t}ut(t){if(this.dt(t),this.A.has(t))return this.A.get(t);try{const e=this.O[t];this.F=1,this.C=t;const i=this.S.get(t);if(i)for(const e of i){const i=this.T.get(e);i&&i.delete(t)}this.S.set(t,new Set);const n=e.call(this.tt());return this.F=0,this.C=null,this.A.set(t,n),n}catch{return this.F=0,void(this.C=null)}}dt(t){if(!this.W)return;let e=this.N.get(t);e||(e=[],this.N.set(t,e)),e.includes(this.W)||e.push(this.W)}ft(){this.U||(this.U=1,requestAnimationFrame(()=>{if(this.U=0,this.yt(),this.K&&this.K.length){const t=this.K.splice(0,this.K.length);for(const e of t)try{e()}catch{}}}))}Y(t,e,i){try{return t()}catch(t){return i}}bindToElement(t){this.u||(this.l=t,this.k||this.callBeforeMount(),this.completeBinding())}getContext(t=1){return this.tt(t)}vt(){if(this.l){try{this.wt(this.l)}catch{}this.ft()}}completeBinding(){!this.u&&this.l&&(this.h.bt(this.l)||this.h.xt(this.l,this),this.u=1,this.p=1,this.wt(this.l),this.gt(),this.yt(),this.G("mounted"))}i(t){this.D.includes(t)||this.D.push(t)}Mt(t){const e=this.D.indexOf(t);e>-1&&this.D.splice(e,1)}gt(){}destroy(){const t=this;if(!t.m){t.G("beforeUnmount");for(const e of t.D)e.isDestroyed||e.destroy();t.t&&t.t.Mt(t);for(const[e,i]of t.M)for(const n of i)if("custom"===n.type&&n.customDirective?.unbind)try{n.customDirective.unbind(e,t)}catch{s()}t.M.clear();for(const{element:e,event:i,handler:n,options:s}of t.q)e.off(i,n,s);t.q=[];for(const e of e(t.I))try{e()}catch{s()}if(t.I.clear(),t.A.clear(),t.L.clear(),t.N.clear(),t.V&&t._t)for(const e of t.V.N.values()){const i=e.indexOf(t._t);i>-1&&e.splice(i,1)}t.l&&t.h.$t(t.l),t.G("unmounted"),t.m=1,t.p=0,t.u=0,t.D=[],t.t=null,this.kt=new WeakMap,t.l=null,queueMicrotask(()=>t.h.Et(t.o))}}Dt(t,e){if(!t||!e)return;let i;this.V=e;try{i=Function("ctx","with(ctx){return("+t+")}")}catch{return}const n=()=>{let t;e.W=n;try{const n=e.getContext(1);t=i(n)}catch{t=null}if(e.W=null,t&&"object"==typeof t){this.st.$props=this.st.$props||{},this._=1;for(const e in t){const i=t[e];this.st[e]!==i&&(this.st[e]=i)}this._=0}};this._t=n,n()}wt(t){const e=this,i=(t,i=0)=>{if(!i&&(t.hA(y("data"))||this.h.bt(t)))return0;const n="COMPONENT"===t[h],s=[];let o=0,r=null;for(const e of t.attributes){const t=e.name;(t.startsWith(d+"-")||t.startsWith(d+":"))&&(s.push(e),o||t!==y("text")&&t!==y("html")||(o=1),r||t!==y("for")||(r=e))}if(s.length>0){if(r)return e.Ot(t,r.name,r.value),0;for(const i of s)e.Ot(t,i.name,i.value)}return i||!n};i(t,1),e.Rt(t,i)}At(t){const e=e(t.childNodes);for(const i of e){if(i.nT!==Node.TEXT_NODE)continue;const e=i,n=e.nV||"";if(e.St||-1===n.indexOf("{{"))continue;const s=(e.parentElement?.tagName||"").toLowerCase(),o="code"===s||"pre"===s,r=[];let c=0;for(;c<n.length;){const t=n.indexOf("{{",c);if(-1===t){r.push({literal:n.slice(c)});break}let e=0;for(let i=t-1;i>=0&&92===n.charCodeAt(i);i--)e++;if(e>0){const i=c,s=t-e;s>i&&r.push({literal:n.slice(i,s)}),e>1&&r.push({literal:"\\".repeat(e-1)});const o=n.indexOf("}}",t+2);if(-1===o){r.push({literal:n.slice(t,n.length)}),c=n.length;break}r.push({literal:n.slice(t,o+2)}),c=o+2;continue}{t>c&&r.push({literal:n.slice(c,t)});const e=n.indexOf("}}",t+2);if(-1===e){r.push({literal:n.slice(t)}),c=n.length;break}const i=n.slice(t+2,e).trim();i?r.push({expr:i}):r.push({literal:""}),c=e+2;continue}}const h=r.some(t=>t.expr),f=r.some(t=>t.literal&&t.literal.includes("{{"));if(!h&&!f)continue;e.St=1;const l=h&&!o?r.filter(t=>t.expr).map(e=>this.Tt(e.expr,t)):[];let a=0;const u=()=>{a=0;let t="";for(const e of r)if(null!=e.literal)t+=e.literal;else if(e.expr)if(o)t+="{{"+e.expr+"}}";else{const e=l[a++]();t+=null==e?"":e+""}e.tC!==t&&(e.tC=t)},d={type:"text-interpolation",expression:n,update:0};this.v(t,d);const y=this.Ct(u,d);d.update=y}}Rt(t,e){let i=t.firstElementChild;for(;i;){const t=i.nextElementSibling;e(i)&&this.Rt(i,e),i=t}}Ot(t,e,i){const n=this,s=e.startsWith(d+":"),r=e.slice(d.length+1);if(s||"class"===r||r===o)return t.rA(e),n.Ft(t,r,i);if("transition"===r)return t.rA(e),n.jt(t,i);if("text"===r||"html"===r||"show"===r)return t.rA(e),n.Pt(t,i,r);if(!("model"===r?(t.rA(e),n.It(t,i),1):"if"===r?(t.rA(e),n.qt(t,i),1):"for"===r&&(t.rA(e),n.Bt(t,i),1))&&r.indexOf(":")>-1){const[s,o]=r.split(":",2),[c,...h]=o.split("."),f=h.reduce((t,e)=>(e&&(t[e]=1),t),{});if("on"===s){t.rA(e);const s=n.framework.Lt(c);return s?n.Nt(t,c,i,s,f):n.Wt(t,c,i,f)}return t.rA(e),n.Ft(t,c,i)}}jt(t,e){}zt(t,e){e&&e()}Ut(t,e){e&&e()}Kt(t,e){let i=0;const n=()=>{if(!i){i=1;try{t.off("transitionend",n),t.off("animationend",n)}catch{}e()}};try{t.on("transitionend",n),t.on("animationend",n),setTimeout(n,500)}catch{e()}}Ct(t,e){const i=()=>{this.W=i;try{t()}finally{this.W=null}};if(i(),a&&e&&0===e.Zt){let t=0;for(const e of this.N.values())if(e.includes(i)){t=1;break}e.Zt=!t}return i}Pt(t,e,i){if("class"===i||i===o)return this.Ft(t,i,e);const n=this.Tt(e,t);let s,h;if("show"===i){const e=t;s=e.style[r]!==c?e.style[r]:0}const f={type:i,expression:e,update:0,originalDisplay:s};this.v(t,f);const l=this.Ct(()=>{const e=n(),o=t;switch(i){casetext:o.tC=e+"";break;casehtml:o.iH=(e||"")+"";break;caseshow:const t=!!e;if(h===t)return;h=t,t?(o.style[r]=s||"",this.zt(o)):this.Ut(o,()=>{o.style[r]=c})}},f);f.update=l}It(t,e){const i="checkbox"===t.type,n="number"===t.type||"range"===t.type,s="SELECT"===t.tagName&&1===t.multiple;Reflect.has(this.st,e)||Reflect.defineProperty(this.st,e,{configurable:1,enumerable:1,writable:1});const o=this.Tt(e,t),r=this.Jt(e+"=$value",1),c=i?(()=>{if(t.hA("value"))return t.value;const e=this.Vt(t);if(e){const t=i(e);if(1===t.length)return e[t[0]]}return t.value})():0;this.Ct(()=>(e=>{if(i)if(t(e)){const i=t.hA("value")?t.value:c;t.checked=null!=i&&e.includes(i)}else t.checked=!!e;else{if(s){const i=t,n=t(e)?e:[];for(let t=0;t<i.options.length;t++){const e=i.options[t];e.selected=n.includes(e.value)}return}t.value=(e??(n?0:""))+""}})(o()));const f=this.lt(0,t),l=t.type,a="SELECT"===t[h]||"checkbox"===l||"radio"===l||"file"===l?change:"input";this.it(t,a,()=>{const e=(()=>{if(i)return t(o())&&0!==c?t.checked?c:0:t.hA("value")?t.checked?t.value:0:t.checked;if(s){const e=t,i=[];for(let t=0;t<e.options.length;t++){const n=e.options[t];n.selected&&i.push(n.value)}return i}return n?parseFloat(t.value)||0:t.value})(),h=this.Y(()=>o(),"model read",0);if(i&&t(h)){const e=h,i=t.hA("value")?t.value:c;if(0!==i){const n=e.indexOf(i);t.checked?-1===n&&e.push(i):n>-1&&e.splice(n,1)}}else if(s&&t(h)){const t=h;t.splice(0,t.length),e.forEach(e=>t.push(e))}else f.$value=e,this.Y(()=>{r.call(this.tt(),f)})}),this.v(t,{type:"model",property:e})}qt(t,e){const i=this,n=u.createComment("x-if");t.pN?.iB(n,t),t.Xt=n.parentElement||0;const s=[],o=(t=>{if(t[h]===f){const e=u.cE("div");return e.style[r]="contents",e.aC(t.content.cloneNode(1)),{el:e,isTemplate:1}}return{el:t,isTemplate:0}})(t),c=i.Tt(e,t);s.push({el:o.el,test:c,isTemplate:o.isTemplate}),o.isTemplate||(o.el.Gt=1);const a=[t];let d=-1;for(const t of a)t.pN&&t.pN.rC(t);const y=e=>{if(e<0)return;const o=s[e];o.el.Gt||(i.wt(o.el),o.el.Gt=1),t.Ht?.pN?.rC(t.Ht),o.el.pN||(n.pN?.iB(o.el,n.nS),this.zt(o.el)),t.Ht=o.el,d=e},p=(t,e)=>{if(t<0)return void(e&&e());const i=s[t];i.el.pN?this.Ut(i.el,()=>{i.el.pN&&i.el.pN.rC(i.el),e&&e()}):e&&e(),d=-1},m=i.Ct(()=>{let t=-1;for(let e=0;e<s[l];e++){const i=s[e];if(!i.test||i.test()){t=e;break}}t!==d&&(-1!==d?p(d,()=>y(t)):y(t))});i.v(t,{type:"if",expression:e,update:m})}Wt(t,e,i,s){const o=this,r=(i||"").trim(),c=o.Qt(r),h=s?{once:!!s.once,passive:!!s.passive,capture:!!s.capture}:0,f=!!s?.self,l=!!s?.prevent,a=!!s?.stop,u={enter:["enter"],esc:["escape","esc"],escape:["escape","esc"],space:[" ","space","spacebar"],tab:["tab"],backspace:["backspace"],delete:["delete","del"],del:["delete","del"],arrowup:["arrowup","up"],arrowdown:["arrowdown","down"],arrowleft:["arrowleft","left"],arrowright:["arrowright","right"],home:["home"],end:["end"],pageup:["pageup"],pagedown:["pagedown"]},d={ctrl:!!s?.ctrl,alt:!!s?.alt,shift:!!s?.shift,meta:!!s?.meta},y={left:0,middle:1,right:2},p=!!s?.single,m=!!s?.multi,v=s?n(s):[],w=[];for(const t of v){const e=u[t.toLowerCase()];e&&w.push(...e)}const b=[];for(const t of v){const e=y[t.toLowerCase()];0!==e&&b.push(e)}const x=w.length>0||d.ctrl||d.alt||d.shift||d.meta,g=b.length>0,M=p||m,_=e=>{if(f&&e.target!==t)return0;if(M){if(!(e instanceof TouchEvent))return0;{const t=e.touches.length;if(p&&1!==t)return0;if(m&&t<2)return0}}if(g){if(!(e instanceof MouseEvent))return0;if(!b.includes(e.button))return0}if(x){if(!(e instanceof KeyboardEvent))return0;const t=(e.key||"").toLowerCase();if(w.length>0&&!w.includes(t))return0;if(d.ctrl&&!e.ctrlKey)return0;if(d.alt&&!e.altKey)return0;if(d.shift&&!e.shiftKey)return0;if(d.meta&&!e.metaKey)return0}return1},$=!!r;let k=null;const E=o.tt();if(c){const e=o.Yt(c.paramsList,c.body,c.isBlock),i=c.paramsList.length?e=>c.paramsList.map((i,n)=>0===n?e:1===n?t:0):()=>[];k=n=>{const s=o.lt(n,t);e.call(E,s,...i(n))}}else if($){const e=r.includes(";"),i=o.Jt(r,e);k=e=>{const n=o.lt(e,t),s=i.call(E,n);"function"==typeof s&&s.call(E,e)}}const D=t=>{o.Y(()=>{_(t)&&(l&&"function"==typeof t.preventDefault&&t.preventDefault(),a&&"function"==typeof t.stopPropagation&&t.stopPropagation(),k&&k(t))})};if(this.framework.te().delegate&&["click","input","change","keydown","keyup"].includes(e)){const i=this.framework.ee(t,e,{filter:t=>_(t),run:t=>D(t),once:!!s?.once,comp:this});this.et(i)}else o.it(t,e,D,h)}Jt(t,e=0){const i=`${e?s:"r"}:${t}`;let n=this.L.get(i);return n||(n=Function("ctx",`with(ctx){${e?t:`return(${t})`}}`),this.L.set(i,n)),n}Tt(t,e){const i=this,n=i.Jt(t);return()=>this.Y(()=>n.call(i.tt(),i.lt(0,e)),"Error evaluating expression:"+t)}Qt(t){let e=t.match(/^\s*\(\s*([^)]*?)\s*\)\s*=>\s*([\s\S]+)$/);if(e||(e=t.match(/^\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=>\s*([\s\S]+)$/)),!e)return null;const i=(e[1]||"").split(",").map(t=>t.trim()).filter(Boolean),n=(e[2]||"").trim(),s=n.startsWith("{")&&n.endsWith("}");return{paramsList:i,body:s?n.slice(1,-1):n,isBlock:s}}Yt(t,e,i){return Function("ctx",...t,"with(ctx){"+(i?e:"return("+e+");")+"}")}ie(e,i){if(Object.getPrototypeOf(e)!==Object.prototype&&!t(e))return e;const n=this;if(this.kt||(this.kt=new WeakMap),this.kt.has(e))return this.kt.get(e);const s=new Proxy(e,{get:(e,s,o)=>{if(t(e)){if(s===Symbol.iterator)return n.dt(i),Reflect.get(e,s,o);("l"===s||"string"==typeof s&&/^\d+$/.test(s))&&n.dt(i)}else n.dt(i);const r=Reflect.get(e,s,o);return t(e)&&"function"==typeof r&&["push","pop","shift","unshift","splice","sort","reverse","copyWithin","fill"].includes(s)?function(...t){const s=e,o=s.length,c=s[0],h=s[o-1],f=r.apply(e,t);return s.length===o&&s[0]===c&&s[s.length-1]===h||n.ht(i),f}:r&&"object"==typeof r?n.ie(r,i):r},ownKeys:t=>Reflect.ownKeys(t),has:(t,e)=>Reflect.has(t,e),set:(t,e,s)=>{if(n.m)return1;if("symbol"==typeof e)return1;const o=Reflect.has(t,e),r=o?Reflect.get(t,e):0;if(s&&"object"==typeof s&&n.ie(s,i),!o){try{Reflect.defineProperty(t,e,{configurable:1,enumerable:1,writable:1,value:s})}catch{Reflect.set(t,e,s)}return n.ht(i),1}return r===s||(Reflect.set(t,e,s),n.ht(i)),1},deleteProperty:(t,e)=>Reflect.deleteProperty(t,e)});return this.kt.set(e,s),s}ot(e){const i=this;return new Proxy(e,{get:(t,e,n)=>{const s=Reflect.get(t,e,n);return e===Symbol.iterator?s:("symbol"!=typeof e&&i.dt(e),s&&"object"==typeof s?i.ie(s,e):s)},ownKeys:t=>Reflect.ownKeys(t),has:(t,e)=>Reflect.has(t,e),set:(e,n,s,o)=>{if(i.m)return1;if(n===Symbol.iterator&&t(e))return s;const r=Reflect.get(e,n);if(r===s)return1;if(Reflect.has(e,n))Reflect.set(e,n,s,o);else try{Reflect.defineProperty(e,n,{configurable:1,enumerable:1,writable:1,value:s})}catch{Reflect.set(e,n,s,o)}if(this.ht(n),this._&&"$props"!==n){const t=e.$props;t&&(t[n]=s);const i=this.R[n];i&&!this.$&&(this.$=1,this.Y(()=>i.call(this.tt(),s,r)),this.$=0)}return1}})}tt(t=1){const e={$log:(...t)=>{},$destroy:()=>this.destroy(),$forceUpdate:()=>this.ft(),$addCleanupFunction:t=>this.et(t),$nextTick:t=>t?(this.K.push(t),void(this.U||queueMicrotask(()=>{if(!this.U&&this.K.length){const t=this.K.splice(0,this.K.length);for(const e of t)try{e()}catch{}}}))):new Promise(t=>{this.K.push(()=>t()),this.U||queueMicrotask(()=>{if(!this.U&&this.K.length){const t=this.K.splice(0,this.K.length);for(const e of t)try{e()}catch{}}})}),$el:this.l,$id:this.o,$isMounted:this.p,$isDestroyed:this.m,$parent:this.t,$children:this.D,$mutate:t=>{const e=this.j,i=this.F;this.j=0,this.F=0;try{return"function"==typeof t?t():0}finally{this.j=e,this.F=i,this.ft()}}};return new Proxy(this.st,{get:(t,i)=>{if(i in t){if(this.dt(i),this.C){let t=this.S.get(this.C);t||(t=new Set,this.S.set(this.C,t)),t.add(i);let e=this.T.get(i);e||(e=new Set,this.T.set(i,e)),e.add(this.C)}return t[i]}return i in this.O?this.ut(i):i in e?e[i]:this.rt[i]},set:(t,e,i)=>(this.F||(this.st[e]=i),1)})}lt(t,e){const i=this,s=e?this.Vt(e):null,o=s?new Set(n(s)):new Set,r="0"!=typeof w?w:0,c="0"!=typeof d?d:0,h=this.framework.te(),f=!!h.sandboxExpressions,l=new Set((h.allowGlobals||[]).map(t=>t+"")),a=t=>{if(!t)return t;if("function"!=typeof t.on)return t;const e=new WeakMap,n=(t,e)=>{try{return t+"|"+(0===e?"":"object"==typeof e?JSON.stringify(e):e+"")}catch{return t+"|"}};return new Proxy(t,{get(t,s,o){if("addEventListener"===s)return function(s,o,r){t.on(s,o,r);const c=i.et(()=>{try{t.off(s,o,r)}catch{}});try{if("function"==typeof o&&c){let t=e.get(o);t||(t=new Map,e.set(o,t)),t.set(n(s,r),c)}}catch{}};if("removeEventListener"===s)return function(i,s,o){try{t.off(i,s,o)}catch{}try{if("function"==typeof s){const t=e.get(s);if(t){const r=n(i,o),c=t.get(r);if(c){try{c()}catch{}t.delete(r)}0===t.size&&e.delete(s)}}}catch{}};if("querySelector"===s)return function(e){const i=t.querySelector(e);return a(i)};if("querySelectorAll"===s)return function(e){const i=t.querySelectorAll(e);return e(i).map(a)};if("getElementById"===s)return function(e){const i=t.getElementById(e);return a(i)};if("d"===s){const e=t.d;return a(e)||e}return Reflect.get(t,s,o)}})},u=new Map,d=new Map,y=new Map,p=t=>{if(!t)return;const e=function(...e){const n=new t(...e);return i.et(()=>{try{n.disconnect()}catch{}}),n};return e.prototype=t.prototype,e},m={$target:e||0,$event:t||0,...f&&!l.has("setTimeout")?{}:{setTimeout:(t,e,...n)=>{const s=r?.setTimeout?.(t,e,...n);if(null!=s){const t=i.et(()=>{try{r?.clearTimeout?.(s)}catch{}});u.set(s,t)}return s}},...f&&!l.has("clearTimeout")?{}:{clearTimeout:t=>{try{r?.clearTimeout?.(t)}catch{}finally{try{const e=u.get(t);e&&(e(),u.delete(t))}catch{}}}},...f&&!l.has("setInterval")?{}:{setInterval:(t,e,...n)=>{const s=r?.setInterval?.(t,e,...n);if(null!=s){const t=i.et(()=>{try{r?.clearInterval?.(s)}catch{}});d.set(s,t)}return s}},...f&&!l.has("clearInterval")?{}:{clearInterval:t=>{try{r?.clearInterval?.(t)}catch{}finally{try{const e=d.get(t);e&&(e(),d.delete(t))}catch{}}}},...f&&!l.has("requestAnimationFrame")?{}:{requestAnimationFrame:t=>{const e=r?.requestAnimationFrame?.(t);if(null!=e){const t=i.et(()=>{try{r?.cancelAnimationFrame?.(e)}catch{}});y.set(e,t)}return e}},...f&&!l.has("cancelAnimationFrame")?{}:{cancelAnimationFrame:t=>{try{r?.cancelAnimationFrame?.(t)}catch{}finally{try{const e=y.get(t);e&&(e(),y.delete(t))}catch{}}}},...f&&!l.has("MutationObserver")?{}:{MutationObserver:p(r?.MutationObserver)},...f&&!l.has("ResizeObserver")?{}:{ResizeObserver:p(r?.ResizeObserver)},...f&&!l.has("IntersectionObserver")?{}:{IntersectionObserver:p(r?.IntersectionObserver)},...f&&!l.has("w")?{}:{w:a(r)},...f&&!l.has("d")?{}:{d:a(c)}};return new Proxy({},{get:(t,e)=>s&&e in s?s[e]:e in i.st?i.st[e]:e in i.O?i.ut(e):e in i.rt?i.rt[e]:e in m?m[e]:0,set:(t,e,n)=>(s&&o.has(e)?s[e]=n:i.st[e]=n,1),has:(t,e)=>!(!s||!(e in s))||e in i.st||e in i.O||e in i.rt||e in m})}Nt(t,e,i,n,s){const o=this,r=o.Tt(i,t),c={type:"custom",expression:i,customDirective:n};n.bind&&o.Y(()=>n.bind(t,r(),i,o,s,r));const h=o.Ct(()=>{n.update&&o.Y(()=>n.update(t,r(),i,o,s,r))});c.update=h,o.v(t,c)}Ft(e,i,n){const s=this,r=s.Tt(n,e);if("class"===i){const t=e;if(!s.J.get(t)){const e=new Set,i=t.cN||"";if(i)for(const t of i.split(/\s+/))t&&e.add(t);s.J.set(t,e)}}const c=e;let h=null;if(i in c)h=i;else{const t=i.replace(/-([a-z])/g,(t,e)=>e.toUpperCase());t in c?h=t:"readonly"===i.toLowerCase()&&"readOnly"in c&&(h="readOnly")}const f=!(!h||"boolean"!=typeof c[h]),l=!(!h||!(h in c)||"function"==typeof c[h]),a=!!p.ne[i.toLowerCase()],u=s.Ct(()=>{const n=r();if("class"===i){const i=e,o=s.J.get(i);if("string"==typeof n)i.cN=o&&o.size?[...o].join(" ")+(n?" "+n:""):n||"";else if(t(n))o&&o.size?i.cN=[...o,...n.filter(Boolean)].join(" "):i.cN=n.filter(Boolean).join(" ");else if(n&&"object"==typeof n){o&&o.size&&(i.cN=[...o].join(" "));for(const t in n){const e=!!n[t];if(!t)continue;const s=t.split(/\s+/);for(let t=0;t<s.length;t++){const n=s[t];n&&i.classList.toggle(n,e)}}}else null==n&&o&&o.size?i.cN=[...o].join(" "):null==n&&i.rA("class");return}if(i===o){const t=e;return"string"==typeof n?void(t.style.cssText=n):n&&"object"==typeof n?void Object.assign(t.style,n):void(null==n&&t.rA("s"))}if(f&&h||a){const t=!!n;return h&&f&&(c[h]=t),void(t?e.sA(i,""):e.rA(i))}let u=null;if(n&&"object"==typeof n){const t=[];for(const e in n)n[e]&&t.push(e);u=t.length?t.join(" "):null}else null!=n&&(u=n+"");if(l&&h)if(null!==u)try{c[h]=u}catch(t){try{e.sA(i,u)}catch{}}else e.rA(i);else null!==u?e.gA(i)!==u&&e.sA(i,u):e.hA(i)&&e.rA(i)});s.v(e,{type:"bind",expression:n,update:u})}Vt(t){if(!t)return null;if(!t.parentElement){const e=t.Ht;if(e&&e.parentElement)t=e;else{const e=t.Xt;e&&(t=e)}}const e={};let i=t;for(;i;){const t=this.B.get(i);if(t&&Object.assign(e,t),i===this.element)break;i=i.parentElement}return n(e).length?e:null}se(t){for(const[e,i]of this.M)for(const n of i)(t===e||e instanceof Element&&t.contains(e))&&n.update&&n.update()}Bt(t,n){const s=this,o=n.trim().match(/^(?:\(\s*([^,\s]+)\s*(?:,\s*([^\)]+))?\s*\)|([^,\s]+))\s+(in|of)\s+(.+)$/);if(!o)return;const c=o[1]||o[3],l=o[2],a=o[5],d=u.createComment("x-for");let y;t.pN?.iB(d,t),t[h]===f?(y=u.cE("div"),y.style[r]="contents",y.aC(t.content.cloneNode(1)),t.pN?.rC(t)):(y=t,t.pN?.rC(t));const p=d.parentElement||s.element,m=s.Tt(a.trim(),p),v=[],w=(t,e)=>{const i={[c]:t};return l&&(i[l]=e),i},b={type:"for",expression:n},x=s.Ct(()=>{const t=s.Y(()=>{const t=m();if(i(t))return{list:t,keys:null};if("0"!=typeof Map&&t instanceof Map)return{list:e(t.values()),keys:e(t.keys())};if("0"!=typeof Set&&t instanceof Set)return{list:e(t.values()),keys:null};if(t&&"function"==typeof t[Symbol.iterator])return{list:e(t),keys:null};if(t&&"object"==typeof t){const e=i(t);return{list:e.map(e=>t[e]),keys:e}}return{list:[],keys:null}},"x-for eval error",{list:[],keys:null}),n=t.list,o=t.keys;if(v.length>n.length)for(;v.length>n.length;){const t=v.pop();t.pN&&t.pN.rC(t)}const r=Math.min(v.length,n.length);for(let t=0;t<r;t++){const e=v[t],i=o?o[t]:t;s.B.set(e,w(n[t],i)),s.se(e)}if(n.length>v.length){const t=u.createDocumentFragment(),e=v.length;for(let i=e;i<n.length;i++){const e=y.cloneNode(1);e.rA("x-for");const r=o?o[i]:i;s.B.set(e,w(n[i],r));try{s.wt(e)}catch{}t.aC(e),v.push(e)}const i=v[e-1]||d;i.pN&&i.pN.iB(t,i.nS)}},b);b.update=x,s.v(d,b)}yt(){const t=this;for(const e of t.M.values())for(const t of e)if((!a||!t.Zt)&&t.update)try{t.update()}catch(t){}}}return p.ne={itemscope:1,formnovalidate:1,novalidate:1,default:1},new class{constructor(){this.oe=new Map,this.re=new WeakMap,this.ce=[],this.he={},this.fe=new Map,this.le=new Map,this.ae=new WeakMap,this.ue=0,this.directive=(t,e)=>{if(t.startsWith(d+"-"))throw Error(`Custom directive names should not start with "${d}-". Use:XTool.directive("my-directive",...)`);return this.fe.set(t,e),this},this.registerComponent=t=>{if(!t||!t.name)throw Error("registerComponent requires a name");const e=t.name.toLowerCase();if(this.le.has(e))throw Error(`Component name "${e}" already registered`);return this.le.set(e,t),this},this.de=t=>this.le.get(t.toLowerCase()),this.Lt=t=>this.fe.get(t),this.te=()=>this.he,this.init=(t={})=>{this.he={container:"body",debug:0,staticDirectives:1,...t},"boolean"==typeof this.he.staticDirectives&&(a=this.he.staticDirectives);const e=this.he.prefix;if(d=e&&"string"==typeof e&&e[l]>0?e:"x",u&&"loading"===u.readyState)u.on("DOMContentLoaded",()=>{this.ye(),this.pe();const t=u?.querySelector(this.he.container);t&&(this.me(t),this.he.delegate&&this.ve(t))});else if(!u||"complete"===u.readyState||"interactive"===u.readyState){this.ye(),this.pe();const t=u?.querySelector(this.he.container);t&&(this.me(t),this.he.delegate&&this.ve(t))}return this},this.createComponent=t=>{const e=new p(this.we(),t,this);return this.oe.set(e.id,e),e.callBeforeMount(),e},this.pe=()=>{const t=u?.querySelector(this.he.container);if(!t)return;const i=t.querySelectorAll(`[${y("data")}]`);for(const t of i)this.bt(t)||this.be(t);const n=t.querySelectorAll("component[source]");for(const t of n)this.bt(t)||this.xe(t);if(this.ge(),0===i[l]&&!this.bt(t)){const i=e(this.oe.values()),n=i[i[l]-1];n&&!n.isBound&&n.bindToElement(t)}},this.ge=()=>{if(this.ce[l]){for(const t of this.ce){let e,i=t.el.parentElement;for(;i&&!e;){const t=this.bt(i);t?e=t:i=i.parentElement}e&&t.comp.attachToParent(e)}for(const t of this.ce)t.comp.completeBinding();this.ce=[]}},this.be=(t,e)=>{const i=t.gA(y("data"));let n={};if(i){t.rA(y("data"));try{if(e){let t={};try{t=e.tt?.()||{}}catch{t={}}n=Function("parent",`with(parent){return(${i})}`)(t)}else n=this.Me(i);n=n.methods?{methods:n.methods,data:{...n}}:{data:{...n}},e&&(n.data.$parent=e)}catch(t){}}const s=this.createComponent(n);s.element=t,s.callBeforeMount(),this.xt(s.element,s),this.ce.push({el:t,comp:s});const o=t.gA(y("init"));if(o){t.rA(y("init"));const e=s.H?.mounted;s.H.mounted=function(){if(e)try{e.call(this)}catch{}const t=Function("ctx","with(ctx){"+o+"}");queueMicrotask(()=>{if(!s.isDestroyed&&s.element&&s.element.isConnected)try{const e=s.tt?.()||s.getContext?.()||{},i=t(e);if("function"==typeof i)try{i()}catch{}}catch{}})}}},this.we=()=>"component_"+Date.now()+"_"+Math.random().toString(36).substring(2,9),this.Me=t=>{try{return Function("return "+t.trim())()}catch{return{}}},this.Et=t=>{this.oe.delete(t)},this._e=(...t)=>{},this.xt=(t,e)=>{this.re.set(t,e)},this.$t=t=>{try{this.re.delete(t)}catch{}}}ye(){if(!u)return;if("x"===d)return;const t="x-tool-initial-css-"+d;if(u.head&&!u.getElementById(t)){const e=u.cE(o);e.id=t,e.tC=`[${d}-show],[${d}-if],[${d}-else],[${d}-else-if],[${d}\\:show],[${d}\\:if],[${d}\\:else],[${d}\\:else-if]{display:none;}`,u.head.aC(e)}}me(t){this.$e||"0"==typeof MutationObserver||(this.$e=new MutationObserver(t=>{for(const e of t)if("childList"===e.type){for(let t=0;t<e.addedNodes.length;t++){const i=e.addedNodes[t];if(1!==i.nT)continue;const n=i;"COMPONENT"===n[h]&&n.gA("source")&&!this.bt(n)&&this.xe(n)}for(let t=0;t<e.removedNodes.length;t++){const i=e.removedNodes[t];if(1!==i.nT)continue;const n=i;queueMicrotask(()=>{if(n.isConnected)return;const t=[n];for(;t.length;){const e=t.pop(),i=this.bt(e);if(i&&!i.isDestroyed)try{i.destroy()}catch{}let n=e.firstElementChild;for(;n;)t.push(n),n=n.nextElementSibling}})}}else if("attributes"===e.type){const t=e.target;t&&"COMPONENT"===t[h]&&"source"===e.attributeName&&this.ke(t)}this.ge()}),this.$e.observe(t,{childList:1,subtree:1,attributes:1,attributeFilter:["source"]}))}ke(t){const e=(t.gA("source")||"").trim(),i=this.bt(t);if(e){if(i&&!i.isDestroyed)try{i.destroy()}catch{}t.iH="",this.xe(t)}else{if(i&&!i.isDestroyed)try{i.destroy()}catch{}t.iH=""}}xe(t){const e=t.gA("source");if(!e)return;const i=this.de(e);if(!i)return;let n,s=t.parentElement;for(;s&&!n;){const t=this.bt(s);t?n=t:s=s.parentElement}let o=null,r=null,c=null;o||(o={});const h=t.gA(y("prop"));if(h){if(c=h,n)try{r=Function("ctx","with(ctx){return("+h+")}")(n.getContext(1))}catch{r=null}else try{r=Function("return("+h+")")()}catch{r=null}if(r&&"object"==typeof r)for(const t in r)t in o||(o[t]=r[t]+"");t.rA(y("prop"))}let f,l={};if(i.makeData)try{l=i.makeData(o)||{}}catch{l={}}if(i.data)for(const t in i.data)l[t]=i.data[t];for(const t in o)t in l||(l[t]=o[t]);if(l.$props=o,"function"==typeof i.init)try{const t=i.init(o);f=t&&"object"==typeof t?t:0}catch{f=0}const a={data:l,methods:{...i.methods||{},...f?.methods||{}},computed:{...i.computed||{},...f?.computed||{}},propEffects:{...i.propEffects||{},...f?.propEffects||{}},mounted:f?.mounted||i.mounted,unmounted:f?.unmounted||i.unmounted,beforeMount:f?.beforeMount||i.beforeMount,beforeUnmount:f?.beforeUnmount||i.beforeUnmount,updated:f?.updated||i.updated,destroyed:f?.destroyed||i.destroyed,beforeDestroy:f?.beforeDestroy||i.beforeDestroy},d=this.createComponent(a);d.element=t;const p=[];for(;t.fC;){const e=t.fC;p.push(e),t.rC(e)}if(i.template){const e=e=>{t.iH=e;const i=t.querySelectorAll("slot");if(i.length)for(const t of i){const e=t.gA("name");let i=[];if(i=e?p.filter(t=>1===t.nT&&t.gA("slot")===e):p.filter(t=>1!==t.nT||!t.hA("slot")),i.length){const e=u.createDocumentFragment();for(const t of i)e.aC(t);t.pN?.replaceChild(e,t)}}},n=i.template;if("string"==typeof n)e(n);else if("function"==typeof n)try{const i=n();i&&"function"==typeof i.then?(t.iH="",i.then(t=>{e(t||"");try{d.vt()}catch{}})):e((i||"")+"")}catch{t.iH=""}else n&&"function"==typeof n.then&&(t.iH="",n.then(t=>{e(t||"");try{d.vt()}catch{}}))}else for(const e of p)t.aC(e);this.xt(t,d);try{const e=t.querySelectorAll(`[${y("data")}]`);for(const t of e)this.bt(t)||this.be(t,d)}catch{}if(this.ce.push({el:t,comp:d}),c&&n)try{d.Dt(c,n)}catch{}this.ge()}bt(t){return this.re.get(t)}observe(t){}ve(t){if(this.ue)return;const e=t,i=t=>{let i=t.target;for(;i&&i!==e.parentElement;){const e=this.ae.get(i);if(e){const n=e.get(t.type);if(n&&n.length)for(const e of[...n])try{if(!this.re.get(i))continue;if((!e.filter||e.filter(t))&&(e.run(t),e.once)){const t=n.indexOf(e);t>-1&&n.splice(t,1)}}catch{}}i=i.parentElement}},n=["click","input","change","keydown","keyup"];for(const t of n)e.on(t,i,1);this.ue=1}ee(t,e,i){let n=this.ae.get(t);n||(n=new Map,this.ae.set(t,n));let s=n.get(e);return s||(s=[],n.set(e,s)),s.push(i),()=>{try{const n=this.ae.get(t),s=n?.get(e);if(!s)return;const o=s.indexOf(i);o>-1&&s.splice(o,1)}catch{}}}}}();"0"!=typeof w&&(w.XTool=e);