var t;!(function(t){t[t.Identifier=0]="Identifier",t[t.Keyword=1]="Keyword",t[t.Punctuation=2]="Punctuation",t[t.String=3]="String",t[t.Comment=4]="Comment",t[t.Whitespace=5]="Whitespace",t[t.Number=6]="Number",t[t.Arrow=7]="Arrow",t[t.Conditional=8]="Conditional"})(t||(t={}));const e=new Set(["as","interface","type","import","export","from","extends","implements","declare","namespace","module","any","unknown","never","void","number","string","boolean","symbol","bigint","object","enum","function","const","let","var"]),n=["public","private","protected","static","abstract","readonly"],o=/\s/,i=/\d/;function s(t,e=null){try{return t()}catch(t){return e}}const r=Symbol("$_xtoolfynjsisReactive");function c(t){return t&&1==t[r]}function f(t){if(!(function(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)})(t))return 0;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function l(t,e){if(c(t))return t;const n=Array.isArray(t),o="undefined"!=typeof Set&&t instanceof Set,i="undefined"!=typeof Map&&t instanceof Map;if(!(n||o||i||f(t)))return t;if(e||(e={maxReactiveDepth:1/0}),e&&e.maxReactiveDepth&&e.maxReactiveDepth<=0)return t;if(t[r])return t;Object.defineProperty(t,r,{value:1,enumerable:0,configurable:0,writable:0}),Object.defineProperty(t,Symbol.for("ReactiveControl"),{value:e,enumerable:0,configurable:0,writable:1});const s=(t,n)=>{if(e&&e.baseChangeListener&&e.baseChangeListener(t,n),e&&e.changeListeners&&e.changeListeners.length>0){const o=()=>{for(const o of e.changeListeners)o(t,n)};if(e.signal?.aborted)return;!(function(t){let e;return function(...n){clearTimeout(e),e=window.setTimeout(()=>{e=void 0,t.apply(this,n)},10)}})(o)()}};return new Proxy(t,{set(t,n,o){const i=t[n];return"object"==typeof o&&null!==o&&(e&&e.maxReactiveDepth&&e.maxReactiveDepth>0&&(e.maxReactiveDepth-=1),o=l(o,e)),Reflect.set(t,n,o),i!==o&&s(i,o),1},get(t,f,u){const a=Reflect.get(t,f,u);return f===Symbol.for("ReactiveControl")?a:(e&&e.depTracker&&(Symbol.iterator===f||n||i||o&&["size","length","size","keys","entries","values"].includes(f+"")||"string"==typeof f||"number"==typeof f)&&e.depTracker(e.trackerId??f),f===Symbol.toPrimitive?e=>{if("number"===e)return NaN;if(c(t)){const e=t.value;if(void 0!==e)return e}else{const e=t.value;if(void 0!==e&&c(e))return e}return"string"===e?n?"[]":o?"Set {}":i?"Map {}":"[object Object]":null}:"object"==typeof a&&null!==a&&1==a[r]&&void 0!==a.value?a.value:"function"==typeof a?n&&["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"].includes(f)?function(...n){const o=t.slice(),i=Array.prototype[f].apply(t,n);return e&&s(o,t),i}:(o||i)&&["add","delete","clear","set"].includes(f)?function(...n){const i=o?new Set(t):new Map(t),r=(o?Set.prototype:Map.prototype)[f].apply(t,n);return e&&s(i,t),r}:a:"object"==typeof a&&null!==a?(e&&e.maxReactiveDepth&&e.maxReactiveDepth>0&&(e.maxReactiveDepth-=1),l(a,e)):a)},deleteProperty(t,e){const n=t[e],o=Reflect.deleteProperty(t,e);return o&&s(n,void 0),o}})}const u=Symbol("$_xtoolfynjsisComputed");function a(t=8){let e="";for(let n=0;n<t;n++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}function h(t){return!(!t||1!=t[u])}function p(t){if(c(t))return t[Symbol.for("ReactiveControl")]}function d(t,e){c(t)&&Object.defineProperty(t,Symbol.for("ReactiveControl"),{value:e,enumerable:0,configurable:0,writable:1})}function y(t){if(!c(t))return t;const e=Array.isArray(t),n="undefined"!=typeof Set&&t instanceof Set,o="undefined"!=typeof Map&&t instanceof Map;if(!(e||n||o||f(t)))return t;if(e)return t.map(t=>y(t));if(n){const e=new Set;return t.forEach(t=>{e.add(y(t))}),e}if(o){const e=new Map;return t.forEach((t,n)=>{e.set(n,y(t))}),e}const i={};for(const e in t)t.hasOwnProperty(e)&&(i[e]=y(t[e]));return i}function m(t,e){const n=document,o=new Set;let i=null;const r=new Map,c=t=>(t instanceof URL?t:new URL(t,location.href)).origin===location.origin,f=t=>{const e=t instanceof URL?t:new URL(t,location.href);return e.origin===location.origin&&e.pathname===location.pathname&&e.search===location.search},l=function(t){const e="string"==typeof t?new URL(t,n?.baseURI||location.href):t;return`${e.origin}${e.pathname}${e.search}`};async function u(o){const i=(new DOMParser).parseFromString(o,"text/html"),r=i.head,c=r?.querySelector("title"),f=()=>{if(c){const t=c.textContent||"";document.title!==t&&(document.title=t)}const o=t.container||"body",s=n.querySelector(o),r=i.querySelector(o);s&&r?p(s,r):n.body.innerHTML=r?r.innerHTML:i.body.innerHTML,e.t(s),e.e();const f=n?.querySelector(t.container);f&&(e.n(f),t.delegate&&e.o(f))},l=document.startViewTransition?.bind(document);if(l&&t.router?.transitionName){const e=t.container||"body",o=n.querySelector(e),i=o&&o.style.getPropertyValue("view-transition-name")||"";s(()=>{o&&o.style.setProperty("view-transition-name",t.router?.transitionName??"route")});try{const t=l(f);await t.finished}finally{try{o&&(i?o.style.setProperty("view-transition-name",i):o.style.removeProperty("view-transition-name"))}catch{}}}else f()}function a(t,e){const n=t.getAttributeNames(),o=e.getAttributeNames();if(n.length!==o.length)return 0;const i=new Map;for(let e=0;e<n.length;e++){const o=n[e];i.set(o,t.getAttribute(o))}for(let t=0;t<o.length;t++){const n=o[t];if(!i.has(n))return 0;if(i.get(n)!==e.getAttribute(n))return 0}return 1}function h(t){const e=t.tagName;return"IFRAME"===e&&t.hasAttribute("src")||"COMPONENT"===e&&t.hasAttribute("source")?1:0}function p(t,e){if(t.nodeName!==e.nodeName||h(e))return void t.replaceWith(e.cloneNode(1));if((function(t,e){const n=t.getAttributeNames();for(let o=0;o<n.length;o++){const i=n[o];e.hasAttribute(i)||t.removeAttribute(i)}const o=e.getAttributeNames();for(let n=0;n<o.length;n++){const i=o[n],s=e.getAttribute(i);t.getAttribute(i)!==s&&null!==s&&t.setAttribute(i,s)}})(t,e),!t.firstChild&&!e.firstChild)return;const n=Array.from(t.childNodes),o=Array.from(e.childNodes),i=o.length;for(let e=0;e<i;e++){const i=o[e],s=n[e];if(s)if(i.nodeType===s.nodeType)if(1===i.nodeType){const t=s,e=i;if(h(e))try{t.replaceWith(e.cloneNode(1))}catch{}else if(t.nodeName===e.nodeName&&a(t,e))p(t,e);else try{t.replaceWith(e.cloneNode(1))}catch{}}else try{s.replaceWith(i.cloneNode(1))}catch{}else try{s.replaceWith(i.cloneNode(1))}catch{}else t.appendChild(i.cloneNode(1))}if(n.length>i)for(let e=n.length-1;e>=i;e--){const n=t.childNodes[e];try{t.removeChild(n)}catch{}}}function d(t){try{if(!t||"#"===t)return 0;const e=decodeURIComponent(t.replace(/^#/,"")),o=n.getElementById(e)||n.querySelector(`[name="${CSS.escape(e)}"]`);if(o)return o.scrollIntoView({block:"start",behavior:"instant"}),1}catch{}return 0}async function y(e,n,o="program"){if(0==t.router?.enabled)return Promise.resolve();if(!c(e))return void location.assign(e);const a=new URL(e),h=l(a);if("popstate"!==o){if(f(a))return void(location.href=e)}else if(i&&h===i)return void d(a.hash);const p=location.href;try{if(0==await(t.router?.before?.(e,p,{source:o})))return}catch(n){try{t.router?.error?.(n,e,p)}catch{}return}const y=i||l(p);r.set(y,{x:window.scrollX||0,y:window.scrollY||0});try{const c=await(async function(t){const e=await fetch(t,{credentials:"same-origin",cache:"default",redirect:"follow"});if(e.redirected){const t=e.url;try{location.assign(t)}catch{s(()=>location.href=t)}const n=Error("XToolRedirect");throw n.name="XToolRedirect",n.url=t,n}if(!e.ok)throw Error(e.status+" "+e.statusText);return await e.text()})(e);n&&history.pushState({},"",e),await u(c),i=h,s(()=>{if("popstate"===o){const t=r.get(h);t?window.scrollTo(t.x,t.y):d(a.hash)||window.scrollTo(0,0)}else d(a.hash)||window.scrollTo(0,0)});try{await(t.router?.after?.(e,p,{source:o}))}catch{}}catch(n){if(n&&("XToolRedirect"===n.name||"XToolRedirect"===n.message))return;s(()=>t.router?.error?.(n,e,p));try{location.assign(e)}catch{s(()=>location.href=e)}}}return{navigate:y,install:function(e){if(e.addEventListener("click",t=>{const n=t;if(n.defaultPrevented||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey)return;let o=n.target;for(;o&&o!==e&&"A"!==o.tagName;)o=o.parentElement;if(!o||"A"!==o.tagName||o.hasAttribute("download"))return;const i=o,s=i.getAttribute("href");if(!s||s.startsWith("#"))return;const r=i.getAttribute("target");if(r&&"_blank"===r.toLowerCase())return;if(!c(s))return;const l=new URL(s,location.href);f(l)||(n.preventDefault(),y(l.toString(),1,"link").catch(()=>{location.assign(l.toString())}))}),t.router?.prefetchOnHover){const t=t=>{let i=t.target;for(;i&&i!==e&&"A"!==i.tagName;)i=i.parentElement;if(!i||"A"!==i.tagName||i.hasAttribute("download"))return;const s=i.getAttribute("href");s&&!s.startsWith("#")&&(t=>{try{if(!c(t))return}catch{return}const e=new URL(t,location.href);if(f(e))return;e.hash="";const i=e.toString();if(o.has(i))return;const s=n?.head?.querySelector(`link[rel="prefetch"][href="${CSS.escape(i)}"]`);if(s)o.add(i);else try{const t=n.createElement("link");t.setAttribute("rel","prefetch"),t.setAttribute("as","document"),t.setAttribute("href",i),n.head.appendChild(t),o.add(i)}catch{}})(s)};e.addEventListener("mouseover",t,{passive:1}),e.addEventListener("touchstart",t,{passive:1})}window.addEventListener("popstate",()=>{y(location.href,0,"popstate").catch(()=>{})}),i=l(location.href)}}}const w=Array.isArray,b=WeakMap,v=queueMicrotask,g=(function(){const r=s,f=t=>(t||"").trim(),g=Array.from,x=Object.keys;let M=null;const _="style",$="display",S="none",j="tagName",O="TEMPLATE",A="length",R="source",k="readonly",E=Symbol("rawTarget"),F=Symbol("ownerComponent"),T=new b,C=t=>t&&t[E]||t,D=t=>{const e=C(t),n=(T.get(e)??0)+1;return T.set(e,n),n},P=new b;let N=0;const L=(t,e=5,n)=>{if(!t||"object"!=typeof t||e<=0)return 0;const o=C(t);if(n||(n=new WeakSet),n.has(o))return 0;n.add(o);let i=(t=>{let e=P.get(t);return void 0===e&&(e=++N,P.set(t,e)),e})(o)+(T.get(o)??0);try{for(const t in o){const s=o[t];s&&"object"==typeof s&&(i+=L(s,e-1,n))}}catch{}return i};let B=1;const I="undefined"!=typeof document?document:null,U=["click","input","change","keydown","keyup"];try{if(I&&I.head&&!I.getElementById("x-tool-initial-css")){const t=I.createElement(_);t.id="x-tool-initial-css",t.textContent="[x-show],[x-if],[x-else],[x-else-if],[x\\:show],[x\\:if],[x\\:else],[x\\:else-if]{display:none;}",I.head.appendChild(t)}}catch{}let z="x",q=new Map;const K=t=>{const e=q.get(t);if(e)return e;const n=`${z}-${t}`;return q.set(t,n),n};class W{attachToParent(t){this.i=t,t.s(this)}get id(){return this.r}get framework(){return this.c}get element(){return this.f}set element(t){this.f=t}get isBound(){return this.l}set isBound(t){this.l=t}get isMounted(){return this.u}set isMounted(t){this.u=t}get isDestroyed(){return this.a}set isDestroyed(t){this.a=t}h(t){this.p=t,M=t}d(t,e){if(!c(e))return;const n=p(e);if(!n)return;const o=n.depTracker,i=n.baseChangeListener;n.trackerId=t,n.depTracker=e=>{if(this.m&&this.w.length){const e=this.w[this.w.length-1];let n=this.b.get(e);n||(n=new Set,this.b.set(e,n),this.v=null),n.add(t),this.v=null}o&&o(e)},n.baseChangeListener=(e,n)=>{i&&i(e,n),this.g(t)},d(e,n)}M(){for(const t of this._.values())for(const e of t.values())r(e);this._.clear()}$(){this.M()}S(t,e){const n=t;let o=e in n?e:null;if(!o){const t=e.replace(/-([a-z])/g,(t,e)=>e.toUpperCase());o=t in n?t:"readonly"===e.toLowerCase()&&"readOnly"in n?"readOnly":null}return{elAny:n,propName:o,isBooleanProp:!(!o||"boolean"!=typeof n[o]),hasNonFunctionProp:!(!o||"function"==typeof n[o]),isKnownBooleanAttr:!!W.j[e.toLowerCase()]}}O(t,e,n,o){const{elAny:i,propName:s,isBooleanProp:c,hasNonFunctionProp:f,isKnownBooleanAttr:l}=o;if(c&&s||l){const o=!!n;return s&&c&&(i[s]=o),void t.toggleAttribute(e,o)}let u=null;if(n&&"object"==typeof n){const t=[];for(const e in n)n[e]&&t.push(e);u=t.length?t.join(" "):null}else null!=n&&(u=n+"");if(f&&s)if(null!==u){if(i[s]===u)return;try{i[s]=u}catch{r(()=>t.setAttribute(e,u))}}else t.removeAttribute(e);else null!==u?t.getAttribute(e)!==u&&t.setAttribute(e,u):t.removeAttribute(e)}A(t,e){const n=z+"-",o=z+":",i=[];let s=0,r=null;const c=t.getAttributeNames();for(let t=0;t<c.length;t++){const f=c[t];(f.startsWith(n)||f.startsWith(o)||f.startsWith("@")||f.startsWith(":")&&f.length>1)&&(e?.skipRootFor&&f===K("for")||(i.push(f),s||f!==K("text")&&f!==K("html")||(s=1),r||f!==K("for")||(r=f)))}return{names:i,hasTextOrHtml:s,forName:r}}setFrozen(t){t!==this.R&&(this.R=t,t?(this.k=this.E,this.E=1,this.$()):(null!==this.k?this.E=this.k:this.E=0,this.k=null,this.F()))}T(t){t!==this.E&&(this.E=t,t&&this.$())}C(t,e){const n=this.D.get(t)||[];n.push(e),this.D.set(t,n)}constructor(t,e,n){this.name="ReactiveComponent",this.P=0,this.N=0,this.f=null,this.l=0,this.u=0,this.a=0,this.L=0,this.B=[],this.i=null,this.I={},this.U={},this.z=new Map,this.b=new Map,this.v=null,this.q=new Map,this.w=[],this.m=0,this.K=0,this.W=new Set,this.D=new Map,this.X=new Set,this.H=new AbortController,this._=new Map,this.V=new b,this.Z=0,this.G=0,this.J=null,this.Q=new Map,this.E=0,this.R=0,this.k=null,this.Y=1,this.tt=0,this.et=new Set,this.nt=new Set,this.ot=null,this.it=new Map,this.st=new Map,this.p=null,this.rt=new WeakSet,this.ct=0,this.ft=[],this.lt=null,this.ut=null,this.at=new b,this.ht={},this.pt=null,this.dt=null,this.yt=null,this.mt=t=>{const e=this.wt[t];if((!this.L||"beforeMount"!==t)&&("function"==typeof e&&(this.bt(()=>this.vt(e,[])),"beforeMount"===t&&(this.L=1)),"mounted"===t&&this.gt)){const t=this.gt;if(this.isDestroyed||!this.element||!this.element.isConnected)return;const e=()=>{const e=f(t),n=this.xt(e),o=this.Mt();if(n){const t=this._t(n.paramsList,n.body,n.isBlock),e=n.paramsList.length?[this.element]:[],i=t.call(this.$t(void 0,this.element||void 0),o,...e.slice(0,n.paramsList.length));return void("function"==typeof i&&this.St(i))}const i=this.jt(e,-1!==e.indexOf(";")).call(o,this.$t(void 0,this.element||void 0));"function"==typeof i&&this.St(i)};this.bt(()=>this.vt(e,[]))}},this.St=t=>{if("function"!=typeof t)return;const e=()=>{r(t),this.X.delete(e)};return this.X.add(e),()=>{this.X.delete(e)}},e.name&&(this.name=e.name),this.r=t,this.c=n,this.Ot=e.methods||{},this.I=this.At(e.computed||{},"computed"),this.U=e.propEffects||{},this.U&&Object.keys(this.U).length&&(this.U=this.At(this.U,"prop")),this.wt={mounted:e.mounted,unmounted:e.unmounted||e.destroyed,updated:e.updated,beforeMount:e.beforeMount,beforeUnmount:e.beforeUnmount||e.beforeDestroy,setup:e.setup},this.ht=this.Rt(e.data||{}),this.kt=this.Et(this.ht||{});try{const t=Object.keys(this.ht||{});for(let e=0;e<t.length;e++){const n=t[e],o=this.ht[n];c(o)&&this.d(n,o)}}catch{}this.Ft=this.At(this.Ot,"methods")}Rt(t,e){if(null===t||"object"!=typeof t)return t;if(c(t))return t;const n=e||new WeakMap;if(n.has(t))return n.get(t);if(w(t)){const e=[];n.set(t,e);for(let o=0;o<t.length;o++)e[o]=this.Rt(t[o],n);return e}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return RegExp(t.source,t.flags);if("undefined"!=typeof Map&&t instanceof Map){const e=new Map;return n.set(t,e),t.forEach((t,o)=>{e.set(this.Rt(o,n),this.Rt(t,n))}),e}if("undefined"!=typeof Set&&t instanceof Set){const e=new Set;return n.set(t,e),t.forEach(t=>e.add(this.Rt(t,n))),e}const o=Object.getPrototypeOf(t);if(o===Object.prototype||null===o){const e=Object.create(o);n.set(t,e);for(const o of Object.keys(t))e[o]=this.Rt(t[o],n);return e}return t}callBeforeMount(){this.L||(this.mt("beforeMount"),this.L=1)}Tt(){if(!this.isBound||this.E)return;const t=this;null!=t.lt&&(cancelAnimationFrame(t.lt),t.lt=null),t.z.clear();const e=t.et;for(const[,n]of t.st)for(const t of n)e.add(t);t.lt=requestAnimationFrame(()=>{if(t.lt=null,!t.isDestroyed&&!t.E){for(const n of e)t.bt(n);e.clear(),t.F(),t.mt("updated")}})}Ct(){const t=new Map;for(const[e,n]of this.b)for(const o of n){let n=t.get(o);n||(n=new Set,t.set(o,n)),n.add(e)}return t}Dt(){this.v=null}g(t){if(!this.isBound||0==this.Y)return;const e=this,n=e.st.get(t);if(n){const t=e.et,o=e.rt;for(const e of n)o.has(e)||t.add(e)}e.nt.add(t),e.tt?e.Pt():null==e.lt&&(e.lt=requestAnimationFrame(()=>{if(e.lt=null,e.isDestroyed||e.E)return;e.Pt();const t=e.et;if(t.size>0){for(const n of t)e.bt(n);t.clear(),e.mt("updated")}}))}Pt(){if(!this.b.size||!this.nt.size)return void this.nt.clear();this.v||(this.v=this.Ct());const t=this.v,e=new Set,n=this.et,o=Array.from(this.nt);this.nt.clear();let i=0;for(;i<o.length;){const n=o[i++],s=t.get(n);if(s)for(const t of s)e.has(t)||(e.add(t),o.push(t))}for(const t of e){const e=this.st.get(t);if(e)for(const t of e)n.add(t);const o=this.q.get(t);if(o&&"function"==typeof o.depTracker)try{o.depTracker(t)}catch{}this.z.delete(t)}}Nt(t){try{const e=t+"";if(!/\[native code\]/.test(e)){let n=e.trim();return/^function[\s\(]/.test(n)||/^[\w\$_][\w\d\$_]*\s*=>/.test(n)||/^\(.*?\)\s*=>/.test(n)||(n="function "+n),{wrapper:Function("thisArg","argsArray","ctx","with(ctx){ const f = ("+n+"); return f.apply(thisArg, argsArray); }"),original:t}}}catch{}return{wrapper:null,original:t}}At(t,e){const n={};for(const o in t||{}){const i=t[o];if("computed"===e)if(h(i)){const t=p(i);t&&this.q.set(o,t),n[o]=()=>i.value}else n[o]=()=>{const t=this.Mt();return i.call(t)};else if("methods"===e){const{wrapper:t,original:e}=this.Nt(i);n[o]=(...n)=>{const i=this.K,s=this.ot;this.K=1,this.ot=o;const r=this.Mt();try{if(!t)return this.bt(()=>e.apply(r,n));try{return this.bt(()=>t.call(r,r,n,this.$t(void 0,void 0)))}catch{return this.bt(()=>e.apply(r,n))}}finally{this.K=i,this.ot=s}}}else{const{wrapper:t,original:e}=this.Nt(i);n[o]=(n,i)=>{const s=this.ot,r=this.N;this.ot="prop:"+o,this.N=1;const c=this.Mt();try{if(!t)return this.bt(()=>e.call(c,n,i));try{return this.bt(()=>t.call(c,c,[n,i],this.$t(void 0,void 0)))}catch{return this.bt(()=>e.call(c,n,i))}}finally{this.N=r,this.ot=s}}}}return n}Lt(t){if(this.Bt(t),this.z.has(t))return this.z.get(t);this.m=1,this.w.push(t),this.b.set(t,new Set),this.v=null;try{const e=this.I[t],n="function"==typeof e?e():void 0;return this.w.pop(),this.m=this.w.length>0,this.z.set(t,n),n}catch(t){return this.w.pop(),void(this.m=this.w.length>0)}}Bt(t){const e=M||this.p;if(!e)return;e.It=1;let n=this.st.get(t);n||(n=new Set,this.st.set(t,n)),n.add(e);const o=this.w.length;if(this.m&&o){const e=this.w[o-1];let n=this.b.get(e);n||(n=new Set,this.b.set(e,n));const i=n.size;n.add(t),n.size!==i&&(this.v=null)}}F(){this.E||this.R||this.a||this.ct||(this.ct=1,requestAnimationFrame(()=>{if(this.ut=null,this.ct=0,this.a||this.E)this.ft?.length&&(this.ft.length=0);else if(this.Ut(),this.ft?.length){const t=this.ft.splice(0);for(const e of t)r(e)}}))}bt(t,e){try{return t()}catch(t){return e}}bindToElement(t){this.l||(this.f=t,this.L||this.callBeforeMount(),this.completeBinding())}getContext(t=1){return this.Mt(t)}zt(){this.f&&(r(()=>this.qt(this.f)),this.F())}completeBinding(){!this.l&&this.f&&(this.c.Kt(this.f)||this.c.Wt(this.f,this),this.l=1,this.u=1,this.qt(this.f),this.wt.setup&&this.bt(()=>this.vt(this.wt.setup,[])),this.Ut(),this.mt("mounted"))}s(t){this.B.includes(t)||this.B.push(t)}Xt(t){const e=this.B.indexOf(t);e>-1&&this.B.splice(e,1)}Ht(t){this.gt=t||void 0}vt(t,e,n){const o=this.Mt();if(n){if("function"!=typeof t)return;return t.apply(o,e)}try{const n=t+"";if(!/\[native code\]/.test(n)){let i=n.trim();/^function[\s\(]/.test(i)||/^[\w\$_][\w\d\$_]*\s*=>/.test(i)||/^\(.*?\)\s*=>/.test(i)||(i="function "+i);const s=Function("thisArg","argsArray","ctx","with(ctx){ const f = ("+i+"); return f.apply(thisArg, argsArray); }");try{return s.call(o,o,e,this.$t(void 0,void 0))}catch(n){return t.apply(o,e)}}}catch{}if("function"==typeof t)return t.apply(o,e)}destroy(){const t=this;if(!t.a){t.mt("beforeUnmount");for(const e of t.B)e.isDestroyed||e.destroy();t.i&&t.i.Xt(t);for(const[e,n]of t.D)for(const o of n)"custom"===o.type&&o.customDirective?.unbind&&r(()=>o.customDirective.unbind(e,t));if(t.D.clear(),r(()=>t.H.abort()),t.H=new AbortController,t.M(),t.Vt(),t.z.clear(),t.it.clear(),t.st.clear(),t.yt&&t.Zt)for(const e of t.yt.st.values())e.delete(t.Zt);t.f&&t.c.t(t.f),t.c.Gt(t),null!=t.lt&&(cancelAnimationFrame(t.lt),t.lt=null),null!=t.ut&&(cancelAnimationFrame(t.ut),t.ut=null),t.mt("unmounted"),t.a=1,t.u=0,t.l=0,t.B=[],t.i=null,t.Jt=new b,t.et.clear(),t.f=null,v(()=>t.c.Qt(t.r)),t.kt={},t.ht={},t.Ft={},t.I={},t.U={},t.p=null,t.Q.clear()}}Yt(t,e){let n=this.Q.get(t);n||(n=new Set,this.Q.set(t,n)),n.add(e)}te(t,e){const n=this.Q.get(t);n&&(n.delete(e),0===n.size&&this.Q.delete(t))}ee(t,e){const n={name:t,payload:e,ne:0,stopPropagation(){this.ne=1}};let o=this;for(;o;){const e=o.Q.get(t);if(e&&e.size)for(const t of Array.from(e)){try{t.call(o.Mt(1),n)}catch{}if(n.ne)return}o=o.i}}oe(t,e){if(!t||!e)return;this.yt=e;const n=this.f;let o;try{o=Function("ctx","with(ctx){return ("+t+")}")}catch{return}const i={},s={};let r=1;const c=()=>{let t;e.h(c);try{const i=e.$t(void 0,n);t=o.call(e.getContext(1),i)}catch{t=null}if(e.h(null),t&&"object"==typeof t){this.kt.$props=this.kt.$props||{};const e=this.c.ie,n=[];for(const o in t){const c=t[o],f=i[o];this.kt.$props[o]=c;let l=r||i[o]!==c;const u=null!==c&&"object"==typeof c;if(!l&&u&&(l=L(c)!==(s[o]??-1)),!l)continue;i[o]=c;const a=o in this.U?this.U[o]:void 0;a&&!this.E?n.push({eff:a,newVal:c,oldVal:f,key:o,isObjProp:u}):e?(this.P=1,this.kt[o]=c,this.P=0,u&&(s[o]=L(c))):(this.g("$props"),u&&(s[o]=L(c)))}if(n.length>0){this.tt=1;try{for(const{eff:t,newVal:e,oldVal:o,key:i,isObjProp:r}of n){const n=this.N;this.N=1,this.P=1;try{t(e,o)}finally{this.N=n,this.P=0}r&&(s[i]=L(e))}}finally{this.tt=0;const t=this.et;if(t.size>0){for(const e of t)this.bt(e);t.clear(),this.mt("updated")}}}r=0}};this.Zt=c,c()}Vt(){for(const t of this.X)r(t);this.X.clear()}se(t,e,n,o){const i=this.H.signal;if("boolean"==typeof o)t.addEventListener(e,n,{capture:o,signal:i});else if(o){const s=o.signal&&o.signal!==i?o:{...o,signal:i};t.addEventListener(e,n,s)}else t.addEventListener(e,n,{signal:i})}re(t){let e=this.V.get(t);return e||(e=(++this.Z).toString(36),this.V.set(t,e)),e}qt(t){const e=this,n=(t,n=0)=>{if(!n&&(t.hasAttribute(K("data"))||this.c.Kt(t)))return 0;const o="COMPONENT"===t[j];let i,s,r;const c=t.__x_saved_attrs;if(c&&c.length>0){for(const{name:e,value:n}of c)t.setAttribute(e,n);i=c.map(t=>t.name),s=i.some(t=>t===K("text")||t===K("html")),r=i.find(t=>t===K("for"))||null}else{const n=e.A(t);if(i=n.names,s=n.hasTextOrHtml,r=n.forName,i.length>0){const e=[];for(const n of i)e.push({name:n,value:t.getAttribute(n)||""});t.__x_saved_attrs=e}}if(i.length>0){if(r)return e.ce(t,r,t.getAttribute(r)||""),0;const n=[],o=[];for(const t of i)t.startsWith(z+"-transition")||t.startsWith(z+":transition")?n.push(t):o.push(t);for(const o of n)e.ce(t,o,t.getAttribute(o)||"");for(const n of o)e.ce(t,n,t.getAttribute(n)||"")}return s||e.fe(t),n||!o};n(t,1),e.le(t,n)}fe(t){const e=Array.from(t.childNodes);for(const n of e){if(n.nodeType!==Node.TEXT_NODE)continue;const e=n,o=e.nodeValue||"";if(e.__x_ti_bound||-1===o.indexOf("{{"))continue;const i=[];let s=0;for(;s<o.length;){if(92===o.charCodeAt(s)){let t=0;const e=s;for(;s<o.length&&92===o.charCodeAt(s);)t++,s++;if(o.startsWith("{{",s)){const n=o.indexOf("}}",s+2);if(-1===n){i.push({type:"lit",text:o.slice(e)});break}t>1&&i.push({type:"lit",text:"\\".repeat(t-1)}),i.push({type:"lit",text:o.slice(s,n+2)}),s=n+2;continue}i.push({type:"lit",text:o.slice(e,s)});continue}if(o.startsWith("{{",s)){const t=o.indexOf("}}",s+2);if(-1===t){i.push({type:"lit",text:o.slice(s)});break}const e=o.slice(s+2,t).trim();0===e.length?i.push({type:"lit",text:"{{}}"}):i.push({type:"expr",code:e}),s=t+2;continue}const t=o.indexOf("\\",s),e=o.indexOf("{{",s);let n=o.length;-1!==t&&t<n&&(n=t),-1!==e&&e<n&&(n=e),i.push({type:"lit",text:o.slice(s,n)}),s=n}if(!i.some(t=>"expr"===t.type)){e.__x_ti_bound=1;const t=i.map(t=>t.text||"").join("");e.textContent!==t&&(e.textContent=t);continue}const r=[];for(const e of i)"expr"===e.type&&r.push(this.ue(e.code,t));e.__x_ti_bound=1;const c=()=>{let t="",n=0;for(const e of i)if("lit"===e.type)t+=e.text;else{const e=r[n++]();t+=null==e?"":e+""}e.textContent!==t&&(e.textContent=t)},f={type:"text-interpolation",expression:o,update:void 0};this.C(t,f);const l=this.ae(c,f);f.update=l}}le(t,e){let n=t.firstElementChild;for(;n;){const t=n.nextElementSibling;e(n)&&this.le(n,e),n=t}}he(t,e){if(t[j]!==O)return t;const n=e.slice(z.length+1);if("for"===n||"if"===n||"else-if"===n||"else"===n)return t;const o=t,i=o.content,s=Array.from(i.children);let r;1===s.length?r=s[0].cloneNode(1):(r=I.createElement("div"),r.style.setProperty($,"contents","important"),r.appendChild(i.cloneNode(1)));for(const t of Array.from(o.attributes))t.name!==e&&r.setAttribute(t.name,t.value);return o.parentNode?.insertBefore(r,o),o.parentNode?.removeChild(o),this.framework.pe(r,this),this.framework.de(),this.qt(r),r}ce(t,e,n){const o=this;t=o.he(t,e);const i=e.startsWith("@"),s=e.startsWith(z+":");if(e.startsWith(":")){const i=e.slice(1);if(i)return t.removeAttribute(e),o.ye(t,i,n)}const r=i?"on:"+e.slice(1):e.slice(z.length+1);if(!i&&(s||"class"===r||r===_))return t.removeAttribute(e),o.ye(t,r,n);if(!i&&("transition"===r||r.startsWith("transition."))){let i;return r.startsWith("transition.")&&(i=r.slice(11).split(".").filter(Boolean).reduce((t,e)=>(t[e]=1,t),{})),t.removeAttribute(e),o.me(t,n,void 0,i)}if(!i&&("text"===r||"html"===r||"show"===r))return o.we(t,n,r,e);if(!i&&"ref"===r)return t.removeAttribute(e),o.be(t,n);if(!(i||"if"!==r?i||"model"!==r?"for"===r&&(t.removeAttribute(e),o.ve(t,n),1):(t.removeAttribute(e),o.ge(t,n),1):(t.removeAttribute(e),o.xe(t,n),1))&&(i||r.indexOf(":")>-1)){const[s,c]=r.split(":",2),[f,...l]=c.split("."),u=l.reduce((t,e)=>(e&&(t[e]=1),t),{});if(!i&&"COMPONENT"===t[j]&&"prop"===s)return;if("on"===s){t.removeAttribute(e);const i=o.framework.Me(f);return i?o._e(t,f,n,i,u):o.$e(t,f,n,u)}if("transition"===s){t.removeAttribute(e);const i={enter:"enter","enter-from":"enterFrom","enter-to":"enterTo",leave:"leave","leave-from":"leaveFrom","leave-to":"leaveTo","enter-start":"enterFrom","enter-end":"enterTo","leave-start":"leaveFrom","leave-end":"leaveTo"}[f]||"toggle";return o.me(t,n,i,u)}return"intersect"===s?(t.removeAttribute(e),o.Se(t,n,u,f)):(t.removeAttribute(e),o.ye(t,f,n))}}be(t,e){const n=f(e);if(!n)return;this.framework.je(this,n,t);const o={type:"ref",expression:e};this.C(t,o)}Oe(t){if(!t)return;let e=this.framework.Ae(this,t);if(!e&&this.i){let n=this.i;for(;n&&(e=n.framework.Ae(n,t),!e&&n.i);)n=n.i}if(e){if(e.size>1){const t=[];return e.forEach(e=>t.push(e)),t}return e.values().next().value}}Se(t,e,n,o){const i=f(e),s=this.Re(i,t,e=>[e,t]),c=t=>{s&&s(t)},l=!!n.once;let u="0px";for(const t in n)if(t.startsWith("rootMargin-")){u=t.slice(11);break}const a="enter"===o?{cb:(t,e)=>c({entry:t,...e}),once:l}:void 0,h="leave"===o?{cb:(t,e)=>c({entry:t,...e}),once:l}:void 0,p=this.framework.ke(t,u,a,h),d={type:"intersect",expression:e};this.C(t,d),this.St(()=>{r(p)})}ae(t,e){const n=()=>{this.p=n;try{t()}finally{this.p=null}};return n(),this.W.add(n),B&&e&&void 0===e.Ee&&(e.Ee=!n.It),n}me(t,e,n,o){let i=t.__x_transition||null;const s=f(e);if(s)try{const e=s.startsWith("{"),o=s.startsWith("'")&&s.endsWith("'")||s.startsWith('"')&&s.endsWith('"'),r=e||o?s:`\`${s}\``,c=this.ue(r,t),f=this.bt(()=>c());if(i||(i={}),f&&"object"==typeof f)for(const t in f)i[t]=f[t];else"string"==typeof f&&(n?i[n]=f:i.toggle=f)}catch{}if(o&&(o.after||o.end)){const e=s;if(e){const o=this.Re(e,t,e=>[e,t]),s=t=>{o&&this.bt(()=>o(t))};"enter"===n||"enterFrom"===n||"enterTo"===n?i.afterEnterRunner=s:"leave"===n||"leaveFrom"===n||"leaveTo"===n?i.afterLeaveRunner=s:i.afterRunner=s}}i||(i={}),t.__x_transition=i,this.C(t,{type:"transition",expression:e})}Fe(t,e,n,o){const i=t.__x_transition,s="important";if(!i)return e?n?t.style.setProperty("display",n,s):t.style.removeProperty("display"):t.style.setProperty("display",S,s),void(o&&o());const c=t.__x_t;c&&"function"==typeof c.cancel&&c.cancel();const f="number"==typeof i.duration?i.duration:150,l="string"==typeof i.easing?i.easing:"ease",u=e=>{e&&e.split(/\s+/).forEach(e=>e&&t.classList.add(e))},a=e=>{e&&e.split(/\s+/).forEach(e=>e&&t.classList.remove(e))},h=e=>{try{const n="undefined"!=typeof window&&window.getComputedStyle?window.getComputedStyle(t):null;if(!n)return e;const o=t=>t?t.split(",").map(t=>t.trim()).filter(Boolean).map(t=>{if(t.endsWith("ms"))return parseFloat(t);if(t.endsWith("s"))return 1e3*parseFloat(t);const e=parseFloat(t);return isNaN(e)?0:e}):[];let i=((t,e)=>{const n=Math.max(t.length,e.length);let o=0;for(let i=0;i<n;i++){const n=(t[i%t.length]||0)+(e[i%e.length]||0);n>o&&(o=n)}return o})(o(n.transitionDuration||""),o(n.transitionDelay||""));const s=o(n.animationDuration||""),r=o(n.animationDelay||""),c=(n.animationIterationCount||"").split(",").map(t=>t.trim()).map(t=>"infinite"===t?0:parseFloat(t)||1),f=Math.max(s.length,r.length,c.length);let l=0;for(let t=0;t<f;t++){const e=s[t%s.length]||0,n=r[t%r.length]||0,o=c[t%c.length]||1;if(0===o)continue;const i=n+e*o;i>l&&(l=i)}const u=Math.max(i,l);return u>0?u:e}catch{return e}},p=[],d=(e,n)=>{let o=0;const i=()=>{o||(o=1,n(),(()=>{for(;p.length;)r(()=>p.pop()())})())},s=()=>i();t.addEventListener("transitionend",s,{once:1,capture:1}),t.addEventListener("animationend",s,{once:1,capture:1});const c=setTimeout(i,e+50);var f;f=()=>{r(()=>{t.removeEventListener("transitionend",s,{capture:1}),t.removeEventListener("animationend",s,{capture:1})}),clearTimeout(c)},p.push(f)},y=(e,n)=>{const o={el:t,phase:e,config:{...i,duration:n??h(f),easing:l}};try{"enter"===e?"function"==typeof i.afterEnterRunner?i.afterEnterRunner(o):"function"==typeof i.afterRunner&&i.afterRunner(o):"function"==typeof i.afterLeaveRunner?i.afterLeaveRunner(o):"function"==typeof i.afterRunner&&i.afterRunner(o)}catch{}},m=e=>{const r="enter"===e,c=r?i.enter:i.leave,l=r?i.enterFrom:i.leaveFrom,p=r?i.enterTo:i.leaveTo;if(r&&(n?t.style.setProperty("display",n,s):t.style.removeProperty("display")),!c&&!l&&!p)return 0;u(c),u(l),t.offsetWidth,a(l),u(p);const m=h(f);return d(m,()=>{a(c),a(p),r||t.style.setProperty("display",S,s),o&&o(),y(e,m)}),t.__x_t={cancel:()=>{a(c),a(l),a(p),r||t.style.setProperty("display",S,s),o&&o()}},1},w=e=>{const i="enter"===e,r=t.style.transition,c=t.style.opacity;i?(n?t.style.setProperty("display",n,s):t.style.removeProperty("display"),t.style.setProperty("opacity","0",s)):t.style.setProperty("opacity","1",s),t.offsetWidth;const u=h(f);t.style.setProperty("transition",`opacity ${u}ms ${l}`,s),i?t.style.setProperty("opacity","1",s):t.style.setProperty("opacity","0",s),d(u,()=>{r?t.style.setProperty("transition",r,s):t.style.removeProperty("transition"),c?t.style.setProperty("opacity",c,s):t.style.removeProperty("opacity"),i||t.style.setProperty("display",S,s),o&&o(),y(e,u)}),t.__x_t={cancel:()=>{r?t.style.setProperty("transition",r,s):t.style.removeProperty("transition"),c?t.style.setProperty("opacity",c,s):t.style.removeProperty("opacity"),i||t.style.setProperty("display",S,s),o&&o()}}};if("string"!=typeof i.toggle)e?m("enter")||w("enter"):m("leave")||w("leave");else if(e){n?t.style.setProperty("display",n,s):t.style.removeProperty("display"),u(i.toggle);const e=h(f);d(e,()=>{o&&o(),y("enter",e)}),t.__x_t={cancel:()=>{o&&o()}}}else{a(i.toggle);const e=h(f);d(e,()=>{t.style.setProperty("display",S,s),o&&o(),y("leave",e)}),t.__x_t={cancel:()=>{t.style.setProperty("display",S,s),o&&o()}}}}we(t,e,n,o){if("class"===n||n===_)return this.ye(t,n,e);const i=this.ue(e,t);let s,r,c=1;if("show"===n){const e=t;s=e.style[$]!==S?e.style[$]:void 0}const f={type:n,expression:e,update:void 0,originalDisplay:s};this.C(t,f);const l=this.ae(()=>{const e=i(),f=t;switch(c&&o&&(t.removeAttribute(o),c=0),n){case"text":f.textContent=e+"";break;case"html":f.innerHTML=(e||"")+"";break;case"show":const t=!!e;if(r===t)return;r=t,this.Fe(f,t,s)}},f);f.update=l}ge(t,e){const n="checkbox"===t.type,o="number"===t.type||"range"===t.type,i="SELECT"===t.tagName&&1==t.multiple;e in this.kt||(this.kt[e]=void 0);const s=this.ue(e,t),r=this.jt(e+" = $value",1),c=n?(()=>{if(t.hasAttribute("value"))return t.value;const e=this.Te(t);if(e){const t=Object.keys(e);if(1===t.length)return e[t[0]]}return t.value})():void 0;this.ae(()=>(e=>{if(n)if(Array.isArray(e)){const n=t.hasAttribute("value")?t.value:c;t.checked=null!=n?e.includes(n):0}else t.checked=!!e;else{if(i){const n=t,o=Array.isArray(e)?e:[],i=n.options;for(let t=0;t<i.length;t++)i[t].selected=o.includes(i[t].value);return}t.value=(e??(o?0:""))+""}})(s()));const f=this.$t(void 0,t),l=t.type,u="SELECT"===t[j]||"checkbox"===l||"radio"===l||"file"===l?"change":"input";this.se(t,u,()=>{const e=(()=>{if(n){const e=s();return Array.isArray(e)&&void 0!==c?t.checked?c:void 0:t.hasAttribute("value")?t.checked?t.value:void 0:t.checked}if(i){const e=[],n=t.options;for(let t=0;t<n.length;t++)n[t].selected&&e.push(n[t].value);return e}return o?parseFloat(t.value)||0:t.value})(),l=this.bt(()=>s());if(n&&Array.isArray(l)){const e=t.hasAttribute("value")?t.value:c;if(void 0!==e){const n=l.indexOf(e);t.checked?-1===n&&l.push(e):n>-1&&l.splice(n,1)}}else i&&Array.isArray(l)?l.splice(0,l.length,...e):(f.$value=e,this.bt(()=>{r.call(this.Mt(),f)}))}),this.C(t,{type:"model",property:e})}xe(t,e){const n=this;let o=null;!t.parentNode&&(o=I.createDocumentFragment(),o.appendChild(t));const i=I.createComment("x-if");t.parentNode?.insertBefore(i,t),t.__x_if_placeholder=i,t.__x_if_anchorParent=i.parentElement||null;const s=[],c=t=>{if(t[j]===O){const e=t.content,n=Array.from(e.children);if(1===n.length){const t=n[0].cloneNode(1);return{branch:{el:t,isTemplate:1,originalDisplay:t.style[$]!==S?t.style[$]:void 0,isFragment:0}}}if(n.length>1)return{branch:{anchor:I.createComment("x-if-branch"),nodes:[],endMarker:I.createComment("/x-if-branch"),isTemplate:1,isFragment:1},templateChildren:n};const o=I.createElement("div");return o.style[$]=S,{branch:{el:o,isTemplate:1,originalDisplay:S,isFragment:0}}}const e=t.style[$]!==S?t.style[$]:void 0,n=t.__x_saved_attrs;if(n){const e=K("if"),o=K("else-if"),i=K("else");t.__x_saved_attrs=n.filter(t=>t.name!==e&&t.name!==o&&t.name!==i)}return{branch:{el:t,isTemplate:0,originalDisplay:e,isFragment:0}}},l=c(t),u=n.ue(e,t);l.branch.isFragment,s.push({...l.branch,test:u});const a=[l.templateChildren||null],h=[t];{let e=t.nextElementSibling;for(;e;){const o=e.hasAttribute(K("else")),i=e.hasAttribute(K("else-if"));if(!o&&!i)break;const r=c(e);let l=null;if(i){const o=e.getAttribute(K("else-if"))||"";l=n.ue(f(o),t)}r.branch.isFragment,s.push({...r.branch,test:l}),a.push(r.templateChildren||null),e.removeAttribute(K("else")),e.removeAttribute(K("else-if")),h.push(e),e=e.nextElementSibling}}let p=-1;for(const t of h)t.parentNode&&t.parentNode.removeChild(t);const d=e=>{if(e<0)return;const o=s[e],r=n.Te(i.parentElement);if(o.isFragment){const s=a[e];if(!s)return;if(o.nodes=s.map(t=>t.cloneNode(1)),r){o.anchor.__x_scope=r;for(const t of o.nodes)t.__x_scope=r}for(const t of o.nodes)t.__x_tool_bound||(n.qt(t),t.__x_tool_bound=1);const c=i.nextSibling;i.parentNode?.insertBefore(o.anchor,c);for(const t of o.nodes)i.parentNode?.insertBefore(t,c);i.parentNode?.insertBefore(o.endMarker,c);for(const t of o.nodes)n.framework.pe(t,n);t.__x_if_current=o.anchor}else if(r&&(o.el.__x_scope=r),o.el.__x_if_suspended){const e=t.__x_if_current;e&&e!==o.el&&e.parentNode&&e.parentNode.removeChild(e),o.el.parentNode||i.parentNode?.insertBefore(o.el,i.nextSibling),t.__x_if_current=o.el,o.el.__x_if_suspended=0,n.Ce(o.el),n.Fe(o.el,1,o.originalDisplay)}else{const e=K("data"),s=o.el.hasAttribute(e)&&!n.framework.Kt(o.el);s?n.framework.De(o.el,n):o.el.__x_tool_bound||(n.qt(o.el),o.el.__x_tool_bound=1);const r=t.__x_if_current;r&&r.parentNode&&r.parentNode.removeChild(r),o.el.parentNode||i.parentNode?.insertBefore(o.el,i.nextSibling),t.__x_if_current=o.el,s&&n.framework.de(),n.Fe(o.el,1,o.originalDisplay),n.framework.pe(o.el,n)}p=e},y=n.ae(()=>{let t=-1;for(let e=0;e<s[A];e++){const n=s[e];if(!n.test||n.test()){t=e;break}}t!==p&&(-1!==p?((t,e)=>{if(t<0)return void(e&&e());const o=s[t];if(p=-1,o.isFragment){for(const t of o.nodes){n.Pe(t);const e=t.querySelectorAll("component[source]");for(const t of e){const e=n.framework.Kt(t);e&&!e.isDestroyed&&r(()=>{n.framework.Gt(e),e.destroy()})}t.__x_tool_bound=0,t.parentNode&&t.parentNode.removeChild(t)}o.anchor.parentNode&&o.anchor.parentNode.removeChild(o.anchor),o.endMarker.parentNode&&o.endMarker.parentNode.removeChild(o.endMarker),o.nodes=[],e&&e()}else o.el.parentNode?(n.Ne(o.el),o.el.__x_if_suspended=1,n.Fe(o.el,0,o.originalDisplay,()=>{o.el.__x_if_suspended?(o.el.parentNode&&o.el.parentNode.removeChild(o.el),e&&e()):e&&e()})):e&&e()})(p,()=>d(t)):d(t))});n.C(t,{type:"if",expression:e,update:y})}$e(t,e,n,o){const i=this,s=f(n),r=o?{once:!!o.once,passive:!!o.passive,capture:!!o.capture}:void 0,c=!!o?.self,l=!!o?.prevent,u=!!o?.stop,a=!!o?.outside,h=!!o?.window,p=!!o?.defer,d={enter:["enter"],esc:["escape","esc"],escape:["escape","esc"],space:[" ","space","spacebar"],tab:["tab"],backspace:["backspace"],delete:["delete","del"],del:["delete","del"],arrowup:["arrowup","up"],arrowdown:["arrowdown","down"],arrowleft:["arrowleft","left"],arrowright:["arrowright","right"],home:["home"],end:["end"],pageup:["pageup"],pagedown:["pagedown"]},y={ctrl:!!o?.ctrl,alt:!!o?.alt,shift:!!o?.shift,meta:!!o?.meta},m={left:0,middle:1,right:2},w=!!o?.single,b=!!o?.multi,g=o?x(o):[],M=[];for(const t of g){const e=d[t.toLowerCase()];e&&M.push(...e)}const _=[];for(const t of g){const e=m[t.toLowerCase()];void 0!==e&&_.push(e)}const $=M.length>0||y.ctrl||y.alt||y.shift||y.meta,S=_.length>0,j=w||b,O=e=>{const n=e.composedPath?e.composedPath():null,o=n&&n.length?n[0]:e.target;if(a){if(!o)return 0;if(t instanceof Node&&(t===o||t.contains(o)))return 0}if(c&&e.target!==t)return 0;if(j){if(!(e instanceof TouchEvent))return 0;{const t=e.touches.length;if(w&&1!==t)return 0;if(b&&t<2)return 0}}if(S){if(!(e instanceof MouseEvent))return 0;if(!_.includes(e.button))return 0}if($){if(!(e instanceof KeyboardEvent))return 0;const t=(e.key||"").toLowerCase();if(M.length>0&&!M.includes(t))return 0;const{ctrlKey:n,altKey:o,shiftKey:i,metaKey:s}=e;if(y.ctrl&&!n||y.alt&&!o||y.shift&&!i||y.meta&&!s)return 0}return 1},A=i.Re(s,t,e=>[e,t]),R=e=>{if((!((a||h)&&t instanceof Element)||t.isConnected)&&O(e)&&(l&&e.preventDefault(),u&&e.stopPropagation(),A)){if(p&&"function"==typeof v){const t=e;return void v(()=>i.bt(()=>A(t)))}i.bt(()=>A(e))}},k=!!this.framework.Le().delegate&&U.includes(e);if(a||h||!k){const n=h?"undefined"!=typeof window?window:t:a?t.isConnected?t?.ownerDocument:document||I||document:t;if((a||h)&&t instanceof Element){const o=new AbortController,s=r?{...r,signal:o.signal}:{signal:o.signal};n.addEventListener(e,R,s);const c=()=>{o.abort()};i.framework.registerRefCleanup(t,c),i.St(c)}else i.se(n,e,R,r)}else{const n=this.framework.Be(t,e,{filter:t=>O(t),run:t=>R(t),once:!!o?.once,comp:this});this.St(n)}}jt(t,e=0){const n=`${e?"s":"r"}:${t}`;let o=this.it.get(n);if(!o){try{o=Function("ctx",`with(ctx){${e?t:`return (${t})`}}`)}catch{t=JSON.stringify(t),o=Function("ctx",`with(ctx){${e?t:`return (${t})`}}`)}if(this.it.set(n,o),this.it.size>W.Ie){const t=this.it.keys().next().value;t&&this.it.delete(t)}}return o}ue(t,e){const n=this,o=n.jt(t);return()=>{const t=n.$t(void 0,e);try{let e=o.call(n.Mt(),t);return e&&"object"==typeof e&&c(e)&&(e=e.value),e}catch(t){return}}}xt(t){let e=t.match(/^\s*\(\s*([^)]*?)\s*\)\s*=>\s*([\s\S]+)$/);if(e||(e=t.match(/^\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=>\s*([\s\S]+)$/)),!e)return null;const n=(e[1]||"").split(",").map(t=>t.trim()).filter(Boolean),o=f(e[2]),i=o.startsWith("{")&&o.endsWith("}");return{paramsList:n,body:i?o.slice(1,-1):o,isBlock:i}}_t(t,e,n){return Function("ctx",...t,"with(ctx){ "+(n?e:"return ( "+e+" );")+" }")}Re(t,e,n){const o=this,i=f(t);if(!i)return null;const s=o.xt(i),c=o.Mt();if(s){const{paramsList:t,body:i,isBlock:r}=s,f=o._t(t,i,r);return i=>{const s=o.$t(i,e),r=n(i);o.bt(()=>f.call(c,s,...r.slice(0,t.length)))}}const l=i.includes(";"),u=o.jt(i,l);return t=>{const n=o.$t(t,e),i=u.call(c,n);"function"==typeof i&&r(()=>i.call(c,t))}}Ue(t,e){if(this.m)throw Error(`[x-tool] Mutation via '${t+""}.${e}()' is not allowed during computed evaluation.`);if(this.R)throw Error(`[x-tool] Mutation via '${t+""}.${e}()' is not allowed while component is frozen.`)}ze(t,e){const n=C(t);if(t!==n)return t;const o=w(n),i="undefined"!=typeof Set&&n instanceof Set,s="undefined"!=typeof Map&&n instanceof Map;if(!(Object.getPrototypeOf(n)===Object.prototype||o||i||s))return n;const c=this;if(this.Jt||(this.Jt=new b),this.Jt.has(n))return this.Jt.get(n);const f=(t,o,i)=>function(...s){if(c.Ue(e,t),i){const t=this,i=t.length,r=t[0],f=t[i-1],l=o.apply(this,s);return c.E||t.length===i&&t[0]===r&&t[t.length-1]===f||(D(n),c.g(e)),l}{const i=this.size,r="set"===t?this.has(s[0]):0,f=o.apply(this,s);return c.E||this.size===i&&("set"!==t||r)||(D(n),c.g(e)),f}},l=new Proxy(n,{get:(t,n,r)=>{if(n===E)return t;if(n===F)return c;const l=i||s;if(o){if((n===Symbol.iterator||"length"===n||"string"==typeof n&&/^\d+$/.test(n))&&(c.Bt(e),n===Symbol.iterator))return Reflect.get(t,n,r)}else l&&"size"!==n&&n!==Symbol.iterator&&"keys"!==n&&"values"!==n&&"entries"!==n||c.Bt(e);const u=Reflect.get(t,n,r);if(l&&"function"==typeof u&&(n===Symbol.iterator||"keys"===n||"values"===n||"entries"===n))return function(...e){return u.apply(t,e)};if("function"==typeof u){if(o&&["push","pop","shift","unshift","splice","reverse","copyWithin","fill","sort"].includes(n))return f(n+"",u,1).bind(t);if(i&&("add"===n||"delete"===n||"clear"===n))return f(n+"",u,0).bind(t);if(s&&("set"===n||"delete"===n||"clear"===n))return f(n+"",u,0).bind(t)}return u&&"object"==typeof u?c.ze(u,e):u},ownKeys:Reflect.ownKeys,has:Reflect.has,set:(t,o,i)=>{if(c.a||"symbol"==typeof o)return 1;const s=e+"."+o;if(c.m)throw Error(`[x-tool] Mutation of '${s}' is not allowed during computed evaluation.`);if(c.R)throw Error(`[x-tool] Mutation of '${s}' is not allowed while component is frozen.`);const f=Reflect.has(t,o),l=f?Reflect.get(t,o):void 0;return i&&"object"==typeof i&&(i=c.ze(i,e)),f?(l===i||(Reflect.set(t,o,i),c.E||(D(n),c.g(e))),1):(r(()=>Reflect.defineProperty(t,o,{configurable:1,enumerable:1,writable:1,value:i})),Reflect.has(t,o)||Reflect.set(t,o,i),D(n),c.g(e),1)},deleteProperty:(t,o)=>{const i=e+"."+o;if(c.m)throw Error(`[x-tool] Deletion of '${i}' is not allowed during computed evaluation.`);if(c.R)throw Error(`[x-tool] Deletion of '${i}' is not allowed while component is frozen.`);const s=Reflect.deleteProperty(t,o);return s&&!c.E&&(D(n),c.g(e)),s}});return this.Jt.set(n,l),l}Et(t){const e=this;return new Proxy(t,{get:(t,n,o)=>{const i=Reflect.get(t,n,o);return n===Symbol.iterator?i:("symbol"!=typeof n&&e.Bt(n),i&&"object"==typeof i?i[F]?i:e.ze(i,n):i)},ownKeys:t=>Reflect.ownKeys(t),has:(t,e)=>Reflect.has(t,e),set:(t,n,o,i)=>{if(e.a)return 1;if(e.R)return 1;if(e.m)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed during computed evaluation.`);if(n===Symbol.iterator&&w(t))return o;const s=Reflect.get(t,n);if(s===o&&!e.P)return 1;if(Reflect.has(t,n))Reflect.set(t,n,o,i);else try{Reflect.defineProperty(t,n,{configurable:1,enumerable:1,writable:1,value:o})}catch{Reflect.set(t,n,o,i)}try{"symbol"!=typeof n&&c(o)&&e.d(n+"",o)}catch{}if(o&&"object"==typeof o&&D(o),this.E||this.g(n),this.P&&"$props"!==n&&!this.N){const e=t.$props;e&&(e[n]=o);const i=this.U[n];if(i&&!this.E){this.N=1;try{i(o,s)}finally{this.N=0}}}return 1}})}qe(){if(this.dt)return this.dt;const t=this,e=Object.create(null);return Object.defineProperties(e,{$el:{get:()=>t.f,enumerable:1},$id:{get:()=>t.r,enumerable:1},$isMounted:{get:()=>t.u,enumerable:1},$isDestroyed:{get:()=>t.a,enumerable:1},$isSealed:{get:()=>t.E,enumerable:1},$isFrozen:{get:()=>t.R,enumerable:1},$parent:{get:()=>t.i,enumerable:1},$children:{get:()=>t.B,enumerable:1}}),e.$destroy=()=>t.destroy(),e.$forceUpdate=()=>t.F(),e.$addCleanupFunction=e=>t.St(e),e.Signals={emit:(e,n)=>{t.ee(e+"",n)},connect:(e,n)=>{t.Yt(e+"",n)},disconnect:(e,n)=>{t.te(e+"",n)}},e.$nextTick=e=>e?(t.ft.push(e),void(t.ct||v(()=>{if(!t.ct&&t.ft.length){const e=t.ft.splice(0,t.ft.length);for(const n of e)t.bt(()=>n())}}))):new Promise(e=>{t.ft.push(()=>e()),t.ct||v(()=>{if(!t.ct&&t.ft.length){const e=t.ft.splice(0,t.ft.length);for(const n of e)t.bt(()=>n())}})}),e.$refs=new Proxy({},{get:(e,n)=>n?t.Oe(n):null}),e.$ref=(e,n)=>{if(void 0===n)return t.Oe(e);t.c.je(t,e,n)},e.$seal=(e=1)=>{t.T(!!e)},e.$mutate=e=>{const n=t.K;if(t.Y=0,t.m)throw Error("[x-tool] $mutate cannot be used inside computed evaluation; computed getters must be pure.");t.K=0;try{return"function"==typeof e?e():void 0}finally{t.K=n,t.Y=1,t.Tt()}},this.dt=e,e}Mt(t=1){const e=this;if(e.pt)return e.pt;const n=e.qe(),o=e.kt;return e.pt=new Proxy(o,{has:(t,i)=>i in o||i in e.I||i in n||i in e.Ft?1:0,get:(t,o)=>o in t?(e.Bt(o),t[o]):o in e.I?e.Lt(o):o in n?n[o]:e.Ft[o],set:(t,n,o)=>{if(e.m)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed during computed evaluation.`);if(e.R)throw Error(`[x-tool] Mutation of '${n+""}' is not allowed while component is frozen.`);return e.kt[n]=o,1}}),e.pt}Ke(){if(this.J)return this.J;const t=this,e="undefined"!=typeof window?window:void 0,n="undefined"!=typeof document?document:void 0,o=this.framework.Le(),i=!!o.sandboxExpressions,s=new Set((o.allowGlobals||[]).map(t=>t+"")),c=(e,n)=>{const o=t.ot||"__anonymous__";let i=t._.get(o);i||(i=new Map,t._.set(o,i));const s=i.get(e);s&&(r(s),i.delete(e));const c=n();if("function"==typeof c){const n=()=>{try{c()}finally{i?.delete(e)}};i.set(e,n),t.St(n)}},f=e=>e&&"function"==typeof e.addEventListener?new Proxy(e,{get:(e,n)=>{if("addEventListener"===n)return(n,o,i)=>{if(t.E||t.R)return;e.addEventListener(n,o,i);const s="boolean"==typeof i?i:i?.capture?"1":"0",f="listener:"+t.re(e)+":"+n+":"+s;c(f,()=>()=>{r(()=>e.removeEventListener(n,o,i))})};if("removeEventListener"===n)return(t,n,o)=>{r(()=>e.removeEventListener(t,n,o))};if("querySelector"===n)return t=>f(e.querySelector(t));if("querySelectorAll"===n)return t=>Array.from(e.querySelectorAll(t)).map(f);if("getElementById"===n)return t=>f(e.getElementById(t));if("document"===n){const t=e.document;return f(t)||t}if("defaultView"===n){const t=e.defaultView;return f(t)||t}if("body"===n){const t=e.body;return f(t)||t}const o=e[n];return"function"==typeof o?r(()=>o.bind(e),o):o}}):e,l=(n,o,...i)=>{if(t.E||t.R||t.a)return;const s=e?.setTimeout?.(n,o,...i);return null!=s&&c("timeout",()=>()=>{e?.clearTimeout?.(s)}),s},u=(n,o,...i)=>{if(t.E||t.R)return;const s=e?.setInterval?.(n,o,...i);return null!=s&&c("interval",()=>()=>{e?.clearInterval?.(s)}),s},a=n=>{if(t.E||t.R)return;const o=e?.requestAnimationFrame?.(n);return null!=o&&c("raf",()=>()=>{e?.cancelAnimationFrame?.(o)}),o},h=(n,o)=>{if(t.E||t.R||t.a)return;const i=e?.fetch||("undefined"!=typeof fetch?fetch:void 0);if(!i)return;const s=new AbortController,r=s.signal,f={...o};o?.signal&&o.signal.addEventListener("abort",()=>s.abort()),f.signal=r;const l="fetch:"+ ++t.G;return c(l,()=>()=>{r.aborted||s.abort()}),i(n,f)},p=e=>{if(e)return function(){if(t.E||t.R||t.a)return{open(){},send(){},abort(){},setRequestHeader(){},addEventListener(){},removeEventListener(){},readyState:0,status:0,responseText:"",response:null};const n=new e,o="xhr:"+ ++t.G;let i=0;return c(o,()=>()=>{i||(i=1,r(()=>n.abort()))}),new Proxy(n,{get(t,e){const n=t[e];return"function"==typeof n?n.bind(t):n},set:(t,e,n)=>(t[e]=n,1)})}},d=(e,n)=>{if(e)return function(...o){if(t.E||t.R)return{observe(){},disconnect(){},unobserve(){}};const i=new e(...o);return c("observer:"+n,()=>()=>{r(()=>i.disconnect())}),i}},y={Signals:{emit:(e,n)=>{t.ee(e+"",n)},connect:(e,n)=>{t.Yt(e+"",n)},disconnect:(e,n)=>{t.te(e+"",n)}},$refs:new Proxy({},{get:(e,n)=>n?t.Oe(n):null}),$ref:(e,n)=>void 0===n?t.Oe(e):t.c.je(t,e,n),...this.framework.We()?{location:new Proxy(e?.location||location,{get:(t,e)=>t[e],set:(e,n,o)=>{if("href"==n+""){try{t.framework.Xe(o+"",1,"program")}catch{location.href=o+""}return 1}return r(()=>location[n]=o),1}})}:{},...i&&!s.has("setTimeout")?{}:{setTimeout:l},...i&&!s.has("clearTimeout")?{}:{clearTimeout:t=>{r(()=>e?.clearTimeout?.(t))}},...i&&!s.has("setInterval")?{}:{setInterval:u},...i&&!s.has("clearInterval")?{}:{clearInterval:t=>{r(()=>e?.clearInterval?.(t))}},...i&&!s.has("requestAnimationFrame")?{}:{requestAnimationFrame:a},...i&&!s.has("cancelAnimationFrame")?{}:{cancelAnimationFrame:t=>{r(()=>e?.cancelAnimationFrame?.(t))}},...i&&!s.has("MutationObserver")?{}:{MutationObserver:d(e?.MutationObserver,"mutation")},...i&&!s.has("ResizeObserver")?{}:{ResizeObserver:d(e?.ResizeObserver,"resize")},...i&&!s.has("IntersectionObserver")?{}:{IntersectionObserver:d(e?.IntersectionObserver,"intersection")},...i&&!s.has("fetch")?{}:{fetch:h},...i&&!s.has("XMLHttpRequest")?{}:{XMLHttpRequest:p(e?.XMLHttpRequest)},...i&&!s.has("window")?{}:{window:f(e)},...i&&!s.has("document")?{}:{document:f(n)}};return this.J={gWindow:e,gDocument:n,sandbox:i,allow:s,wrapTarget:f,registerResource:c,ctxSetTimeout:l,ctxSetInterval:u,ctxRequestAnimationFrame:a,ctxFetch:h,wrapXHRCtor:p,wrapObserverCtor:d,staticSpecials:y},this.J}$t(t,e,n){const o=this,i=this.Ke(),s=e?this.Te(e):null,r=(t,e,n,o)=>{if(o){const o=t.style;null==n||0==n?o.removeProperty(e):o.setProperty(e,n+"")}else null==n||0==n?t.removeAttribute(e):1==n?t.setAttribute(e,""):t.setAttribute(e,n+"")},c=(t,e,n,o)=>{const i=e.match(/^(.*)?\[([^\]]+)\](.*)$/);if(i){const[,e="",s,c=""]=i,f=s.split(",").map(t=>t.trim()).filter(Boolean),l=n&&"object"==typeof n&&!Array.isArray(n);for(const i of f){const s=e+i+c,f=l&&i in n?n[i]:n;r(t,s,f,o)}}else r(t,e,n,o)},f={$target:e||null,$event:t||null,$attr:(t,n)=>{if(e)if("object"==typeof t&&null!==t)for(const n in t)({}).hasOwnProperty.call(t,n)&&c(e,n,t[n]);else"string"==typeof t&&c(e,t,n)},$css:(t,n)=>{if(e)if("object"==typeof t&&null!==t)for(const n in t)({}).hasOwnProperty.call(t,n)&&c(e,n,t[n],1);else"string"==typeof t&&c(e,t,n,1)}},l=i.staticSpecials;return new Proxy({},{get:(t,e)=>{if(s&&e in s){const t=s[e];if(t&&"object"==typeof t){const n=t[F];return n&&"function"==typeof n.ze?n.ze(t,e):o.ze(t,e)}return t}return e in o.kt?o.kt[e]:e in o.I?o.Lt(e):e in o.Ft?o.Ft[e]:e in f?f[e]:e in l?l[e]:void 0},set:(t,e,n)=>{if(s){let t=s;for(;t;){if({}.hasOwnProperty.call(t,e))return t[e]=n,1;t=Object.getPrototypeOf(t)}}return o.kt[e]=n,1},has:(t,e)=>!(!s||!(e in s))||e in o.kt||e in o.I||e in o.Ft||e in f||e in l})}_e(t,e,n,o,i){const s=this,r=s.ue(n,t),c={type:"custom",expression:n,customDirective:o};o.bind&&s.bt(()=>o.bind(t,r(),n,s,i,r));const f=s.ae(()=>{o.update&&s.bt(()=>o.update(t,r(),n,s,i,r))});c.update=f,s.C(t,c)}ye(t,e,n){const o=this,i=o.ue(n,t),s="http://www.w3.org/2000/svg"===t.namespaceURI;if("class"===e){const e=t;if(!o.at.get(e)){const n=new Set,i=s?t.getAttribute("class")||"":t.className||"";if(i)for(const t of i.split(/\s+/))t&&n.add(t);o.at.set(e,n)}}let r;e===_&&(r=t.getAttribute("style")||void 0);const c=o.S(t,e),f=o.ae(()=>{const n=i();if("class"===e){const e=o.at.get(t);if("string"==typeof n){const o=e&&e.size?[...e].join(" ")+(n?" "+n:""):n||"";s?o?t.setAttribute("class",o):t.removeAttribute("class"):t.className=o}else if(w(n)){const o=n.filter(Boolean),i=(e&&e.size?[...e,...o]:o).join(" ");s?i?t.setAttribute("class",i):t.removeAttribute("class"):t.className=i}else if(n&&"object"==typeof n){const o=new Map;for(const t in n){if(!t)continue;const e=!!n[t];for(const n of t.split(/\s+/))n&&(!e&&o.has(n)||o.set(n,e))}const i=e?[...e]:[];for(const[t,n]of o)!n||e&&e.has(t)||i.push(t);const r=i.join(" ");s?r?t.setAttribute("class",r):t.removeAttribute("class"):t.className=r}else if(null==n&&e&&e.size){const n=[...e].join(" ");s?n?t.setAttribute("class",n):t.removeAttribute("class"):t.className=n}else null==n&&t.removeAttribute("class");return}if(e===_){const e=t;if("string"==typeof n){const t=n.trim();return void(t&&(e.style.cssText+=";"+t))}if(n&&"object"==typeof n){e.style.cssText=r||"";for(const t in n){const o=n[t],i=t.startsWith("--")?t:t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase());null!=o?e.style.setProperty(i,o+""):e.style.removeProperty(i)}return}return void(r?e.style.cssText=r:e.removeAttribute("style"))}o.O(t,e,n,c)});o.C(t,{type:"bind",expression:n,update:f})}Te(t){if(!t)return null;const e=t.__x_scope;if(e)return e;if(!t.parentElement){const e=t.__x_if_current;if(e&&e.parentElement)t=e;else{const e=t.__x_if_anchorParent;e&&(t=e)}}let n=t;for(;n;){const t=n.__x_scope;if(t)return t;let e=n.previousSibling;for(;e;){if(8===e.nodeType){const t=e.__x_scope;if(t)return t}e=e.previousSibling}n=n.parentElement}return null}He(t,e){const n=RegExp("(^|[^$\\w])"+e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"([^$\\w]|$)");for(const[e,o]of this.D)if(t===e||e instanceof Element&&t.contains(e))for(const t of o){if(!t.update)continue;const e=t.expression||"";n.test(e)&&t.update()}}Pe(t){const e=this.D.get(t);if(e){for(const n of e)"custom"===n.type&&n.customDirective?.unbind&&r(()=>n.customDirective.unbind(t,this));this.D.delete(t)}let n=t.firstElementChild;for(;n;)this.Pe(n),n=n.nextElementSibling}Ne(t){const e=this.D.get(t);if(e)for(const t of e)"if"!==t.type&&"for"!==t.type&&t.update&&this.rt.add(t.update);let n=t.firstElementChild;for(;n;)this.Ne(n),n=n.nextElementSibling}Ce(t){const e=[];this.Ve(t,e);for(const t of e)this.bt(t)}Ve(t,e){const n=this.D.get(t);if(n)for(const t of n)t.update&&this.rt.has(t.update)&&(this.rt.delete(t.update),e.push(t.update));let o=t.firstElementChild;for(;o;)this.Ve(o,e),o=o.nextElementSibling}ve(t,e){const n=this,o=e.trim().match(/^(?:\(\s*([^,\s]+)\s*(?:,\s*([^\)]+))?\s*\)|([^,\s]+))\s+(in|of)\s+(.+)$/);if(!o)return;const i=o[1]||o[3],s=o[2],c=o[5],f=K("key"),l=t.getAttribute(f)||null;l&&t.removeAttribute(f);const u=I.createComment("x-for");t.parentNode?.insertBefore(u,t);const a=t=>t&&"object"==typeof t&&"anchor"in t&&"nodes"in t;let h=[],p=0,d=null;if(t[j]===O){const e=t.content;h=Array.from(e.children),1===h.length?d=h[0].cloneNode(1):h.length>1?p=1:(d=I.createElement("div"),d.style[$]=S),t.parentNode?.removeChild(t)}else d=t,h=[t],t.parentNode?.removeChild(t);const y=u.parentElement||n.element,m=n.ue(c.trim(),y),b=l?n.jt(l):null,v=K("for"),x=K("key"),M=K("text"),_=K("html"),A=K("data"),R=t=>{const e=[],o=K("if"),i=K("else"),s=K("else-if"),r=(t,c,f)=>{if(!f&&t.hasAttribute(A))return;const l="COMPONENT"===t[j],u=n.A(t,{skipRootFor:f}),a=u.names.filter(t=>t!==x&&(!f||t!==v)),h=u.names.includes(M)||u.names.includes(_),p=u.forName,d=a.includes(o)||a.includes(i)||a.includes(s);if(a.length){if(p)return void e.push({path:c,directiveNames:[p],hasTextOrHtml:h,forName:p});if(d){const t=a.filter(t=>t===o||t===i||t===s);return void e.push({path:c,directiveNames:t,hasTextOrHtml:h})}e.push({path:c,directiveNames:a,hasTextOrHtml:h})}else h||e.push({path:c,directiveNames:[],hasTextOrHtml:h});if(l)return;let y=0,m=t.firstElementChild;for(;m;){const t=m.nextElementSibling;r(m,c.concat(y),0),y++,m=t}};return r(t,[],1),e},k=(t,e)=>{for(let o=e.length-1;o>=0;o--){const i=e[o],s=this.Ze(t,i.path);if(i.forName){const t=s.getAttribute(i.forName)||"";n.ce(s,i.forName,t);continue}for(let t=0;t<i.directiveNames.length;t++){const e=i.directiveNames[t],o=s.getAttribute(e)||"";e!==x&&n.ce(s,e,o)}i.hasTextOrHtml||n.fe(s)}},E=d?R(d):null,F=p?h.map(t=>R(t)):null,T=(t,e)=>{for(let n=0;n<t.length;n++)k(t[n],e[n])},C=n.Te(y),D=[],P=(t,e,n)=>{const o=C?Object.create(C):{},r=n?Object.assign(o,n):o;return r[i]=t,s&&(r[s]=e),r},N=t=>a(t)?t.nodes[0]:t,B=t=>a(t)?t.anchor:t.__x_if_placeholder||t,U=t=>{if(a(t)){t.anchor.parentNode&&t.anchor.parentNode.removeChild(t.anchor);for(const e of t.nodes)n.Pe(e),e.parentNode&&e.parentNode.removeChild(e);t.endMarker.parentNode&&t.endMarker.parentNode.removeChild(t.endMarker)}else{const e=t.__x_if_placeholder;e&&e.parentNode&&e.parentNode.removeChild(e);const o=t.__x_if_current;o&&o!==t&&o.parentNode&&o.parentNode.removeChild(o),n.Pe(t),t.parentNode&&t.parentNode.removeChild(t)}},z=(t,e,n)=>{if(a(t)){n.insertBefore(t.anchor,e);for(const o of t.nodes)n.insertBefore(o,e);n.insertBefore(t.endMarker,e)}else{const o=t.__x_if_placeholder;o?(n.insertBefore(o,e),t.__x_if_anchorParent=o.parentElement||null,t.parentNode===o.parentNode&&n.insertBefore(t,e)):n.insertBefore(t,e)}},q=new WeakMap;let W=0;const X=t=>{if(t&&"object"==typeof t){const e=(t=>{if(!t||"object"!=typeof t)return null;const e=t.id??t.r;if(null==e)return null;const n=typeof e;return"string"===n||"number"===n?"id:"+e:null})(t);if(e)return e;let n=q.get(t);return n||(n="o#"+ ++W,q.set(t,n)),n}return"p#"+typeof t+":"+t},H=(t,e)=>{if(!b)return null;try{const o=n.$t(void 0,y),r=Object.create(o);r[i]=t,s&&(r[s]=e);const c=b.call(n.Mt(),r),f=typeof c;return"string"===f||"number"===f?c:null!=c?c+"":null}catch{return null}},V={type:"for",expression:e},Z=n.ae(()=>{const t=n.bt(()=>{const t=m();if(w(t))return{list:t,keys:null,src:t};if("number"==typeof t&&Number.isFinite(t)&&t>=0){const e=Math.floor(t),n=Array(e);for(let t=0;t<e;t++)n[t]=t+1;return{list:n,keys:null,src:t}}const e=t&&{}.toString.call(t);if("undefined"!=typeof Map&&(t instanceof Map||"[object Map]"===e||t&&"function"==typeof t.get&&"function"==typeof t.set&&"function"==typeof t.keys))return{list:g(t.values()),keys:g(t.keys()),src:t};if("undefined"!=typeof Set&&(t instanceof Set||"[object Set]"===e||t&&"function"==typeof t.add&&"function"==typeof t.has&&"function"==typeof t.values))return{list:g(t.values()),keys:null,src:t};if(t&&"function"==typeof t[Symbol.iterator])return{list:g(t),keys:null,src:t};if(t&&"object"==typeof t){const e=Object.keys(t);return{list:e.map(e=>t[e]),keys:e,src:t}}return{list:[],keys:null,src:null}},{list:[],keys:null,src:null}),e=t.list,o=t.keys,c=new Map,y=new Map;for(let t=0;t<D.length;t++){const e=D[t],n=N(e),o=n.__x_for_key,i=n.__x_primSig;if(i){let t=y.get(i);t||(t=[],y.set(i,t)),t.push(e)}else o&&c.set(o,e)}const v=Array(e.length),x=[],M=u.parentNode;for(let t=0;t<e.length;t++){const r=e[t],u=o?o[t]:t;let m,w;const g=b?H(r,u):null;if(null!=g){w="k:"+g;const t=c.get(w);t&&(m=t,c.delete(w))}if(!m){const t=X(r);if(t&&(t.startsWith("o#")||t.startsWith("id:"))){w=t;const e=c.get(t);e&&(m=e,c.delete(t))}else if(t&&t.startsWith("p#")){const e=t,n=y.get(e);if(n&&n.length&&(m=n.shift()),m){const t=N(m);w=t.__x_for_key,t.__x_primSig=e}}}if(m){const t=a(m)?m.anchor:m,e=t.__x_scope,o=t.__x_idxRef,c=t.__x_itemRef,f=t.__x_itemVersion??0,l=P(r,u,e);t.__x_scope=l,t.__x_itemRef=r,s&&(t.__x_idxRef=u);const h=a(m)?m.nodes:[m];for(const t of h)t.__x_scope=l;const p=c!==r,d=!!s&&o!==u,y=r&&"object"==typeof r?L(r):0,w=y!==f;if(r&&"object"==typeof r&&(t.__x_itemVersion=y),p||d||w)for(const t of h)(p||w)&&n.He(t,i),d&&s&&n.He(t,s)}else{const t=P(r,u,{});if(p&&F){const e=I.createComment("x-for-item"),n=I.createComment("/x-for-item"),o=[];e.__x_scope=t,e.__x_itemRef=r,s&&(e.__x_idxRef=u);for(let e=0;e<h.length;e++){const n=h[e].cloneNode(1);n.removeAttribute("x-for"),l&&n.removeAttribute(f),n.__x_scope=t,o.push(n)}m={anchor:e,nodes:o,endMarker:n},x.push({inst:m,isFragment:1,bp:F}),e.__x_for_key=void 0!==w?w:"n#"+ ++W}else{const e=d.cloneNode(1);e.removeAttribute("x-for"),l&&e.removeAttribute(f),e.__x_scope=t,e.__x_itemRef=r,s&&(e.__x_idxRef=u),m=e,x.push({inst:m,isFragment:0,bp:E}),e.__x_for_key=void 0!==w?w:"n#"+ ++W}}const M=N(m);w&&(M.__x_for_key=w);const _=l||r&&"object"==typeof r?void 0:"p#"+typeof r+":"+r;M.__x_primSig=_,v[t]=m}for(const[,t]of c)U(t);for(const[,t]of y)for(const e of t)U(e);if(M){const t=new Map;for(let e=0;e<D.length;e++){const n=N(D[e]).__x_for_key;void 0!==n&&t.set(n,e)}const e=Array(v.length);for(let n=0;n<v.length;n++){const o=N(v[n]).__x_for_key,i=t.has(o)?t.get(o):-1;e[n]=i}const{lisMask:o}=this.Ge(e),i=D.length?(_=D[D.length-1],a(_)?_.endMarker:_.__x_if_current||_).nextSibling:u.nextSibling;let s=null;for(let t=v.length-1;t>=0;t--){const n=v[t],r=s??i;-1===e[t]?z(n,r,M):o[t]||z(n,r,M),s=B(n)}for(const t of x)if(t.isFragment){const e=t.inst;r(()=>T(e.nodes,t.bp));for(const t of e.nodes)n.framework.pe(t,n)}else{const e=t.inst;r(()=>k(e,t.bp)),n.framework.pe(e,n)}n.framework.de()}var _;D.length=0;for(let t=0;t<v.length;t++)D.push(v[t])},V);V.update=Z,n.C(u,V)}Ze(t,e){let n=t;for(let t=0;t<e.length;t++){let o=0,i=n.firstElementChild;for(;i&&o<e[t];)i=i.nextElementSibling,o++;n=i||n}return n}Ge(t){const e=Array(t.length),n=[],o=[];for(let i=0;i<t.length;i++){const s=t[i];if(s<0){e[i]=-1;continue}let r=0,c=n.length;for(;r<c;){const e=r+c>>1;t[n[e]]<s?r=e+1:c=e}r===n.length?n.push(i):n[r]=i,e[i]=r>0?n[r-1]:-1,o[r]=i}const i=n.length,s=Array(t.length).fill(0);let r=i?n[i-1]:-1;for(;r>=0;)s[r]=1,r=e[r];return{lisMask:s,lisLen:i}}Ut(){const t=this;for(const e of t.D.values())for(const t of e)if((!B||!t.Ee)&&t.update)try{t.update()}catch(t){}}}return W.Ie=200,W.j={itemscope:1,formnovalidate:1,novalidate:1,default:1,readonly:1},new class{constructor(){this.Je=new Map,this.Qe=new b,this.Ye=[],this.tn={},this.en=new Map,this.ie=0,this.nn=null,this.on=new Map,this.in=new b,this.sn=0,this.rn=new b,this.cn=new b,this.fn=new b,this.Ae=(t,e)=>{const n=this.rn.get(t);return n?.get(e)},this.je=(t,e,n)=>{let o=this.rn.get(t);o||(o=new Map,this.rn.set(t,o));let i=o.get(e);i||(i=new Set,o.set(e,i)),i.has(n)||(i.add(n),n instanceof Element!=0&&this.cn.set(n,()=>{i.delete(n),0===i.size&&o.delete(e),0===o.size&&this.rn.delete(t)}))},this.ln=t=>{const e=this.cn.get(t);e&&(e(),this.cn.delete(t))},this.registerRefCleanup=(t,e)=>{this.cn.set(t,e)},this.Gt=t=>{this.rn.delete(t)},this.directive=(t,e)=>{if(t.startsWith(z+"-"))throw Error(`Custom directive names should not start with "${z}-". Use: XTool.directive("my-directive", ...)`);return this.en.set(t,e),this},this.registerComponent=t=>{if(!t||!t.name)throw Error("registerComponent requires a name");const e=t.name.toLowerCase();return this.on.has(e)||this.on.set(e,t),this},this.mountComponent=(t,e,n)=>{if(t&&e)return this.un(t)?this.Kt(e)?(this.tn.debug,this.Kt(e)):(e.__x_mount_source=t,n&&(e.__x_mount_props=n),this.an(e),this.Kt(e)):void this.tn.debug},this.un=t=>this.on.get(t.toLowerCase()),this.Me=t=>this.en.get(t),this.Le=()=>this.tn,this.hn=[],this.init=(t={})=>{const e={container:"body",debug:0,staticDirectives:1,router:{enabled:0,transitionName:"route"}};this.tn={...e,...t,router:{...e.router,...t.router||{}}},"boolean"==typeof this.tn.staticDirectives&&(B=this.tn.staticDirectives),this.ie=1==this.tn.autoMergeProps;const n=this.tn.prefix;z=n&&"string"==typeof n&&n[A]>0?n:"x",q.clear();const o=async()=>{this.pn(),this.hn.length&&r(async()=>await Promise.allSettled(this.hn)),this.e();const t=I?.querySelector(this.tn.container);t&&(this.n(t),this.tn.delegate&&this.o(t),this.We()&&this.dn(t))};return I&&"loading"===I.readyState?I.addEventListener("DOMContentLoaded",()=>{o()}):I&&"complete"!==I.readyState&&"interactive"!==I.readyState||o(),this},this.yn=new Map,this.mn=new Map,this.loadComponents=t=>{const e=t.map(t=>"string"==typeof t?{path:t,mode:"preload",name:void 0}:{path:t.path,mode:t.mode||"preload",name:t.name}),n=[];for(const t of e)if("defer"===t.mode){const e=this.wn(t.path).catch(()=>{throw Error("load failed")});this.hn.push(e),n.push(e.then(()=>{}))}else if("lazy"===t.mode){const e=(t.name||t.path.split("/").pop()||"").replace(/\.(mjs|js|ts|html)(\?.*)?$/i,"").toLowerCase();e&&!this.mn.has(e)&&this.mn.set(e,{path:t.path,status:0})}else{const e=this.wn(t.path).catch(()=>{throw Error("load failed")});n.push(e)}return Promise.allSettled(n).then(t=>(r(()=>this.e()),{settled:t.length,failed:t.filter(t=>"rejected"===t.status).length}))},this.createComponent=t=>{const e=new W(this.bn(),t,this);return this.Je.set(e.id,e),e.callBeforeMount(),e},this.e=()=>{const t=I?.querySelector(this.tn.container);if(!t)return;const e=K("data"),n=K("for"),o=K("if"),i=K("else-if"),s=K("else");t.hasAttribute(e)&&!this.Kt(t)&&this.De(t,void 0);const r=e=>{let r=e.parentElement;for(;r&&r!==t;){if(r.hasAttribute(n)||r.hasAttribute(o)||r.hasAttribute(i)||r.hasAttribute(s))return 1;r=r.parentElement}return 0},c=t.querySelectorAll(`[${e}]`);for(const t of c)r(t)||this.Kt(t)||this.De(t);const f=t.querySelectorAll("component[source]");for(const t of f)this.Kt(t)||this.an(t);if(this.de(),0===c[A]&&!this.Kt(t)){const e=g(this.Je.values()),n=e[e[A]-1];n&&!n.isBound&&n.bindToElement(t)}},this.de=()=>{if(!this.Ye[A])return;const t=[],e=[],n=this.tn.container?I?.querySelector(this.tn.container):null;for(const o of this.Ye){if(!o.el.isConnected){t.push(o);continue}let i,s=o.el.parentElement;for(;s&&!i;){const t=this.Kt(s);t?i=t:s=s.parentElement}i?(o.comp.attachToParent(i),e.push(o.comp)):n&&(n===o.el||n.contains(o.el))?e.push(o.comp):t.push(o)}for(const t of e)t.completeBinding();this.Ye=t},this.De=(t,e)=>{const n=t.getAttribute(K("data"));let o={};if(n){t.removeAttribute(K("data"));try{if(e){const i=e.$t(void 0,t);o=Function("parent",`with(parent){ return (${n}) }`)(i)}else o=this.vn(n);const i=Object.getOwnPropertyDescriptors(o),s={},r={};for(const t in i){const e=i[t];"function"==typeof e.get?s[t]=e.get:"value"in e&&(r[t]=e.value)}const c=r.methods||o.methods,f=o.methods||{},l={};for(const t of Object.keys(r)){const e=r[t];"function"==typeof e&&"methods"!==t&&(l[t]=e)}for(const t of Object.keys(l))delete r[t];const u=["mounted","unmounted","beforeMount","beforeUnmount","updated","destroyed","beforeDestroy","setup"],a={};for(const t of u)l[t]&&(a[t]=l[t],delete l[t]);const h={...f,...l},p=c||Object.keys(l).length?{methods:h,data:r}:{data:r};for(const t in a)p[t]=a[t];x(s).length&&(p.computed=s),e&&(p.data.$parent=e),o=p}catch(t){}}const i=this.createComponent(o),s=t.getAttribute(K("init"))||void 0;s&&t.removeAttribute(K("init")),this.gn(t,i,{callBeforeMount:1,xInitExpr:s})},this.bn=()=>{const t=Date.now(),e=Math.random().toString(36).substring(2,15);return`component_${t}_${(this.Je.size+1).toString(36)}_${e}`},this.xn=(t,e)=>{try{const n=[];"COMPONENT"===t[j]&&t.hasAttribute("source")&&n.push(t);const o=t.querySelectorAll("component[source]");for(const t of o)n.push(t);for(const t of n)this.Kt(t)||this.an(t,e)}catch{}},this.Mn=(t,e)=>{try{const n=K("data"),o=t.querySelectorAll(`[${n}]`);for(const t of o)this.Kt(t)||this.De(t,e)}catch{}},this.pe=(t,e)=>{this.xn(t,e),this.Mn(t,e)},this.vn=t=>r(()=>Function("return "+t.trim())(),{}),this.Qt=t=>{this.Je.delete(t)},this.Wt=(t,e)=>{this.Qe.set(t,e)},this.t=t=>{this.Qe.delete(t)}}We(){const t=this.tn;return!!t.router?.enabled}dn(t){const{install:e,navigate:n}=m(this.tn,this);e(t),this.navigate=n}async Xe(t,e,n="program"){if(this.navigate)return this.navigate(t,e,n)}wn(s,r=2,f=300,m=3e4){const w=this.yn.get(s);if(w)return w;const b=this,v=new URL(s,I?.baseURI||location.href),g=/\.ts?$/.test(v.pathname),x=/\.html?$/.test(v.pathname),M=(t,...e)=>t.reduce((t,n,o)=>t+n+(o<e.length?e[o]:""),"")+"\n",_=t=>{try{if(c(t)||h(t))return t}catch{}if(!t||"object"!=typeof t)return l({value:t});const e=l(t),n=l({value:e});try{const t=p(e),o=p(n);t&&o&&(t.changeListeners||(t.changeListeners=[]),t.changeListeners.push((t,n)=>{if(Array.isArray(o.changeListeners)){const t=y(e),n=y(e);for(const e of o.changeListeners)try{e(t,n)}catch{}}}))}catch{}const o=new Proxy(n,{get:(t,e)=>"value"===e?t.value:t.value?.[e],set:(t,e,n)=>{try{return t.value&&(t.value[e]=n),1}catch(t){return 0}},has:(t,e)=>"value"===e||(t.value?e in t.value:0),ownKeys:t=>t.value?Reflect.ownKeys(t.value):[],getOwnPropertyDescriptor:(t,e)=>{if("value"===e)return{configurable:1,enumerable:1,value:t.value,writable:1};const n=t.value;return n?Object.getOwnPropertyDescriptor(n,e)||{configurable:1,enumerable:1,value:n[e],writable:1}:void 0}});try{const t=p(n);t&&d(o,t)}catch{}return o},$=t=>(function(t){let e,n=1;const o={depTracker:t=>{n=1}},i={get value(){return n&&(e=t(),n=0),e}};return Object.defineProperty(i,u,{value:1,enumerable:0,configurable:0,writable:0}),Object.defineProperty(i,Symbol.for("_computedID"),{value:a(12),enumerable:0,configurable:0,writable:1}),l(i,o)})(t);let S,j,O=0,A=0,R=null,k=null;const E=t=>Math.min(m,f*Math.pow(2,t)*(.75+.5*Math.random())),F=()=>{null!=R&&(clearTimeout(R),R=null),k&&(window.removeEventListener("online",k),k=null)},T=()=>{const f=A++;fetch(s,{cache:"no-cache"}).then(t=>{if(!t.ok)throw Error(t.status+" "+t.statusText);return t.text()}).then(r=>{if(!O){if(g&&(r=(function(s){const r=/[a-zA-Z_$]/,c=/[a-zA-Z0-9_$]/;function f(t){return r.test(t)}function l(t){return c.test(t)}const u=t=>o.test(t),a=t=>i.test(t);function h(t,e){const n=e[t],o="<"==n.value?"<":">";return n.value==o&&n.next?.value!==o&&n.prev?.value!==o}const p=(t,e,n)=>{const o={index:e,depth:0};for(;e<t.length&&!n(t[e],o);)e++;return e},d=(t,e)=>-1!==e.indexOf(t);function y(e,n,o=1){let i=n;const s={};i=p(e,i,e=>e.type!==t.Whitespace&&!(e.type===t.Punctuation&&d(e.value,"|?&:")));let r=d(e[i].type,[t.Keyword,t.Identifier]);r&&e[i]&&e[i].next?.type===t.Punctuation&&d(e[i].next?.value,"<[{(")&&(i=p(e,i,e=>e.type===t.Punctuation));let c=e[i].type===t.Punctuation&&d(e[i].value,"<[{(");for(;i<e.length;){if(c)i=p(e,i,(e,n)=>(e.type===t.Punctuation&&(d(e.value,"]})>")?n.depth--:d(e.value,"<[{(")&&n.depth++),n.depth<=0&&!(e.next?.type===t.Punctuation&&d(e.next?.value,"<[{(")))),i++;else if(i=p(e,i,e=>t.Whitespace===e.type&&" "!==e.value||e.type===t.Punctuation&&"."!==e.value),o&&e[i]&&e[i].type===t.Punctuation&&d(e[i].value,"<[{(")){let n=0;p(e,i,o=>(o.type===t.Whitespace&&d("\n",o.value)&&(n=1),n||o.start>=e[i].start)),n||(i=p(e,i,(e,n)=>(e.type===t.Punctuation&&(d(e.value,"]})>")?n.depth--:d(e.value,"<[{(")&&n.depth++),n.depth<=0)),i++)}if(i>=e.length)break;e[i].type===t.Whitespace&&d("\n",e[i].value)&&e[i].prev?.next&&e[i].prev?.next?.type===t.Punctuation&&d(e[i].prev?.next?.value,"?&|:")&&(i=p(e,i,e=>e.type==t.Punctuation)),e[i].type===t.Whitespace&&(i=p(e,i,t=>!t.value.startsWith(" ")));let n=e[i];const f=n.type===t.Punctuation&&d(n.value,"?&|:")||n.type===t.Arrow&&")"===n.prev?.value;if(!f&&r&&n.type===t.Punctuation&&(d(n.value,"(<[")||o&&"{"==n.value))c=1,i=p(e,i,e=>e.type!==t.Whitespace);else{if(f&&(i++,i=p(e,i,t=>!t.value.startsWith(" "))),s.isContinued=f,s.token=e[i],!f){o&&i++;break}r=d(e[i].type,[t.Keyword,t.Identifier]),c=e[i].type===t.Punctuation&&d(e[i].value,"<[{(")}}return i}function m(e,n){let o=n-1;for(;o>=0&&e[o].type===t.Whitespace;)o--;if(o<0)return 1;const i=e[o];return i.type===t.Arrow?0:i.type===t.Identifier&&"return"===i.value||i.type===t.Punctuation&&("="===i.value||"("===i.value||"["===i.value||","===i.value||":"===i.value||"?"===i.value)}const w=(function(o){const i=[];let s=0;const r=o.length;let c;const h=(e,n,i)=>{const s={type:e,value:o.slice(n,i),start:n,end:i};return c&&(s.prev=c,c.next=s),e!==t.Whitespace&&e!==t.Comment&&(c=s),s};for(;s<r;){const c=o[s];let p=s;if(u(c)){do{s++}while(s<r&&u(o[s]));i.push(h(t.Whitespace,p,s))}else{if(f(c)){for(s++;s<r&&l(o[s]);)s++;const c=o.slice(p,s);i.push(h(e.has(c)||d(c,n)?t.Keyword:t.Identifier,p,s));continue}if(a(c)){do{s++}while(s<r&&a(o[s]));i.push(h(t.Number,p,s))}else{if('"'===c||"'"===c||"`"===c){const e=c;if(s++,"`"!==e){for(;s<r;)if("\\"===o[s])s+=2;else{if(o[s]===e){s++;break}s++}i.push(h(t.String,p,s));continue}let n=0;for(;s<r;){const t=o[s];if("\\"!==t){if("`"===t&&0===n){s++;break}if("$"===t&&s+1<r&&"{"===o[s+1])for(n++,s+=2;s<r&&n>0;){const t=o[s];if("\\"!==t){if('"'===t||"'"===t){const e=t;for(s++;s<r;)if("\\"===o[s])s+=2;else{if(o[s]===e){s++;break}s++}continue}if("`"===t){s++;let t=0;for(;s<r;){const e=o[s];if("\\"!==e){if("`"===e&&0===t){s++;break}"$"===e&&s+1<r&&"{"===o[s+1]?(t++,s+=2):"}"===e&&t>0?(t--,s++):s++}else s+=2}continue}"{"!==t?("}"!==t||n--,s++):(n++,s++)}else s+=2}else s++}else s+=2}i.push(h(t.String,p,s));continue}if("/"===c&&s+1<r){if("/"===o[s+1]){for(s+=2;s<r&&"\n"!==o[s];)s++;i.push(h(t.Comment,p,s));continue}if("*"===o[s+1]){for(s+=2;s<r&&("*"!==o[s]||"/"!==o[s+1]);)s++;s+=2,i.push(h(t.Comment,p,s));continue}}"="===c&&s+1<r&&">"===o[s+1]?(s+=2,i.push(h(t.Arrow,p,s))):"?!".includes(c)&&s+1<r&&":"===o[s+1]?(s+=2,i.push(h(t.Conditional,p,s))):i.push(h(t.Punctuation,s,++s))}}}return i})(s);return(function e(o,i,s){let r=0,c="",f=i,l=0;const u={isObjectLiteral:0,isClassBody:0,braceDepth:0,lastIdentifier:void 0,lastKeyword:void 0};for(;f<s;){const i=o[f],s=i.type,a=i.value;if(s!==t.Comment)if(s===t.Identifier&&(u.lastIdentifier=a),"class"===u.lastIdentifier&&(l=1),s!=t.Identifier&&s!=t.Keyword||(i.next?.type!==t.Keyword||"enum"!=i.next.value)&&"enum"!=a)if(s==t.String||s!=t.Punctuation&&t.Whitespace!=s&&t.Keyword!=s&&t.Conditional!=s)f++,c+=a;else if(s!==t.Whitespace)if(s!==t.Punctuation||"{"!==a)if(s!==t.Punctuation||"}"!==a){if(s===t.Keyword){if(!u.isObjectLiteral&&"import"===a){f=p(o,f,e=>e.type===t.Keyword&&"from"===e.value),f=p(o,f,e=>";"===e.value||e.type===t.Whitespace&&e.value.includes("\n")),f<o.length&&";"===o[f].value&&f++;continue}if("as"===a){f++,f=p(o,f,e=>e.type!==t.Whitespace),f=y(o,f,0);continue}if("export"===a&&!u.isObjectLiteral&&(i.next?.value+i.next?.next?.value+"").match(/(const\s+)?(type|interface|enum|namespace|function)/)){f++,f=p(o,f,e=>e.type!==t.Whitespace);continue}if("function"===a&&i.next?.type===t.Identifier&&i.next?.next?.type===t.Punctuation&&"("===i.next?.next?.value&&i.next?.next?.next&&i.next?.next?.next?.type===t.Identifier){let e=f+4,n=1;for(;e<o.length&&n>0;){const i=o[e];i.type===t.Punctuation&&("("===i.value?n++:")"===i.value&&n--),e++}if(e=p(o,e,e=>e.type!==t.Whitespace),e<o.length&&o[e].type===t.Punctuation&&":"===o[e].value&&(e++,e=y(o,e,0),e=p(o,e,e=>e.type!==t.Whitespace)),e<o.length&&o[e].type===t.Punctuation&&";"===o[e].value){f=e+1;continue}}}if(u.isObjectLiteral||s!==t.Keyword||m(o,f)||!d(a,["interface","type","declare","namespace","module"]))if(u.isObjectLiteral||s!==t.Keyword||"implements"!==a||i.next?.type===t.Punctuation||u.isObjectLiteral)if(s!==t.Punctuation||"!"!==a||!o[f-1]||d(o[f-1]?.type,[t.Arrow,t.Punctuation])){if(s===t.Punctuation&&"("===a){c+=a,f++;let i=1;for(;f<o.length&&i>0;){const s=o[f],r=s.type,l=s.value;if(r==t.Punctuation&&"{"==l&&m(o,f)){const n=p(o,f,(e,n)=>(e.type===t.Punctuation&&("{"===e.value?n.depth++:"}"===e.value&&n.depth--),n.depth<=0));c+=e(o,f,n),f=n;continue}r!=t.Comment?(r===t.Punctuation&&"("===l?i++:r===t.Punctuation&&")"===l&&i--,r===t.Keyword&&d(l,n)?(f++,o[f].type===t.Whitespace&&(f=p(o,f,e=>e.type!==t.Whitespace))):r===t.Punctuation&&"!"===l&&o[f-1]&&o[f-1].type===t.Identifier?f++:r===t.Punctuation&&":"===l||s.next?.type===t.Conditional||t.Keyword===r&&"as"==l?(f++,f=y(o,f,0)):f<o.length&&o[f].type===t.Punctuation&&")"===o[f].value?(c+=o[f].value,f++,f<o.length&&o[f].type===t.Punctuation&&":"===o[f].value&&(f++,f=y(o,f,0))):(c+=s.value,f++)):f++}continue}if((s===t.Punctuation&&":"===a||s===t.Conditional)&&(i.prev&&i.prev.type===t.Identifier&&i.prev.prev&&i.prev.prev.type===t.Keyword&&d(i.prev.prev.value,["let","const","var"])||i.prev&&u.isClassBody))f++,f=y(o,f,0);else{if(s===t.Punctuation&&"<"===a&&h(f,o)&&f<o.length){let e=y(o,f,0);o[e]&&o[e].type===t.Whitespace&&(e=p(o,e,e=>e.type!==t.Whitespace));let n=o[e];if(n&&n.type==t.Punctuation&&-1!=="({[".indexOf(n.value)){f=e;continue}}u.isObjectLiteral||s!==t.Keyword||!d(a,n)?(s===t.Keyword&&(u.lastKeyword=i.value),c+=a,f++):f++}}else f++;else f++,f=p(o,f,e=>e.type===t.Punctuation&&"{"==e.value);else"type"===a?(f=p(o,f,(e,n)=>(e.type===t.Punctuation&&(d(e.value,"<[({")?n.depth++:d(e.value,">])}")&&n.depth--),n.depth<=0&&e.type===t.Punctuation&&"="==e.value)),f++):f++,f=y(o,f,1)}else u.braceDepth--,u.isObjectLiteral&&(r--,r<=0&&(u.isObjectLiteral=0)),u.braceDepth<=0&&(u.isClassBody=0,l=0),c+=i.value,f++;else u.braceDepth++,!u.isObjectLiteral&&m(o,f)?(r++,u.isObjectLiteral=1):u.isObjectLiteral&&r++,l&&(u.isClassBody=1),c+=i.value,f++;else c+=a.includes("\n")?"\n":a,f++;else f=p(o,f,t=>"}"==t.value),f++;else f++}return c.trim()})(w,0,w.length)})(r)),x){const t=new Map;let e="",n="",o=0;try{const i=(new DOMParser).parseFromString(r,"text/html");i.querySelectorAll("script").forEach(n=>{const i=n.hasAttribute("setup"),s=n.getAttribute("name");if(s){const e=t.get(s)||{script:"",template:"",hasSetup:0};i&&(e.hasSetup=1),e.script+=(n.textContent||"")+"\n",t.set(s,e)}else i&&(o=1),e+=(n.textContent||"")+"\n";n.remove()}),i.querySelectorAll("template").forEach(e=>{const o=e.getAttribute("name");if(o){const n=t.get(o)||{script:"",template:"",hasSetup:0};n.template=(e.innerHTML||"").trim(),t.set(o,n)}else n||(n=(e.innerHTML||"").trim())}),n||t.size||(n=(i.body?i.body.innerHTML:"").trim())}catch(t){n=r}const i=(t,e,n,o)=>{try{const i={},r={onMounted:[],onBeforeMount:[],onUnmounted:[],onBeforeUnmount:[]},f=t=>{t&&"object"==typeof t&&Object.assign(i,t)},l=t=>{"function"==typeof t&&r.onMounted.push(t)},u=t=>{"function"==typeof t&&r.onBeforeMount.push(t)},a=t=>{"function"==typeof t&&r.onUnmounted.push(t)},d=t=>{"function"==typeof t&&r.onBeforeUnmount.push(t)},m=(t,e)=>{if(!t||"function"!=typeof e)return()=>{};const n=t=>{if(!h(t)){if(c(t)){try{if("value"in t)return t.value}catch{}return y(t)}return t}};if(Array.isArray(t)){const o=t.filter(t=>!!t&&!h(t)),i=o.map(t=>c(t)?p(t):void 0),s=[];let f=o.map(n),l=0;const u=()=>{l||(l=1,Promise.resolve().then(()=>{l=0;const t=o.map(n);try{e(t,f)}catch(t){}f=t}))};for(let t=0;t<i.length;t++){const e=i[t];if(!e)continue;e.changeListeners||(e.changeListeners=[]);const n=(t,e)=>u();e.changeListeners.push(n),s.push(n)}const a=()=>{for(let t=0;t<i.length;t++){const e=i[t],n=s[t];if(!e||!n||!e.changeListeners)continue;const o=e.changeListeners.indexOf(n);o>=0&&e.changeListeners.splice(o,1)}};return r.onBeforeUnmount.push(a),a}if(h(t))return()=>{};if(c(t)){const o=p(t);if(!o)return()=>{};o.changeListeners||(o.changeListeners=[]);let i=n(t);const s=(o,s)=>{const r=n(t);try{e(r,i)}catch(t){}i=r};o.changeListeners.push(s);const c=()=>{const t=o.changeListeners;if(!t)return;const e=t.indexOf(s);e>=0&&t.splice(e,1)};return r.onBeforeUnmount.push(c),c}return()=>{}},w=Function("XTool","data","computed","watch","html","template","expose","onMounted","onBeforeMount","onUnmounted","onBeforeUnmount",t+"\n//# sourceURL="+s);n?w.call(i,b,_,$,m,M,e,f,l,u,a,d):w(b,_,$,m,M,e,f,l,u,a,d);const v=(s.split("/").pop()||"").replace(/\.(mjs|js|ts|html)(\?.*)?$/i,"").toLowerCase(),g=o||("string"==typeof i.name&&i.name.trim()?i.name.trim():v),x={},S={},j={};for(const t of Object.keys(i)){if("name"===t&&"string"==typeof i[t])continue;const e=i[t];"function"==typeof e?S[t]=e:h(e)?j[t]=e:x[t]=(c(e),e)}const O={};r.onMounted.length&&(O.mounted=function(){for(let t=0;t<r.onMounted.length;t++)try{r.onMounted[t].call(this)}catch(t){}}),r.onBeforeMount.length&&(O.beforeMount=function(){for(let t=0;t<r.onBeforeMount.length;t++)try{r.onBeforeMount[t].call(this)}catch(t){}}),r.onUnmounted.length&&(O.unmounted=function(){for(let t=0;t<r.onUnmounted.length;t++)try{r.onUnmounted[t].call(this)}catch(t){}}),r.onBeforeUnmount.length&&(O.beforeUnmount=function(){for(let t=0;t<r.onBeforeUnmount.length;t++)try{r.onBeforeUnmount[t].call(this)}catch(t){}});try{b.registerComponent({name:g,template:e,data:x,methods:S,computed:j,...O})}catch(t){}}catch(t){}};for(const[e,n]of t)i(n.script,n.template,n.hasSetup,e);(e||n)&&i(e,n,o)}else{const t=r+"\n//# sourceURL="+s;try{Function("XTool","html",t)(b,M)}catch(t){}}O=1,F(),S()}}).catch(t=>{if(O)return;const e="undefined"==typeof navigator?1:navigator.onLine,n=(t&&(t.message||""))+"",o=t instanceof TypeError||/Failed to fetch|NetworkError|load failed/i.test(n);if(!e||o){k||(k=()=>{O||(null!=R&&(clearTimeout(R),R=null),T())},window.addEventListener("online",k));const t=E(f);return void(R=window.setTimeout(()=>T(),t))}if(f>=r)return F(),void j(t);const i=E(f);R=window.setTimeout(()=>T(),i)})},C=new Promise((t,e)=>{S=t,j=e,T()}).finally(()=>{this.yn.delete(s),F()});return this.yn.set(s,C),C}pn(){if(!I)return;if("x"===z)return;const t="x-tool-initial-css-"+z;if(I.head&&!I.getElementById(t)){const e=I.createElement(_);e.id=t,e.textContent=`[${z}-show],[${z}-if],[${z}-else],[${z}-else-if],[${z}\\:show],[${z}\\:if],[${z}\\:else],[${z}\\:else-if]{display:none;}`,I.head.appendChild(e)}}n(t){this._n||"undefined"==typeof MutationObserver||(this._n=new MutationObserver(t=>{for(const e of t)if("childList"===e.type){for(let t=0;t<e.addedNodes.length;t++){const n=e.addedNodes[t];if(1!==n.nodeType)continue;const o=n;"COMPONENT"===o[j]&&o.getAttribute(R)&&!this.Kt(o)&&this.an(o)}for(let t=0;t<e.removedNodes.length;t++){const n=e.removedNodes[t];if(1!==n.nodeType)continue;const o=n;v(()=>{if(o.isConnected)return;if(o.__x_if_suspended)return;this.ln(o);const t=[o];for(;t.length;){const e=t.pop();if(e.__x_if_suspended)continue;const n=this.Kt(e);n&&!n.isDestroyed&&r(()=>{this.Gt(n),n.destroy()});let o=e.firstElementChild;for(;o;)t.push(o),o=o.nextElementSibling}})}}else if("attributes"===e.type){const t=e.target;if(t&&"COMPONENT"===t[j])if(e.attributeName===R)this.$n(t);else if(e.attributeName===k){const e=this.Kt(t);e&&r(()=>{const n=t.hasAttribute(k);e.setFrozen(!!n)})}}this.de()}),this._n.observe(t,{childList:1,subtree:1,attributes:1,attributeFilter:[R,k]}))}Sn(t){if("undefined"==typeof IntersectionObserver)return null;this.jn||(this.jn=new Map),this.On||(this.On=new b);const e=t||"0px";let n=this.jn.get(e);return n||(n=new IntersectionObserver(t=>{for(const e of t){const t=e.target,n=this.On.get(t);if(!n)continue;const o=!!e.isIntersecting,i=!!n.visible;if(n.visible=o,o&&!i){const t=n.enter||[];for(let n=0;n<t.length;n++)r(()=>t[n].cb(e,{phase:"enter",visible:o,before:i}));t.length&&(n.enter=t.filter(t=>!t.once))}else if(!o&&i){const t=n.leave||[];for(let n=0;n<t.length;n++)r(()=>t[n].cb(e,{phase:"leave",visible:o,before:i}));t.length&&(n.leave=t.filter(t=>!t.once))}}},{root:null,rootMargin:e}),this.jn.set(e,n),n)}ke(t,e,n,o){const i=this.Sn(e);if(!i)return()=>{};this.On||(this.On=new b);let s=this.On.get(t);return s||(s={rootMargin:e},this.On.set(t,s)),n&&n.cb&&(s.enter||(s.enter=[])).push({cb:n.cb,once:!!n.once}),o&&o.cb&&(s.leave||(s.leave=[])).push({cb:o.cb,once:!!o.once}),i.observe(t),()=>{i.unobserve(t)}}$n(t){const e=f(t.getAttribute("source")),n=this.Kt(t);if(!e)return n&&!n.isDestroyed&&r(()=>n.destroy()),void(t.innerHTML="");n&&!n.isDestroyed&&r(()=>n.destroy()),t.innerHTML="",this.an(t)}gn(t,e,n){e.element=t,n?.callBeforeMount&&r(()=>e.callBeforeMount()),this.Wt(e.element,e),this.Ye.push({el:t,comp:e}),n?.xInitExpr&&e.Ht(n.xInitExpr)}an(t,e){let n=t.__x_mount_source||t.getAttribute("source");if(!n)return;t.__x_mount_source&&delete t.__x_mount_source,delete t.__x_saved_attrs;let o=e;if(!o){let e=t.parentElement;for(;e&&!o;){const t=this.Kt(e);t?o=t:e=e.parentElement}}let i=this.un(n);if(!i&&o)try{const e=Function("ctx","with(ctx){return ("+n+")}"),s=o.$t(void 0,t),r=e.call(o.getContext(1),s);"string"==typeof r&&r&&(n=r,i=this.un(n))}catch{}if(!i){const o=n.toLowerCase(),i=this.mn?.get(o);if(i&&(0!==i.status||i.promise||(i.status=1,i.promise=this.wn(i.path).then(()=>{i.status=2}).catch(()=>{i.status=3}).finally(()=>{2===i.status&&this.mn?.delete(o)})),i.promise)){const o=t,s=e;i.promise.then(()=>{r(()=>{this.un(n)&&o.isConnected&&!this.Kt(o)&&this.an(o,s)})})}return}let s=null,c=null,f=null;s||(s={});const l=t.__x_mount_props;l&&"object"==typeof l&&(Object.assign(s,l),delete t.__x_mount_props);const u=this.fn.get(t)||t.getAttribute(K("prop")),a=K("prop")+":",h={},p=t=>{if(!t)return t;const e=t.toLowerCase();return(t=>{if(!t)return null;for(const n of Object.keys(t))if(n.toLowerCase()===e)return n;return null})(i?.propEffects)||(t.includes("-")?t.replace(/-([a-z])/g,(t,e)=>e.toUpperCase()):t)};for(const e of Array.from(t.attributes)){const n=e.name;if(n.startsWith(a)){const o=p(n.substring(a.length));o&&(h[o]=e.value),t.removeAttribute(n)}}if(u){if(f=u,o)try{const e=Function("ctx","with(ctx){return ("+u+")}"),n=o.getContext(1),i=o.$t(void 0,t);c=e.call(n,i)}catch(t){c=null}else try{c=Function("return ("+u+")")()}catch{c=null}if(c&&"object"==typeof c)for(const t in c)t in s||(s[t]=c[t]);this.fn.set(t,u),t.removeAttribute(K("prop"))}if(Object.keys(h).length){const e={};for(const[n,i]of Object.entries(h)){let r;if(o)try{const e=Function("ctx","with(ctx){return ("+i+")}"),n=o.getContext(1),s=o.$t(void 0,t);r=e.call(n,s)}catch(t){r=void 0}else try{r=Function("return ("+i+")")()}catch{r=void 0}e[n]=r,n in s||(s[n]=r)}const n=c?{...c}:{};c={...n};for(const t in e)t in n||(c[t]=e[t]);const i=Object.keys(e).filter(t=>!(t in n));if(i.length)if(f&&/}\s*$/.test(f.trim())){const t=f.trim(),e=t.lastIndexOf("}");if(e>-1){const n=t.slice(0,e),o=/{\s*$/.test(n)?0:1,s=i.map(t=>`${t}: ${h[t]}`).join(", ");f=n+(o?", ":" ")+s+"}"}}else f="{ "+i.map(t=>`${t}: ${h[t]}`).join(", ")+" }";else if(!f){const t=Object.keys(h);t.length&&(f="{ "+t.map(t=>`${t}: ${h[t]}`).join(", ")+" }")}}let d,y={};if(i.makeData&&r(()=>{const t=i.makeData(s);t&&(y=t)}),i.data)for(const t in i.data)y[t]=i.data[t];if(c&&"object"==typeof c)for(const t in c)y[t]=c[t];else for(const t in s)y[t]=s[t];if(y.$props=s,"function"==typeof i.init)try{const t=i.init(s);d=t&&"object"==typeof t?t:void 0}catch{d=void 0}const m={name:i.name??name,data:y,methods:{...i.methods||{},...d?.methods||{}},computed:{...i.computed||{},...d?.computed||{}},propEffects:{...i.propEffects||{},...d?.propEffects||{}},setup:d?.setup||i.setup,mounted:d?.mounted||i.mounted,unmounted:d?.unmounted||i.unmounted,beforeMount:d?.beforeMount||i.beforeMount,beforeUnmount:d?.beforeUnmount||i.beforeUnmount,updated:d?.updated||i.updated,destroyed:d?.destroyed||i.destroyed,beforeDestroy:d?.beforeDestroy||i.beforeDestroy},w=this.createComponent(m),b=Array.from(t.childNodes);if(b.length&&t.replaceChildren(),i.template){const e=e=>{t.innerHTML=e;const n=t.querySelectorAll("slot");if(n.length)for(const t of n){const e=t.getAttribute("name"),n=e?b.filter(t=>1===t.nodeType&&t.getAttribute("slot")===e):b.filter(t=>1!==t.nodeType||!t.hasAttribute("slot"));n.length&&t.replaceWith(...n)}},n=i.template;if("string"==typeof n)e(n);else if("function"==typeof n)try{const o=n();o&&"function"==typeof o.then?(t.innerHTML="",o.then(t=>{e(t||""),r(()=>w.zt())})):e((o||"")+"")}catch{t.innerHTML=""}else n&&"function"==typeof n.then&&(t.innerHTML="",n.then(t=>{e(t||""),r(()=>w.zt())}))}else b.length&&t.append(...b);this.gn(t,w,{callBeforeMount:0});try{const e=t.querySelectorAll(`[${K("data")}]`);for(const t of e)this.Kt(t)||this.De(t,w)}catch{}r(()=>{this.xn(t,w)}),f&&o&&r(()=>w.oe(f,o)),this.de()}Kt(t){return this.Qe.get(t)}observe(t){}o(t){if(this.sn)return;const e=t,n=t=>{let n=t.target;for(;n&&n!==e.parentElement&&!t.cancelBubble;){const e=this.in.get(n);if(e){const n=e.get(t.type);if(n&&n.length)for(const e of[...n])try{if(e.comp&&e.comp.isDestroyed){const t=n.indexOf(e);t>-1&&n.splice(t,1);continue}if((!e.filter||e.filter(t))&&(e.run(t),e.once)){const t=n.indexOf(e);t>-1&&n.splice(t,1)}}catch{}}n=n.parentElement}},o=["keydown","keyup"],i=["click","input","change"];for(const t of o)e.addEventListener(t,n,1);for(const t of i)e.addEventListener(t,n,0);this.sn=1}Be(t,e,n){let o=this.in.get(t);o||(o=new Map,this.in.set(t,o));let i=o.get(e);return i||(i=[],o.set(e,i)),i.push(n),()=>{try{const o=this.in.get(t),i=o?.get(e);if(!i)return;const s=i.indexOf(n);s>-1&&i.splice(s,1)}catch{}}}}})();if("undefined"!=typeof window){const t=window;t.XTool=g,t.FyneJS=g}