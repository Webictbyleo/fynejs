"use strict";(()=>{const t=Array.isArray,e="boolean"!=typeof __FEAT_TEXT_INTERP__||__FEAT_TEXT_INTERP__,n="boolean"!=typeof __FEAT_IF_BRANCHES__||__FEAT_IF_BRANCHES__,i="boolean"!=typeof __FEAT_TRANSITION__||__FEAT_TRANSITION__,s=(function(){const s=Array.from,o=t,r=Object.keys,c=()=>{},l="style",h="display",f="none",a="tagName",u="TEMPLATE",d="length";let y=!0;const p="undefined"!=typeof document?document:null;try{if(p&&p.head&&!p.getElementById("x-tool-initial-css")){const t=p.createElement(l);t.id="x-tool-initial-css",t.textContent="[x-show],[x-if],[x-else],[x-else-if],[x\\:show],[x\\:if],[x\\:else],[x\\:else-if]{display:none;}",p.head.appendChild(t)}}catch(t){}let v="x";const m=t=>`${v}-${t}`;class b{attachToParent(t){this.t=t,t.i(this)}get id(){return this.o}get framework(){return this.l}get element(){return this.h}set element(t){this.h=t}get isBound(){return this.u}set isBound(t){this.u=t}get isMounted(){return this.p}set isMounted(t){this.p=t}get isDestroyed(){return this.v}set isDestroyed(t){this.v=t}m(){const t=this.framework._(),e=t&&t.prefix?t.prefix+"":"x",n=t=>`${e}t-${t}`;return{enter:n("enter"),enterFrom:n("enter-from"),enterTo:n("enter-to"),leave:n("leave"),leaveFrom:n("leave-from"),leaveTo:n("leave-to")}}M(){try{const t=this.framework._();if(t&&!1===t.injectTransitionCSS||!p||!p.head)return;const e=t&&t.prefix?t.prefix+"":"x",n="x-tool-transition-css-"+e;if(p.getElementById(n))return;const i=t=>`.${e}t-${t}`,s=p.createElement("style");s.id=n,s.textContent=`${i("enter")},${i("leave")}{transition:opacity 150ms ease,transform 150ms ease}${i("enter-from")},${i("leave-to")}{opacity:0;transform:translateY(-0.5rem)}${i("enter-to")},${i("leave-from")}{opacity:1;transform:translateY(0)}`,p.head.appendChild(s)}catch(t){}}$(t,e){const n=this.k.get(t)||[];n.push(e),this.k.set(t,n)}constructor(t,e,n){this.T=!1,this.A=!1,this.h=null,this.u=!1,this.p=!1,this.v=!1,this.R=!1,this.O=[],this.t=null,this.F={},this.S={},this.D=new Map,this.C=new Map,this.j=new Map,this.I=!1,this.N=!1,this.P=new Set,this.B=!1,this.k=new Map,this.q=new Set,this.W=[],this.L=new WeakMap,this.U=new Map,this.K=new Map,this.X=null,this.H=!1,this.V=[],this.Y=new WeakMap,this.Z=new WeakMap,this.G=new WeakMap,this.J=null,this.tt=t=>{const e=this.et[t];"function"==typeof e&&this.nt(()=>this.it(e,[]),`Error in '${t+""}'`)},this.st=t=>{if("function"!=typeof t)return;const e=()=>{try{t()}catch(t){}try{this.q.delete(e)}catch(t){}};return this.q.add(e),()=>{try{this.q.delete(e)}catch(t){}}},this.ot=(t,e,n,i)=>{t.addEventListener(e,n,i),this.W.push({element:t,event:e,handler:n,options:i})},this.o=t,this.l=n,this.rt=e.methods||{},this.F=e.computed||{},this.S=e.propEffects||{},this.B=!(!e.computed||!Object.keys(e.computed).length),this.et={mounted:e.mounted,unmounted:e.unmounted||e.destroyed,updated:e.updated,beforeMount:e.beforeMount,beforeUnmount:e.beforeUnmount||e.beforeDestroy},this.ct=this.lt(e.data||{}),this.ht=this.ft()}callBeforeMount(){this.R||(this.tt("beforeMount"),this.R=!0)}ut(t){if(this.isBound){this.D.clear();const e=new Set,n=this.K.get(t);if(n)for(let t=0;n.length>t;t++)e.add(n[t]);for(const t of e)this.nt(t,"Error in reactive effect");(this.B||!y)&&this.dt(),this.tt("updated")}}ft(){const t={};for(const e in this.rt){const n=this.rt[e];t[e]=(...t)=>{const i=this.N;this.N=!0;try{return this.nt(()=>this.it(n,t),`Error in method '${e}'`)}finally{this.N=i}}}return t}yt(t){if(this.vt(t),this.D.has(t))return this.D.get(t);try{const e=this.F[t];this.I=!0;const n=this.C.get(t);if(n)for(const e of n){const n=this.j.get(e);n&&n.delete(t)}this.C.set(t,new Set);const i=e.call(this.bt());return this.I=!1,this.D.set(t,i),i}catch(t){return void(this.I=!1)}}vt(t){if(!this.X)return;let e=this.K.get(t);e||(e=[],this.K.set(t,e)),e.includes(this.X)||e.push(this.X)}dt(){this.H||(this.H=!0,requestAnimationFrame(()=>{if(this.H=!1,this.wt(),this.V&&this.V.length){const t=this.V.splice(0,this.V.length);for(const e of t)try{e()}catch(t){}}}))}nt(t,e,n){try{return t()}catch(t){return n}}bindToElement(t){this.u||(this.h=t,this.R||this.callBeforeMount(),this.completeBinding())}getContext(t=!0){return this.bt(t)}_t(){if(this.h){try{this.xt(this.h)}catch(t){}this.dt()}}completeBinding(){this.u||!this.h||(this.l.gt(this.h)||this.l.Mt(this.h,this),this.u=!0,this.p=!0,this.xt(this.h),this.$t(),this.wt(),this.tt("mounted"))}i(t){this.O.includes(t)||this.O.push(t)}kt(t){const e=this.O.indexOf(t);e>-1&&this.O.splice(e,1)}$t(){}it(t,e){try{const n=t+"";if(!/\[native code\]/.test(n)){let t=n.trim();return!/^function[\s\(]/.test(t)&&!/^[\w\$_][\w\d\$_]*\s*=>/.test(t)&&!/^\(.*?\)\s*=>/.test(t)&&(t="function "+t),Function("thisArg","argsArray","ctx","with(ctx){ const f = ("+t+"); return f.apply(thisArg, argsArray); }").call(void 0,this.bt(),e,this.Et(void 0,void 0))}}catch(t){}return t.apply(this.bt(),e)}destroy(){var t;const e=this;if(!e.v){e.tt("beforeUnmount");for(const t of e.O)t.isDestroyed||t.destroy();e.t&&e.t.kt(e);for(const[n,i]of e.k)for(const s of i)if("custom"===s.type&&null!=(t=s.customDirective)&&t.unbind)try{s.customDirective.unbind(n,e)}catch(t){c()}e.k.clear();for(const{element:t,event:n,handler:i,options:s}of e.W)t.removeEventListener(n,i,s);e.W=[];for(const t of Array.from(e.q))try{t()}catch(t){c()}if(e.q.clear(),e.D.clear(),e.U.clear(),e.K.clear(),e.J&&e.Tt)for(const t of e.J.K.values()){const n=t.indexOf(e.Tt);n>-1&&t.splice(n,1)}e.h&&e.l.At(e.h),e.tt("unmounted"),e.v=!0,e.p=!1,e.u=!1,e.O=[],e.t=null,this.Rt=new WeakMap,e.h=null,queueMicrotask(()=>e.l.Ot(e.o))}}Ft(t,e){if(!t||!e)return;let n;this.J=e;try{n=Function("ctx","with(ctx){return ("+t+")}")}catch(t){return}const i=()=>{let t;e.X=i;try{const i=e.getContext(!0);t=n(i)}catch(e){t=null}if(e.X=null,t&&"object"==typeof t){this.ct.$props=this.ct.$props||{},this.T=!0;for(const e in t){const n=t[e];this.ct[e]!==n&&(this.ct[e]=n)}this.T=!1}};this.Tt=i,i()}xt(t){const n=this,i=(t,i=!1)=>{if(!i&&(t.hasAttribute(m("data"))||this.l.gt(t)))return!1;const s="COMPONENT"===t[a],o=[];let r=!1,c=null;for(const e of t.attributes){const t=e.name;(t.startsWith(v+"-")||t.startsWith(v+":"))&&(o.push(e),!r&&(t===m("text")||t===m("html"))&&(r=!0),!c&&t===m("for")&&(c=e))}if(o.length>0){if(c)return n.St(t,c.name,c.value),!1;for(const e of o)n.St(t,e.name,e.value)}return e&&!r&&n.Dt(t),i||!s};i(t,!0),n.Ct(t,i)}Dt(t){var e;const n=Array.from(t.childNodes);for(const i of n){if(i.nodeType!==Node.TEXT_NODE)continue;const n=i,s=n.nodeValue||"";if(n.jt||-1===s.indexOf("{{"))continue;const o=((null==(e=n.parentElement)?void 0:e.tagName)||"").toLowerCase(),r="code"===o||"pre"===o,c=[];let l=0;for(;s.length>l;){const t=s.indexOf("{{",l);if(-1===t){c.push({literal:s.slice(l)});break}let e=0;for(let n=t-1;n>=0&&92===s.charCodeAt(n);n--)e++;if(e>0){const n=t-e;n>l&&c.push({literal:s.slice(l,n)}),e>1&&c.push({literal:"\\".repeat(e-1)});const i=s.indexOf("}}",t+2);if(-1===i){c.push({literal:s.slice(t,s.length)}),l=s.length;break}c.push({literal:s.slice(t,i+2)}),l=i+2;continue}{t>l&&c.push({literal:s.slice(l,t)});const e=s.indexOf("}}",t+2);if(-1===e){c.push({literal:s.slice(t)}),l=s.length;break}const n=s.slice(t+2,e).trim();c.push(n?{expr:n}:{literal:""}),l=e+2;continue}}const h=c.some(t=>t.expr),f=c.some(t=>t.literal&&t.literal.includes("{{"));if(!h&&!f)continue;n.jt=!0;const a=h&&!r?c.filter(t=>t.expr).map(e=>this.It(e.expr,t)):[];let u=0;const d=()=>{u=0;let t="";for(const e of c)if(null!=e.literal)t+=e.literal;else if(e.expr)if(r)t+="{{ "+e.expr+" }}";else{const e=a[u++]();t+=null==e?"":e+""}n.textContent!==t&&(n.textContent=t)},y={type:"text-interpolation",expression:s,update:void 0};this.$(t,y);const p=this.Nt(d,y);y.update=p}}Ct(t,e){let n=t.firstElementChild;for(;n;){const t=n.nextElementSibling;e(n)&&this.Ct(n,e),n=t}}St(t,e,n){const i=this,s=e.startsWith(v+":"),o=e.slice(v.length+1);if(s||"class"===o||o===l)return t.removeAttribute(e),i.Pt(t,o,n);if("transition"===o)return t.removeAttribute(e),i.Bt(t,n);if("text"===o||"html"===o||"show"===o)return t.removeAttribute(e),i.qt(t,n,o);if(!("model"===o?(t.removeAttribute(e),i.Wt(t,n),1):"if"===o?(t.removeAttribute(e),i.Lt(t,n),1):"for"===o&&(t.removeAttribute(e),i.zt(t,n),1))&&o.indexOf(":")>-1){const[s,r]=o.split(":",2),[c,...l]=r.split("."),h=l.reduce((t,e)=>(e&&(t[e]=!0),t),{});if("on"===s){t.removeAttribute(e);const s=i.framework.Ut(c);return s?i.Kt(t,c,n,s,h):i.Xt(t,c,n,h)}return t.removeAttribute(e),i.Pt(t,c,n)}}Bt(t,e){if(!i)return;this.M();const n=this.m(),s=(e||"").trim();if(s)try{const e=this.It(s,t);this.Z.set(t,e)}catch(t){}else this.Y.set(t,n);this.$(t,{type:"transition",expression:e})}Ht(t,e){if(!i)return void(e&&e());const n=this.m();let s=null;const o=this.Z.get(t);if(o)try{s=o()}catch(t){s=null}const r=this.Y.get(t)||null,c=Object.assign({},n,s&&"object"==typeof s?s:r||{}),{enter:l,enterFrom:h,enterTo:f}=c,a=()=>{try{l&&this.Vt(t,l),f&&this.Vt(t,f)}catch(t){}e&&e()};l||h||f?(l&&this.Yt(t,l),h&&this.Yt(t,h),h&&this.Vt(t,h),f&&this.Yt(t,f),this.Zt(t,a)):a()}Gt(t,e){if(!i)return void(e&&e());const n=this.m();let s=null;const o=this.Z.get(t);if(o)try{s=o()}catch(t){s=null}const r=this.Y.get(t)||null,c=Object.assign({},n,s&&"object"==typeof s?s:r||{}),{leave:l,leaveFrom:h,leaveTo:f}=c,a=()=>{try{l&&this.Vt(t,l),f&&this.Vt(t,f)}catch(t){}e&&e()};l||h||f?(l&&this.Yt(t,l),h&&this.Yt(t,h),h&&this.Vt(t,h),f&&this.Yt(t,f),this.Zt(t,a)):a()}Zt(t,e){let n=!1;const i=()=>{if(!n){n=!0;try{t.removeEventListener("transitionend",i),t.removeEventListener("animationend",i)}catch(t){}e()}};try{t.addEventListener("transitionend",i),t.addEventListener("animationend",i),setTimeout(i,500)}catch(t){e()}}Jt(t){return t?Array.isArray(t)?t.map(String).flatMap(t=>(t+"").split(/\s+/)).filter(Boolean):"string"==typeof t?t.split(/\s+/).filter(Boolean):[]:[]}Yt(t,e){const n=this.Jt(e);if(n.length)try{t.classList.add(...n)}catch(e){for(const e of n)try{t.classList.add(e)}catch(t){}}}Vt(t,e){const n=this.Jt(e);if(n.length)try{t.classList.remove(...n)}catch(e){for(const e of n)try{t.classList.remove(e)}catch(t){}}}Nt(t,e){const n=()=>{this.X=n;try{t()}finally{this.X=null}};if(n(),this.P.add(n),y&&e&&void 0===e.Qt){let t=!1;for(const e of this.K.values())if(e.includes(n)){t=!0;break}e.Qt=!t}return n}qt(t,e,n){if("class"===n||n===l)return this.Pt(t,n,e);const i=this.It(e,t);let s,o;"show"===n&&(s=t.style[h]!==f?t.style[h]:void 0);const r={type:n,expression:e,update:void 0,originalDisplay:s};this.$(t,r);const c=this.Nt(()=>{const e=i(),r=t;switch(n){case"text":r.textContent=e+"";break;case"html":r.innerHTML=(e||"")+"";break;case"show":const t=!!e;if(o===t)return;o=t,t?(r.style[h]=s||"",this.Ht(r)):this.Gt(r,()=>{r.style[h]=f})}},r);r.update=c}Wt(t,e){const n="checkbox"===t.type,i="number"===t.type||"range"===t.type,s="SELECT"===t.tagName&&!0===t.multiple;Reflect.has(this.ct,e)||Reflect.defineProperty(this.ct,e,{configurable:!0,enumerable:!0,writable:!0});const o=this.It(e,t),r=this.te(e+" = $value",!0),c=n?(()=>{if(t.hasAttribute("value"))return t.value;const e=this.ee(t);if(e){const t=Object.keys(e);if(1===t.length)return e[t[0]]}return t.value})():void 0;this.Nt(()=>(e=>{if(n)if(Array.isArray(e)){const n=t.hasAttribute("value")?t.value:c;t.checked=null!=n&&e.includes(n)}else t.checked=!!e;else{if(s){const n=t,i=Array.isArray(e)?e:[];for(let t=0;n.options.length>t;t++){const e=n.options[t];e.selected=i.includes(e.value)}return}t.value=(null!=e?e:i?0:"")+""}})(o()));const l=this.Et(void 0,t),h=t.type;this.ot(t,"SELECT"===t[a]||"checkbox"===h||"radio"===h||"file"===h?"change":"input",()=>{const e=(()=>{if(n)return Array.isArray(o())&&void 0!==c?t.checked?c:void 0:t.hasAttribute("value")?t.checked?t.value:void 0:t.checked;if(s){const e=t,n=[];for(let t=0;e.options.length>t;t++){const i=e.options[t];i.selected&&n.push(i.value)}return n}return i?parseFloat(t.value)||0:t.value})(),h=this.nt(()=>o(),"model read",void 0);if(n&&Array.isArray(h)){const e=h,n=t.hasAttribute("value")?t.value:c;if(void 0!==n){const i=e.indexOf(n);t.checked?-1===i&&e.push(n):i>-1&&e.splice(i,1)}}else if(s&&Array.isArray(h)){const t=h;t.splice(0,t.length),e.forEach(e=>t.push(e))}else l.$value=e,this.nt(()=>{r.call(this.bt(),l)})}),this.$(t,{type:"model",property:e})}Lt(t,e){var i;const s=this,o=p.createComment("x-if");null==(i=t.parentNode)||i.insertBefore(o,t),t.ne=o.parentElement||null;const r=[],c=t=>{if(t[a]===u){const e=p.createElement("div");return e.style[h]="contents",e.appendChild(t.content.cloneNode(!0)),{el:e,isTemplate:!0}}return{el:t,isTemplate:!1}},l=c(t),f=s.It(e,t);r.push({el:l.el,test:f,isTemplate:l.isTemplate}),l.isTemplate||(l.el.ie=!0);const y=[t];if(n&&n){let e=t.nextElementSibling;for(;e;){const t=e.hasAttribute("x-else"),n=e.hasAttribute("x-else-if");if(!t&&!n)break;if(e.hasAttribute("x-else-if")){const t=e.getAttribute("x-else-if")||"",n=c(e),i=s.It((t||"").trim(),e);r.push({el:n.el,test:i,isTemplate:n.isTemplate}),n.isTemplate||(n.el.ie=!0)}else{const t=c(e);r.push({el:t.el,test:null,isTemplate:t.isTemplate}),t.isTemplate||(t.el.ie=!0)}e.removeAttribute("x-else"),e.removeAttribute("x-else-if"),y.push(e),e=e.nextElementSibling}}let v=-1;for(const t of y)t.parentNode&&t.parentNode.removeChild(t);const m=e=>{var n,i,c;if(0>e)return;const l=r[e];l.el.ie||(s.xt(l.el),l.el.ie=!0),null==(i=null==(n=t.se)?void 0:n.parentNode)||i.removeChild(t.se),l.el.parentNode||(null==(c=o.parentNode)||c.insertBefore(l.el,o.nextSibling),this.Ht(l.el)),t.se=l.el,v=e},b=(t,e)=>{if(0>t)return void(e&&e());const n=r[t];n.el.parentNode?this.Gt(n.el,()=>{n.el.parentNode&&n.el.parentNode.removeChild(n.el),e&&e()}):e&&e(),v=-1},w=s.Nt(()=>{let t=-1;for(let e=0;r[d]>e;e++){const n=r[e];if(!n.test||n.test()){t=e;break}}t!==v&&(-1!==v?b(v,()=>m(t)):m(t))});s.$(t,{type:"if",expression:e,update:w})}Xt(t,e,n,i){const s=this,o=(n||"").trim(),c=s.oe(o),l=i?{once:!!i.once,passive:!!i.passive,capture:!!i.capture}:void 0,h=!(null==i||!i.self),f=!(null==i||!i.prevent),a=!(null==i||!i.stop),u=!(null==i||!i.outside),d=!(null==i||!i.defer),y={enter:["enter"],esc:["escape","esc"],escape:["escape","esc"],space:[" ","space","spacebar"],tab:["tab"],backspace:["backspace"],delete:["delete","del"],del:["delete","del"],arrowup:["arrowup","up"],arrowdown:["arrowdown","down"],arrowleft:["arrowleft","left"],arrowright:["arrowright","right"],home:["home"],end:["end"],pageup:["pageup"],pagedown:["pagedown"]},v={ctrl:!(null==i||!i.ctrl),alt:!(null==i||!i.alt),shift:!(null==i||!i.shift),meta:!(null==i||!i.meta)},m={left:0,middle:1,right:2},b=!(null==i||!i.single),w=!(null==i||!i.multi),_=i?r(i):[],x=[];for(const t of _){const e=y[t.toLowerCase()];e&&x.push(...e)}const g=[];for(const t of _){const e=m[t.toLowerCase()];void 0!==e&&g.push(e)}const M=x.length>0||v.ctrl||v.alt||v.shift||v.meta,$=g.length>0,k=b||w,E=e=>{const n=e.composedPath?e.composedPath():null,i=n&&n.length?n[0]:e.target;if(u&&(!i||t instanceof Node&&(t===i||t.contains(i)))||h&&e.target!==t)return!1;if(k){if(!(e instanceof TouchEvent))return!1;{const t=e.touches.length;if(b&&1!==t||w&&2>t)return!1}}if($){if(!(e instanceof MouseEvent))return!1;if(!g.includes(e.button))return!1}if(M){if(!(e instanceof KeyboardEvent))return!1;const t=(e.key||"").toLowerCase();if(x.length>0&&!x.includes(t)||v.ctrl&&!e.ctrlKey||v.alt&&!e.altKey||v.shift&&!e.shiftKey||v.meta&&!e.metaKey)return!1}return!0},T=!!o;let A=null;const R=s.bt();if(c){const e=s.re(c.paramsList,c.body,c.isBlock),n=c.paramsList.length?e=>c.paramsList.map((n,i)=>0===i?e:1===i?t:void 0):()=>[];A=i=>{const o=s.Et(i,t);e.call(R,o,...n(i))}}else if(T){const e=o.includes(";"),n=s.te(o,e);A=e=>{const i=s.Et(e,t),o=n.call(R,i);"function"==typeof o&&o.call(R,e)}}const O=t=>{if(E(t)&&(f&&"function"==typeof t.preventDefault&&t.preventDefault(),a&&"function"==typeof t.stopPropagation&&t.stopPropagation(),A)){if(d&&"function"==typeof queueMicrotask){const e=t;return void queueMicrotask(()=>s.nt(()=>A(e)))}s.nt(()=>A(t))}},F=!!this.framework._().delegate&&["click","input","change","keydown","keyup"].includes(e);if(!u&&F){const n=this.framework.ce(t,e,{filter(t){return E(t)},run(t){return O(t)},once:!(null==i||!i.once),comp:this});this.st(n)}else{const n=u?(null==t?void 0:t.ownerDocument)||p||document:t;s.ot(n,e,O,l)}}te(t,e=!1){const n=`${e?"s":"r"}:${t}`;let i=this.U.get(n);return i||(i=Function("ctx",`with(ctx){${e?t:`return (${t})`}}`),this.U.set(n,i)),i}It(t,e){const n=this,i=n.te(t);return()=>this.nt(()=>i.call(n.bt(),n.Et(void 0,e)),"Error evaluating expression: "+t)}oe(t){let e=t.match(/^\s*\(\s*([^)]*?)\s*\)\s*=>\s*([\s\S]+)$/);if(e||(e=t.match(/^\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=>\s*([\s\S]+)$/)),!e)return null;const n=(e[1]||"").split(",").map(t=>t.trim()).filter(Boolean),i=(e[2]||"").trim(),s=i.startsWith("{")&&i.endsWith("}");return{paramsList:n,body:s?i.slice(1,-1):i,isBlock:s}}re(t,e,n){return Function("ctx",...t,"with(ctx){ "+(n?e:"return ( "+e+" );")+" }")}le(e,n){if(Object.getPrototypeOf(e)!==Object.prototype&&!t(e))return e;const i=this;if(this.Rt||(this.Rt=new WeakMap),this.Rt.has(e))return this.Rt.get(e);const s=new Proxy(e,{get(e,s,o){if(t(e)){if(s===Symbol.iterator)return i.vt(n),Reflect.get(e,s,o);("length"===s||"string"==typeof s&&/^\d+$/.test(s))&&i.vt(n)}else i.vt(n);const r=Reflect.get(e,s,o);return t(e)&&"function"==typeof r&&["push","pop","shift","unshift","splice","sort","reverse","copyWithin","fill"].includes(s)?(...t)=>{const s=e,o=s.length,c=s[0],l=s[o-1],h=r.apply(e,t);return(s.length!==o||s[0]!==c||s[s.length-1]!==l)&&i.ut(n),h}:r&&"object"==typeof r?i.le(r,n):r},ownKeys(t){return Reflect.ownKeys(t)},has(t,e){return Reflect.has(t,e)},set(t,e,s){if(i.v||"symbol"==typeof e)return!0;const o=Reflect.has(t,e),r=o?Reflect.get(t,e):void 0;if(s&&"object"==typeof s&&i.le(s,n),!o){try{Reflect.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:s})}catch(n){Reflect.set(t,e,s)}return i.ut(n),!0}return r===s||(Reflect.set(t,e,s),i.ut(n)),!0},deleteProperty(t,e){return Reflect.deleteProperty(t,e)}});return this.Rt.set(e,s),s}lt(e){const n=this;return new Proxy(e,{get(t,e,i){const s=Reflect.get(t,e,i);return e===Symbol.iterator?s:("symbol"!=typeof e&&n.vt(e),s&&"object"==typeof s?n.le(s,e):s)},ownKeys(t){return Reflect.ownKeys(t)},has(t,e){return Reflect.has(t,e)},set:(e,i,s,o)=>{if(n.v)return!0;if(i===Symbol.iterator&&t(e))return s;const r=Reflect.get(e,i);if(r===s)return!0;if(Reflect.has(e,i))Reflect.set(e,i,s,o);else try{Reflect.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s})}catch(t){Reflect.set(e,i,s,o)}if(this.ut(i),this.T&&"$props"!==i){const t=e.$props;t&&(t[i]=s);const n=this.S[i];n&&!this.A&&(this.A=!0,this.nt(()=>n.call(this.bt(),s,r)),this.A=!1)}return!0}})}bt(t=!0){const e={$log(){},$destroy:()=>this.destroy(),$forceUpdate:()=>this.dt(),$addCleanupFunction:t=>this.st(t),$nextTick:t=>t?(this.V.push(t),void(this.H||queueMicrotask(()=>{if(!this.H&&this.V.length){const t=this.V.splice(0,this.V.length);for(const e of t)try{e()}catch(t){}}}))):new Promise(t=>{this.V.push(()=>t()),this.H||queueMicrotask(()=>{if(!this.H&&this.V.length){const t=this.V.splice(0,this.V.length);for(const e of t)try{e()}catch(t){}}})}),$el:this.h,$id:this.o,$isMounted:this.p,$isDestroyed:this.v,$parent:this.t,$children:this.O,$mutate:t=>{const e=this.N,n=this.I;this.N=!1,this.I=!1;try{return"function"==typeof t?t():void 0}finally{this.N=e,this.I=n,this.dt()}}};return new Proxy(this.ct,{get:(t,n)=>n in t?(this.vt(n),t[n]):n in this.F?this.yt(n):n in e?e[n]:this.ht[n],set:(t,e,n)=>(this.I||(this.ct[e]=n),!0)})}Et(t,e){const n=this,i=e?this.ee(e):null,s=i?new Set(r(i)):new Set,o="undefined"!=typeof window?window:void 0,c="undefined"!=typeof document?document:void 0,l=this.framework._(),h=!!l.sandboxExpressions,f=new Set((l.allowGlobals||[]).map(t=>t+"")),a=t=>{if(!t||"function"!=typeof t.addEventListener)return t;const e=new WeakMap,i=(t,e)=>{try{return t+"|"+(void 0===e?"":"object"==typeof e?JSON.stringify(e):e+"")}catch(e){return t+"|"}};return new Proxy(t,{get(t,s,o){if("addEventListener"===s)return(s,o,r)=>{t.addEventListener(s,o,r);const c=n.st(()=>{try{t.removeEventListener(s,o,r)}catch(t){}});try{if("function"==typeof o&&c){let t=e.get(o);t||(t=new Map,e.set(o,t)),t.set(i(s,r),c)}}catch(t){}};if("removeEventListener"===s)return(n,s,o)=>{try{t.removeEventListener(n,s,o)}catch(t){}try{if("function"==typeof s){const t=e.get(s);if(t){const r=i(n,o),c=t.get(r);if(c){try{c()}catch(t){}t.delete(r)}0===t.size&&e.delete(s)}}}catch(t){}};if("querySelector"===s)return e=>{const n=t.querySelector(e);return a(n)};if("querySelectorAll"===s)return e=>{const n=t.querySelectorAll(e);return Array.from(n).map(a)};if("getElementById"===s)return e=>{const n=t.getElementById(e);return a(n)};if("document"===s){const e=t.document;return a(e)||e}if("body"===s&&t===c){const e=t.body;return a(e)||e}if("defaultView"===s&&t===c){const e=t.defaultView;return a(e)||e}return Reflect.get(t,s,o)}})},u=new Map,d=new Map,y=new Map,p=t=>{if(!t)return;const e=(...e)=>{const i=new t(...e);return n.st(()=>{try{i.disconnect()}catch(t){}}),i};return e.prototype=t.prototype,e},v={$target:e||null,$event:t||null,...h&&!f.has("setTimeout")?{}:{setTimeout(t,e,...i){var s;const r=null==(s=null==o?void 0:o.setTimeout)?void 0:s.call(o,t,e,...i);if(null!=r){const t=n.st(()=>{var t;try{null==(t=null==o?void 0:o.clearTimeout)||t.call(o,r)}catch(t){}});u.set(r,t)}return r}},...h&&!f.has("clearTimeout")?{}:{clearTimeout(t){var e;try{null==(e=null==o?void 0:o.clearTimeout)||e.call(o,t)}catch(t){}finally{try{const e=u.get(t);e&&(e(),u.delete(t))}catch(t){}}}},...h&&!f.has("setInterval")?{}:{setInterval(t,e,...i){var s;const r=null==(s=null==o?void 0:o.setInterval)?void 0:s.call(o,t,e,...i);if(null!=r){const t=n.st(()=>{var t;try{null==(t=null==o?void 0:o.clearInterval)||t.call(o,r)}catch(t){}});d.set(r,t)}return r}},...h&&!f.has("clearInterval")?{}:{clearInterval(t){var e;try{null==(e=null==o?void 0:o.clearInterval)||e.call(o,t)}catch(t){}finally{try{const e=d.get(t);e&&(e(),d.delete(t))}catch(t){}}}},...h&&!f.has("requestAnimationFrame")?{}:{requestAnimationFrame(t){var e;const i=null==(e=null==o?void 0:o.requestAnimationFrame)?void 0:e.call(o,t);if(null!=i){const t=n.st(()=>{var t;try{null==(t=null==o?void 0:o.cancelAnimationFrame)||t.call(o,i)}catch(t){}});y.set(i,t)}return i}},...h&&!f.has("cancelAnimationFrame")?{}:{cancelAnimationFrame(t){var e;try{null==(e=null==o?void 0:o.cancelAnimationFrame)||e.call(o,t)}catch(t){}finally{try{const e=y.get(t);e&&(e(),y.delete(t))}catch(t){}}}},...h&&!f.has("MutationObserver")?{}:{MutationObserver:p(null==o?void 0:o.MutationObserver)},...h&&!f.has("ResizeObserver")?{}:{ResizeObserver:p(null==o?void 0:o.ResizeObserver)},...h&&!f.has("IntersectionObserver")?{}:{IntersectionObserver:p(null==o?void 0:o.IntersectionObserver)},...h&&!f.has("window")?{}:{window:a(o)},...h&&!f.has("document")?{}:{document:a(c)}};return new Proxy({},{get(t,e){return i&&e in i?i[e]:e in n.ct?n.ct[e]:e in n.F?n.yt(e):e in n.ht?n.ht[e]:e in v?v[e]:void 0},set(t,e,o){return i&&s.has(e)?i[e]=o:n.ct[e]=o,!0},has(t,e){return!(!i||!(e in i))||e in n.ct||e in n.F||e in n.ht||e in v}})}Kt(t,e,n,i,s){const o=this,r=o.It(n,t),c={type:"custom",expression:n,customDirective:i};i.bind&&o.nt(()=>i.bind(t,r(),n,o,s,r));const l=o.Nt(()=>{i.update&&o.nt(()=>i.update(t,r(),n,o,s,r))});c.update=l,o.$(t,c)}Pt(e,n,i){const s=this,o=s.It(i,e);if("class"===n){const t=e;if(!s.G.get(t)){const e=new Set,n=t.className||"";if(n)for(const t of n.split(/\s+/))t&&e.add(t);s.G.set(t,e)}}const r=e;let c=null;if(n in r)c=n;else{const t=n.replace(/-([a-z])/g,(t,e)=>e.toUpperCase());t in r?c=t:"readonly"===n.toLowerCase()&&"readOnly"in r&&(c="readOnly")}const h=!(!c||"boolean"!=typeof r[c]),f=!(!c||!(c in r)||"function"==typeof r[c]),a=!!b.he[n.toLowerCase()],u=s.Nt(()=>{const i=o();if("class"===n){const n=e,o=s.G.get(n);if("string"==typeof i)n.className=o&&o.size?[...o].join(" ")+(i?" "+i:""):i||"";else if(t(i))n.className=o&&o.size?[...o,...i.filter(Boolean)].join(" "):i.filter(Boolean).join(" ");else if(i&&"object"==typeof i){o&&o.size&&(n.className=[...o].join(" "));for(const t in i){const e=!!i[t];if(!t)continue;const s=t.split(/\s+/);for(let t=0;s.length>t;t++){const i=s[t];i&&n.classList.toggle(i,e)}}}else null==i&&o&&o.size?n.className=[...o].join(" "):null==i&&n.removeAttribute("class");return}if(n===l){const t=e;return"string"==typeof i?void(t.style.cssText=i):i&&"object"==typeof i?void Object.assign(t.style,i):void(null==i&&t.removeAttribute("style"))}if(h&&c||a){const t=!!i;return c&&h&&(r[c]=t),void(t?e.setAttribute(n,""):e.removeAttribute(n))}let u=null;if(i&&"object"==typeof i){const t=[];for(const e in i)i[e]&&t.push(e);u=t.length?t.join(" "):null}else null!=i&&(u=i+"");if(f&&c)if(null!==u)try{r[c]=u}catch(t){try{e.setAttribute(n,u)}catch(t){}}else e.removeAttribute(n);else null!==u?e.getAttribute(n)!==u&&e.setAttribute(n,u):e.hasAttribute(n)&&e.removeAttribute(n)});s.$(e,{type:"bind",expression:i,update:u})}ee(t){if(!t)return null;if(!t.parentElement){const e=t.se;if(e&&e.parentElement)t=e;else{const e=t.ne;e&&(t=e)}}const e={};let n=t;for(;n;){const t=this.L.get(n);if(t&&Object.assign(e,t),n===this.element)break;n=n.parentElement}return r(e).length?e:null}fe(t){for(const[e,n]of this.k)for(const i of n)(t===e||e instanceof Element&&t.contains(e))&&i.update&&i.update()}zt(t,e){var n,i,r;const c=this,l=e.trim().match(/^(?:\(\s*([^,\s]+)\s*(?:,\s*([^\)]+))?\s*\)|([^,\s]+))\s+(in|of)\s+(.+)$/);if(!l)return;const f=l[1]||l[3],d=l[2],y=l[5],v=p.createComment("x-for");let m;null==(n=t.parentNode)||n.insertBefore(v,t),t[a]===u?(m=p.createElement("div"),m.style[h]="contents",m.appendChild(t.content.cloneNode(!0)),null==(i=t.parentNode)||i.removeChild(t)):(m=t,null==(r=t.parentNode)||r.removeChild(t));const b=v.parentElement||c.element,w=c.It(y.trim(),b),_=[],x=(t,e)=>{const n={[f]:t};return d&&(n[d]=e),n},g={type:"for",expression:e},M=c.Nt(()=>{const t=c.nt(()=>{const t=w();if(o(t))return{list:t,keys:null};if("undefined"!=typeof Map&&t instanceof Map)return{list:s(t.values()),keys:s(t.keys())};if("undefined"!=typeof Set&&t instanceof Set)return{list:s(t.values()),keys:null};if(t&&"function"==typeof t[Symbol.iterator])return{list:s(t),keys:null};if(t&&"object"==typeof t){const e=Object.keys(t);return{list:e.map(e=>t[e]),keys:e}}return{list:[],keys:null}},"x-for eval error",{list:[],keys:null}),e=t.list,n=t.keys;if(_.length>e.length)for(;_.length>e.length;){const t=_.pop();t.parentNode&&t.parentNode.removeChild(t)}const i=Math.min(_.length,e.length);for(let t=0;i>t;t++){const i=_[t];c.L.set(i,x(e[t],n?n[t]:t)),c.fe(i)}if(e.length>_.length){const t=p.createDocumentFragment(),i=_.length;for(let s=i;e.length>s;s++){const i=m.cloneNode(!0);i.removeAttribute("x-for"),c.L.set(i,x(e[s],n?n[s]:s));try{c.xt(i)}catch(t){}t.appendChild(i),_.push(i)}const s=_[i-1]||v;s.parentNode&&s.parentNode.insertBefore(t,s.nextSibling)}},g);g.update=M,c.$(v,g)}wt(){const t=this;for(const e of t.k.values())for(const t of e)if((!y||!t.Qt)&&t.update)try{t.update()}catch(t){}}}return b.he={itemscope:1,formnovalidate:1,novalidate:1,default:1},new class{constructor(){this.ae=new Map,this.ue=new WeakMap,this.de=[],this.ye={},this.pe=new Map,this.ve=new Map,this.me=new WeakMap,this.be=!1,this.directive=(t,e)=>{if(t.startsWith(v+"-"))throw Error(`Custom directive names should not start with "${v}-". Use: XTool.directive("my-directive", ...)`);return this.pe.set(t,e),this},this.registerComponent=t=>{if(!t||!t.name)throw Error("registerComponent requires a name");const e=t.name.toLowerCase();if(this.ve.has(e))throw Error(`Component name "${e}" already registered`);return this.ve.set(e,t),this},this.we=t=>this.ve.get(t.toLowerCase()),this.Ut=t=>this.pe.get(t),this._=()=>this.ye,this.init=(t={})=>{this.ye={container:"body",debug:!1,staticDirectives:!0,...t},"boolean"==typeof this.ye.staticDirectives&&(y=this.ye.staticDirectives);const e=this.ye.prefix;if(v=e&&"string"==typeof e&&e[d]>0?e:"x",p&&"loading"===p.readyState)p.addEventListener("DOMContentLoaded",()=>{this._e(),this.xe();const t=null==p?void 0:p.querySelector(this.ye.container);t&&(this.ge(t),this.ye.delegate&&this.Me(t))});else if(!p||"complete"===p.readyState||"interactive"===p.readyState){this._e(),this.xe();const t=null==p?void 0:p.querySelector(this.ye.container);t&&(this.ge(t),this.ye.delegate&&this.Me(t))}return this},this.createComponent=t=>{const e=new b(this.$e(),t,this);return this.ae.set(e.id,e),e.callBeforeMount(),e},this.xe=()=>{const t=null==p?void 0:p.querySelector(this.ye.container);if(!t)return;const e=t.querySelectorAll(`[${m("data")}]`);for(const t of e)this.gt(t)||this.ke(t);const n=t.querySelectorAll("component[source]");for(const t of n)this.gt(t)||this.Ee(t);if(this.Te(),0===e[d]&&!this.gt(t)){const e=s(this.ae.values()),n=e[e[d]-1];n&&!n.isBound&&n.bindToElement(t)}},this.Te=()=>{if(this.de[d]){for(const t of this.de){let e,n=t.el.parentElement;for(;n&&!e;){const t=this.gt(n);t?e=t:n=n.parentElement}e&&t.comp.attachToParent(e)}for(const t of this.de)t.comp.completeBinding();this.de=[]}},this.ke=(t,e)=>{var n,i;const s=t.getAttribute(m("data"));let o={};if(s){t.removeAttribute(m("data"));try{if(e){let t={};try{t=(null==(n=e.bt)?void 0:n.call(e))||{}}catch(e){t={}}o=Function("parent",`with(parent){ return (${s}) }`)(t)}else o=this.Ae(s);o=o.methods?{methods:o.methods,data:{...o}}:{data:{...o}},e&&(o.data.$parent=e)}catch(t){}}const r=this.createComponent(o);r.element=t,r.callBeforeMount(),this.Mt(r.element,r),this.de.push({el:t,comp:r});const c=t.getAttribute(m("init"));if(c){t.removeAttribute(m("init"));const e=null==(i=r.et)?void 0:i.mounted;r.et.mounted=function(){if(e)try{e.call(this)}catch(t){}const t=Function("ctx","with(ctx){"+c+"} ");queueMicrotask(()=>{var e,n;if(!r.isDestroyed&&r.element&&r.element.isConnected)try{const i=(null==(e=r.bt)?void 0:e.call(r))||(null==(n=r.getContext)?void 0:n.call(r))||{},s=t(i);if("function"==typeof s)try{s()}catch(t){}}catch(t){}})}}},this.$e=()=>"component_"+Date.now()+"_"+Math.random().toString(36).substring(2,9),this.Ae=t=>{try{return Function("return "+t.trim())()}catch(t){return{}}},this.Ot=t=>{this.ae.delete(t)},this.Re=()=>{},this.Mt=(t,e)=>{this.ue.set(t,e)},this.At=t=>{try{this.ue.delete(t)}catch(t){}}}_e(){if(!p||"x"===v)return;const t="x-tool-initial-css-"+v;if(p.head&&!p.getElementById(t)){const e=p.createElement(l);e.id=t,e.textContent=`[${v}-show],[${v}-if],[${v}-else],[${v}-else-if],[${v}\\:show],[${v}\\:if],[${v}\\:else],[${v}\\:else-if]{display:none;}`,p.head.appendChild(e)}}ge(t){this.Oe||"undefined"==typeof MutationObserver||(this.Oe=new MutationObserver(t=>{for(const e of t)if("childList"===e.type){for(let t=0;e.addedNodes.length>t;t++){const n=e.addedNodes[t];if(1!==n.nodeType)continue;const i=n;"COMPONENT"===i[a]&&i.getAttribute("source")&&!this.gt(i)&&this.Ee(i)}for(let t=0;e.removedNodes.length>t;t++){const n=e.removedNodes[t];if(1!==n.nodeType)continue;const i=n;queueMicrotask(()=>{if(i.isConnected)return;const t=[i];for(;t.length;){const e=t.pop(),n=this.gt(e);if(n&&!n.isDestroyed)try{n.destroy()}catch(t){}let i=e.firstElementChild;for(;i;)t.push(i),i=i.nextElementSibling}})}}else if("attributes"===e.type){const t=e.target;t&&"COMPONENT"===t[a]&&"source"===e.attributeName&&this.Fe(t)}this.Te()}),this.Oe.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["source"]}))}Fe(t){const e=(t.getAttribute("source")||"").trim(),n=this.gt(t);if(e){if(n&&!n.isDestroyed)try{n.destroy()}catch(t){}t.innerHTML="",this.Ee(t)}else{if(n&&!n.isDestroyed)try{n.destroy()}catch(t){}t.innerHTML=""}}Ee(t){const e=t.getAttribute("source");if(!e)return;const n=this.we(e);if(!n)return;let i,s=t.parentElement;for(;s&&!i;){const t=this.gt(s);t?i=t:s=s.parentElement}let o=null,r=null,c=null;o||(o={});const l=t.getAttribute(m("prop"));if(l){if(c=l,i)try{r=Function("ctx","with(ctx){return ("+l+")}")(i.getContext(!0))}catch(t){r=null}else try{r=Function("return ("+l+")")()}catch(t){r=null}if(r&&"object"==typeof r)for(const t in r)t in o||(o[t]=r[t]+"");t.removeAttribute(m("prop"))}let h,f={};if(n.makeData)try{f=n.makeData(o)||{}}catch(t){f={}}if(n.data)for(const t in n.data)f[t]=n.data[t];for(const t in o)t in f||(f[t]=o[t]);if(f.$props=o,"function"==typeof n.init)try{const t=n.init(o);h=t&&"object"==typeof t?t:void 0}catch(t){h=void 0}const a={data:f,methods:{...n.methods||{},...(null==h?void 0:h.methods)||{}},computed:{...n.computed||{},...(null==h?void 0:h.computed)||{}},propEffects:{...n.propEffects||{},...(null==h?void 0:h.propEffects)||{}},mounted:(null==h?void 0:h.mounted)||n.mounted,unmounted:(null==h?void 0:h.unmounted)||n.unmounted,beforeMount:(null==h?void 0:h.beforeMount)||n.beforeMount,beforeUnmount:(null==h?void 0:h.beforeUnmount)||n.beforeUnmount,updated:(null==h?void 0:h.updated)||n.updated,destroyed:(null==h?void 0:h.destroyed)||n.destroyed,beforeDestroy:(null==h?void 0:h.beforeDestroy)||n.beforeDestroy},u=this.createComponent(a);u.element=t;const d=[];for(;t.firstChild;){const e=t.firstChild;d.push(e),t.removeChild(e)}if(n.template){const e=e=>{var n;t.innerHTML=e;const i=t.querySelectorAll("slot");if(i.length)for(const t of i){const e=t.getAttribute("name");let i=[];if(i=d.filter(e?t=>1===t.nodeType&&t.getAttribute("slot")===e:t=>1!==t.nodeType||!t.hasAttribute("slot")),i.length){const e=p.createDocumentFragment();for(const t of i)e.appendChild(t);null==(n=t.parentNode)||n.replaceChild(e,t)}}},i=n.template;if("string"==typeof i)e(i);else if("function"==typeof i)try{const n=i();n&&"function"==typeof n.then?(t.innerHTML="",n.then(t=>{e(t||"");try{u._t()}catch(t){}})):e((n||"")+"")}catch(e){t.innerHTML=""}else i&&"function"==typeof i.then&&(t.innerHTML="",i.then(t=>{e(t||"");try{u._t()}catch(t){}}))}else for(const e of d)t.appendChild(e);this.Mt(t,u);try{const e=t.querySelectorAll(`[${m("data")}]`);for(const t of e)this.gt(t)||this.ke(t,u)}catch(t){}if(this.de.push({el:t,comp:u}),c&&i)try{u.Ft(c,i)}catch(t){}this.Te()}gt(t){return this.ue.get(t)}observe(t){}Me(t){if(this.be)return;const e=t,n=t=>{let n=t.target;for(;n&&n!==e.parentElement&&!t.cancelBubble;){const e=this.me.get(n);if(e){const n=e.get(t.type);if(n&&n.length)for(const e of[...n])try{if(e.comp&&e.comp.isDestroyed){const t=n.indexOf(e);t>-1&&n.splice(t,1);continue}if((!e.filter||e.filter(t))&&(e.run(t),e.once)){const t=n.indexOf(e);t>-1&&n.splice(t,1)}}catch(t){}}n=n.parentElement}},i=["keydown","keyup"],s=["click","input","change"];for(const t of i)e.addEventListener(t,n,!0);for(const t of s)e.addEventListener(t,n,!1);this.be=!0}ce(t,e,n){let i=this.me.get(t);i||(i=new Map,this.me.set(t,i));let s=i.get(e);return s||(s=[],i.set(e,s)),s.push(n),()=>{try{const i=this.me.get(t),s=null==i?void 0:i.get(e);if(!s)return;const o=s.indexOf(n);o>-1&&s.splice(o,1)}catch(t){}}}}})();if("undefined"!=typeof window){const t=window;t.XTool=s,t.FyneJS=s}})();
//# sourceMappingURL=x-tool.ultra.min.js.map